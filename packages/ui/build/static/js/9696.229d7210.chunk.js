"use strict";(self.webpackChunkflowise_ui=self.webpackChunkflowise_ui||[]).push([[9696],{97272:(e,t,s)=>{s.d(t,{c:()=>a});var n=s(31060);const a={getAllAssistants:()=>n.c.get("/assistants"),getSpecificAssistant:e=>n.c.get("/assistants/".concat(e)),getAssistantObj:(e,t)=>n.c.get("/openai-assistants/".concat(e,"?credential=").concat(t)),getAllAvailableAssistants:e=>n.c.get("/openai-assistants?credential=".concat(e)),createNewAssistant:e=>n.c.post("/assistants",e),updateAssistant:(e,t)=>n.c.put("/assistants/".concat(e),t),deleteAssistant:(e,t)=>t?n.c.delete("/assistants/".concat(e,"?isDeleteBoth=true")):n.c.delete("/assistants/".concat(e))}},72800:(e,t,s)=>{s.d(t,{c:()=>f});var n=s(59192),a=s(81710),i=s(30938),o=s(23364),l=s(84868),r=s(78508),c=s(59756),d=s(74996),p=s(63556),h=s(2340),u=s(26e3),x=s(63896),m=s(80576),g=s(9e4);const v=(0,u.cp)(r.c)({boxShadow:"0px 8px 10px -5px rgb(0 0 0 / 20%), 0px 16px 24px 2px rgb(0 0 0 / 14%), 0px 6px 30px 5px rgb(0 0 0 / 12%)",borderRadius:"10px",["& .".concat(o.c.listbox)]:{boxSizing:"border-box","& ul":{padding:10,margin:10}}}),f=e=>{let{name:t,nodeData:s,value:o,onSelect:r,isCreateNewOption:u,onCreateNew:f,credentialNames:j=[],disabled:y=!1,disableClearable:b=!1}=e;const w=(0,a.w1)((e=>e.customization)),[C,S]=(0,n.useState)(!1),[A,D]=(0,n.useState)([]),[N,I]=(0,n.useState)(!1),k=[{label:"- Create New -",name:"-create-"}];let[O,T]=(0,n.useState)(null!==o&&void 0!==o?o:"choose an option");return(0,n.useEffect)((()=>{I(!0),(async()=>{(async()=>{let e=j.length?await(async()=>{try{let e="";e=j.length>1?j.join("&credentialName="):j[0];const t=await x.c.getCredentialsByName(e);if(t.data){const e=[];for(let s=0;s<t.data.length;s+=1){const n={label:t.data[s].name,name:t.data[s].id};e.push(n)}return e}}catch(e){console.error(e)}})():await(async e=>{var t;let{name:s,nodeData:n}=e;const a=null===(t=n.inputParams.find((e=>e.name===s)))||void 0===t?void 0:t.loadMethod,o=localStorage.getItem("username"),l=localStorage.getItem("password");return await i.c.post("".concat(m.OM,"/api/v1/node-load-method/").concat(n.name),{...n,loadMethod:a},{auth:o&&l?{username:o,password:l}:void 0}).then((async function(e){return e.data})).catch((function(e){console.error(e)}))})({name:t,nodeData:s});D(u?[...e,...k]:[...e]),I(!1)})()})()}),[]),(0,g.jsx)(g.Fragment,{children:(0,g.jsx)(l.c,{id:t,disabled:y,disableClearable:b,size:"small",sx:{width:"100%"},open:C,onOpen:()=>{S(!0)},onClose:()=>{S(!1)},options:A,value:function(){let e=arguments.length>1?arguments[1]:void 0;return(arguments.length>0&&void 0!==arguments[0]?arguments[0]:[]).find((t=>t.name===e))}(A,O)||"",onChange:(e,t)=>{const s=t?t.name:"";u&&"-create-"===s?f():(T(s),r(s))},PopperComponent:v,loading:N,renderInput:e=>(0,g.jsx)(c.c,{...e,value:O,InputProps:{...e.InputProps,endAdornment:(0,g.jsxs)(n.Fragment,{children:[N?(0,g.jsx)(d.c,{color:"inherit",size:20}):null,e.InputProps.endAdornment]})}}),renderOption:(e,t)=>(0,g.jsx)(p.c,{component:"li",...e,children:(0,g.jsxs)("div",{style:{display:"flex",flexDirection:"column"},children:[(0,g.jsx)(h.c,{variant:"h5",children:t.label}),t.description&&(0,g.jsx)(h.c,{sx:{color:w.isDarkMode?"#9e9e9e":""},children:t.description})]})})})})}},1604:(e,t,s)=>{s.d(t,{m:()=>m});var n=s(59192),a=s(81710),i=s(78508),o=s(61368),l=s(59756),r=s(63556),c=s(2340),d=s(23364),p=s(84868),h=s(26e3),u=s(9e4);const x=(0,h.cp)(i.c)({boxShadow:"0px 8px 10px -5px rgb(0 0 0 / 20%), 0px 16px 24px 2px rgb(0 0 0 / 14%), 0px 6px 30px 5px rgb(0 0 0 / 12%)",borderRadius:"10px",["& .".concat(d.c.listbox)]:{boxSizing:"border-box","& ul":{padding:10,margin:10}}}),m=e=>{let{name:t,value:s,options:i,onSelect:d,formControlSx:h={},disabled:m=!1,disableClearable:g=!1}=e;const v=(0,a.w1)((e=>e.customization));let[f,j]=(0,n.useState)(null!==s&&void 0!==s?s:[]);return(0,u.jsx)(o.c,{sx:{mt:1,width:"100%",...h},size:"small",children:(0,u.jsx)(p.c,{id:t,disabled:m,disableClearable:g,size:"small",multiple:!0,filterSelectedOptions:!0,options:i||[],value:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0,s=[];return s=t&&"string"===typeof t?JSON.parse(t):t,e.filter((e=>s.includes(e.name)))}(i,f)||[],onChange:(e,t)=>{let s="";if(t.length){const e=[];for(let s=0;s<t.length;s+=1)e.push(t[s].name);s=JSON.stringify(e)}j(s),d(s)},PopperComponent:x,renderInput:e=>(0,u.jsx)(l.c,{...e,value:f}),renderOption:(e,t)=>(0,u.jsx)(r.c,{component:"li",...e,children:(0,u.jsxs)("div",{style:{display:"flex",flexDirection:"column"},children:[(0,u.jsx)(c.c,{variant:"h5",children:t.label}),t.description&&(0,u.jsx)(c.c,{sx:{color:v.isDarkMode?"#9e9e9e":""},children:t.description})]})})})})}},59208:(e,t,s)=>{s.d(t,{S:()=>d});var n=s(59192),a=s(2973),i=s(61368),o=s(12464),l=s(79557),r=s(16828),c=s(9e4);const d=e=>{let{value:t,fileType:s,onChange:d,disabled:p=!1}=e;const h=(0,a.c)(),[u,x]=(0,n.useState)(null!==t&&void 0!==t?t:"");return(0,c.jsxs)(i.c,{sx:{mt:1,width:"100%"},size:"small",children:[(0,c.jsx)("span",{style:{fontStyle:"italic",color:h.palette.grey[800],marginBottom:"1rem"},children:u?(0,r.O8)(u):"Choose a file to upload"}),(0,c.jsxs)(o.c,{disabled:p,variant:"outlined",component:"label",fullWidth:!0,startIcon:(0,c.jsx)(l.GGW,{}),sx:{marginRight:"1rem"},children:["Upload File",(0,c.jsx)("input",{type:"file",multiple:!0,accept:s,hidden:!0,onChange:e=>(async e=>{if(e.target.files)if(1===e.target.files.length){const t=e.target.files[0],{name:s}=t,n=new FileReader;n.onload=e=>{var t;if(null===e||void 0===e||null===(t=e.target)||void 0===t||!t.result)return;const{result:n}=e.target,a=n+",filename:".concat(s);x(a),d(a)},n.readAsDataURL(t)}else if(e.target.files.length>0){let t=Array.from(e.target.files).map((e=>{const t=new FileReader,{name:s}=e;return new Promise((n=>{t.onload=e=>{var t;if(null===e||void 0===e||null===(t=e.target)||void 0===t||!t.result)return;const{result:a}=e.target,i=a+",filename:".concat(s);n(i)},t.readAsDataURL(e)}))}));const s=await Promise.all(t);x(JSON.stringify(s)),d(JSON.stringify(s))}})(e)})]})]})}},53856:(e,t,s)=>{s.d(t,{m:()=>o});var n=s(72248),a=s(74996),i=s(9e4);const o=e=>{let{open:t}=e;return(0,i.jsx)("div",{children:(0,i.jsx)(n.c,{sx:{color:"#fff",zIndex:e=>e.zIndex.drawer+1},open:t,children:(0,i.jsx)(a.c,{color:"inherit"})})})}},59696:(e,t,s)=>{s.d(t,{c:()=>B});var n=s(92572),a=s(59192),i=s(81710),o=s(83860),l=s(31544),r=s(12464),c=s(95836),d=s(51515),p=s(78944),h=s(63556),u=s(20332),x=s(2340),m=s(15860),g=s(32160),v=s(54528),f=s(78472),j=s(60708),y=s(18184),b=s(1604),w=s(14180),C=s(59208),S=s(53856),A=s(9e4);const D=e=>{let{show:t,dialogProps:s,onCancel:a,onDelete:i,onDeleteBoth:o}=e;const l=document.getElementById("portal"),h=t?(0,A.jsxs)(c.c,{fullWidth:!0,maxWidth:"xs",open:t,onClose:a,"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description",children:[(0,A.jsx)(d.c,{sx:{fontSize:"1rem"},id:"alert-dialog-title",children:s.title}),(0,A.jsxs)(p.c,{children:[(0,A.jsx)("span",{children:s.description}),(0,A.jsxs)("div",{style:{display:"flex",flexDirection:"column",marginTop:20},children:[(0,A.jsx)(f.y,{sx:{mb:1},color:"orange",variant:"contained",onClick:i,children:"Delete only from Flowise"}),(0,A.jsx)(f.y,{sx:{mb:1},color:"error",variant:"contained",onClick:o,children:"Delete from both OpenAI and Flowise"}),(0,A.jsx)(r.c,{onClick:a,children:s.cancelButtonName})]})]})]}):null;return(0,n.createPortal)(h,l)};var N=s(79557),I=s(97272),k=s(54136),O=s(81424);const T=[{label:"gpt-4-1106-preview",name:"gpt-4-1106-preview"},{label:"gpt-4-0613",name:"gpt-4-0613"},{label:"gpt-4-0314",name:"gpt-4-0314"},{label:"gpt-4",name:"gpt-4"},{label:"gpt-3.5-turbo",name:"gpt-3.5-turbo"},{label:"gpt-3.5-turbo-1106",name:"gpt-3.5-turbo-1106"},{label:"gpt-3.5-turbo-0613",name:"gpt-3.5-turbo-0613"},{label:"gpt-3.5-turbo-16k",name:"gpt-3.5-turbo-16k"},{label:"gpt-3.5-turbo-16k-0613",name:"gpt-3.5-turbo-16k-0613"}],B=e=>{let{show:t,dialogProps:s,onCancel:B,onConfirm:F}=e;const P=document.getElementById("portal");(0,O.c)();const M=(0,i.OY)(),R=function(){return M((0,o.mq)(...arguments))},z=function(){return M((0,o.EF)(...arguments))},E=(0,k.c)(I.c.getSpecificAssistant),J=(0,k.c)(I.c.getAssistantObj),[W,K]=(0,a.useState)(""),[L,_]=(0,a.useState)(""),[q,G]=(0,a.useState)(""),[U,Y]=(0,a.useState)(""),[X,H]=(0,a.useState)("https://api.dicebear.com/7.x/bottts/svg?seed=".concat((0,l.c)())),[Q,V]=(0,a.useState)(""),[Z,$]=(0,a.useState)(""),[ee,te]=(0,a.useState)(""),[se,ne]=(0,a.useState)(["code_interpreter","retrieval"]),[ae,ie]=(0,a.useState)([]),[oe,le]=(0,a.useState)(""),[re,ce]=(0,a.useState)(!1),[de,pe]=(0,a.useState)(!1),[he,ue]=(0,a.useState)({});(0,a.useEffect)((()=>(M(t?{type:o.wp}:{type:o.OC}),()=>M({type:o.OC}))),[t,M]),(0,a.useEffect)((()=>{if(E.data){var e,t;K(E.data.id),H(E.data.iconSrc),$(E.data.credential);const s=JSON.parse(E.data.details);_(s.id),G(s.name),Y(s.description),V(s.model),te(s.instructions),ne(null!==(e=s.tools)&&void 0!==e?e:[]),ie(null!==(t=s.files)&&void 0!==t?t:[])}}),[E.data]),(0,a.useEffect)((()=>{J.data&&xe(J.data)}),[J.data]),(0,a.useEffect)((()=>{if("EDIT"===s.type&&s.data){var e,t;K(s.data.id),H(s.data.iconSrc),$(s.data.credential);const n=JSON.parse(s.data.details);_(n.id),G(n.name),Y(n.description),V(n.model),te(n.instructions),ne(null!==(e=n.tools)&&void 0!==e?e:[]),ie(null!==(t=n.files)&&void 0!==t?t:[])}else"EDIT"===s.type&&s.assistantId?E.request(s.assistantId):"ADD"===s.type&&s.selectedOpenAIAssistantId&&s.credential?(K(""),H("https://api.dicebear.com/7.x/bottts/svg?seed=".concat((0,l.c)())),$(s.credential),J.request(s.selectedOpenAIAssistantId,s.credential)):"ADD"!==s.type||s.selectedOpenAIAssistantId||(K(""),H("https://api.dicebear.com/7.x/bottts/svg?seed=".concat((0,l.c)())),$(""),_(""),G(""),Y(""),V(""),te(""),ne(["code_interpreter","retrieval"]),le(""),ie([]));return()=>{K(""),H("https://api.dicebear.com/7.x/bottts/svg?seed=".concat((0,l.c)())),$(""),_(""),G(""),Y(""),V(""),te(""),ne(["code_interpreter","retrieval"]),le(""),ie([]),ce(!1)}}),[s]);const xe=e=>{var t;_(e.id),G(e.name),Y(e.description),V(e.model),te(e.instructions),ie(null!==(t=e.files)&&void 0!==t?t:[]);let s=[];if(e.tools&&e.tools.length)for(const n of e.tools)s.push(n.type);ne(s)},me=async e=>{pe(!1);try{(await I.c.deleteAssistant(W,e)).data&&(R({message:"Assistant deleted",options:{key:(new Date).getTime()+Math.random(),variant:"success",action:e=>(0,A.jsx)(r.c,{style:{color:"white"},onClick:()=>z(e),children:(0,A.jsx)(N.KgB,{})})}}),F())}catch(t){const e=t.response.data||"".concat(t.response.status,": ").concat(t.response.statusText);R({message:"Failed to delete Assistant: ".concat(e),options:{key:(new Date).getTime()+Math.random(),variant:"error",persist:!0,action:e=>(0,A.jsx)(r.c,{style:{color:"white"},onClick:()=>z(e),children:(0,A.jsx)(N.KgB,{})})}}),B()}},ge=t?(0,A.jsxs)(c.c,{fullWidth:!0,maxWidth:"md",open:t,onClose:B,"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description",children:[(0,A.jsx)(d.c,{sx:{fontSize:"1rem"},id:"alert-dialog-title",children:s.title}),(0,A.jsxs)(p.c,{children:[(0,A.jsxs)(h.c,{sx:{p:2},children:[(0,A.jsx)(u.c,{sx:{position:"relative"},direction:"row",children:(0,A.jsxs)(x.c,{variant:"overline",children:["Assistant Name",(0,A.jsx)(j.c,{style:{marginLeft:10},title:"The name of the assistant. The maximum length is 256 characters."})]})}),(0,A.jsx)(m.c,{id:"assistantName",type:"string",fullWidth:!0,placeholder:"My New Assistant",value:q,name:"assistantName",onChange:e=>G(e.target.value)})]}),(0,A.jsxs)(h.c,{sx:{p:2},children:[(0,A.jsx)(u.c,{sx:{position:"relative"},direction:"row",children:(0,A.jsxs)(x.c,{variant:"overline",children:["Assistant Description",(0,A.jsx)(j.c,{style:{marginLeft:10},title:"The description of the assistant. The maximum length is 512 characters."})]})}),(0,A.jsx)(m.c,{id:"assistantDesc",type:"string",fullWidth:!0,placeholder:"Description of what the Assistant does",multiline:!0,rows:3,value:U,name:"assistantDesc",onChange:e=>Y(e.target.value)})]}),(0,A.jsxs)(h.c,{sx:{p:2},children:[(0,A.jsx)(u.c,{sx:{position:"relative"},direction:"row",children:(0,A.jsx)(x.c,{variant:"overline",children:"Assistant Icon Src"})}),(0,A.jsx)("div",{style:{width:100,height:100,borderRadius:"50%",backgroundColor:"white"},children:(0,A.jsx)("img",{style:{width:"100%",height:"100%",padding:5,borderRadius:"50%",objectFit:"contain"},alt:q,src:X})}),(0,A.jsx)(m.c,{id:"assistantIcon",type:"string",fullWidth:!0,placeholder:"https://api.dicebear.com/7.x/bottts/svg?seed=".concat((0,l.c)()),value:X,name:"assistantIcon",onChange:e=>H(e.target.value)})]}),(0,A.jsxs)(h.c,{sx:{p:2},children:[(0,A.jsx)(u.c,{sx:{position:"relative"},direction:"row",children:(0,A.jsxs)(x.c,{variant:"overline",children:["Assistant Model",(0,A.jsx)("span",{style:{color:"red"},children:"\xa0*"})]})}),(0,A.jsx)(y.c,{name:Q,options:T,onSelect:e=>V(e),value:null!==Q&&void 0!==Q?Q:"choose an option"},Q)]}),(0,A.jsxs)(h.c,{sx:{p:2},children:[(0,A.jsx)(u.c,{sx:{position:"relative"},direction:"row",children:(0,A.jsxs)(x.c,{variant:"overline",children:["OpenAI Credential",(0,A.jsx)("span",{style:{color:"red"},children:"\xa0*"})]})}),(0,A.jsx)(w.c,{data:Z?{credential:Z}:{},inputParam:{label:"Connect Credential",name:"credential",type:"credential",credentialNames:["openAIApi"]},onSelect:e=>$(e)},Z)]}),(0,A.jsxs)(h.c,{sx:{p:2},children:[(0,A.jsx)(u.c,{sx:{position:"relative"},direction:"row",children:(0,A.jsxs)(x.c,{variant:"overline",children:["Assistant Instruction",(0,A.jsx)(j.c,{style:{marginLeft:10},title:"The system instructions that the assistant uses. The maximum length is 32768 characters."})]})}),(0,A.jsx)(m.c,{id:"assistantInstructions",type:"string",fullWidth:!0,placeholder:"You are a personal math tutor. When asked a question, write and run Python code to answer the question.",multiline:!0,rows:3,value:ee,name:"assistantInstructions",onChange:e=>te(e.target.value)})]}),(0,A.jsxs)(h.c,{sx:{p:2},children:[(0,A.jsx)(u.c,{sx:{position:"relative"},direction:"row",children:(0,A.jsxs)(x.c,{variant:"overline",children:["Assistant Tools",(0,A.jsx)(j.c,{style:{marginLeft:10},title:"A list of tool enabled on the assistant. There can be a maximum of 128 tools per assistant."})]})}),(0,A.jsx)(b.m,{name:JSON.stringify(se),options:[{label:"Code Interpreter",name:"code_interpreter"},{label:"Retrieval",name:"retrieval"}],onSelect:e=>ne(e?JSON.parse(e):[]),value:null!==se&&void 0!==se?se:"choose an option"},JSON.stringify(se))]}),(0,A.jsxs)(h.c,{sx:{p:2},children:[(0,A.jsx)(u.c,{sx:{position:"relative"},direction:"row",children:(0,A.jsxs)(x.c,{variant:"overline",children:["Knowledge Files",(0,A.jsx)(j.c,{style:{marginLeft:10},title:"Allow assistant to use the content from uploaded files for retrieval and code interpreter. MAX: 20 files"})]})}),(0,A.jsx)("div",{style:{display:"flex",flexDirection:"row"},children:ae.map(((e,t)=>(0,A.jsxs)("div",{style:{display:"flex",flexDirection:"row",alignItems:"center",width:"max-content",height:"max-content",borderRadius:15,background:"rgb(254,252,191)",paddingLeft:15,paddingRight:15,paddingTop:5,paddingBottom:5,marginRight:10},children:[(0,A.jsx)("span",{style:{color:"rgb(116,66,16)",marginRight:10},children:e.filename}),(0,A.jsx)(g.c,{sx:{height:15,width:15,p:0},onClick:()=>(async e=>{ie(ae.filter((t=>t.id!==e)))})(e.id),children:(0,A.jsx)(N.KgB,{})})]},t)))}),(0,A.jsx)(C.S,{fileType:"*",onChange:e=>le(e),value:null!==oe&&void 0!==oe?oe:"Choose a file to upload"},oe)]})]}),(0,A.jsxs)(v.c,{children:["EDIT"===s.type&&(0,A.jsx)(f.y,{color:"secondary",variant:"contained",onClick:()=>(async()=>{ce(!0);try{const e=await I.c.getAssistantObj(L,Z);e.data&&(xe(e.data),R({message:"Assistant successfully synced!",options:{key:(new Date).getTime()+Math.random(),variant:"success",action:e=>(0,A.jsx)(r.c,{style:{color:"white"},onClick:()=>z(e),children:(0,A.jsx)(N.KgB,{})})}})),ce(!1)}catch(e){const t=e.response.data||"".concat(e.response.status,": ").concat(e.response.statusText);R({message:"Failed to sync Assistant: ".concat(t),options:{key:(new Date).getTime()+Math.random(),variant:"error",persist:!0,action:e=>(0,A.jsx)(r.c,{style:{color:"white"},onClick:()=>z(e),children:(0,A.jsx)(N.KgB,{})})}}),ce(!1)}})(),children:"Sync"}),"EDIT"===s.type&&(0,A.jsx)(f.y,{color:"error",variant:"contained",onClick:()=>(ue({title:"Delete Assistant",description:"Delete Assistant ".concat(q,"?"),cancelButtonName:"Cancel"}),void pe(!0)),children:"Delete"}),(0,A.jsx)(f.y,{disabled:!(Q&&Z),variant:"contained",onClick:()=>"ADD"===s.type?(async()=>{ce(!0);try{const e={id:L,name:q,description:U,model:Q,instructions:ee,tools:se,files:ae,uploadFiles:oe},t={details:JSON.stringify(e),iconSrc:X,credential:Z},s=await I.c.createNewAssistant(t);s.data&&(R({message:"New Assistant added",options:{key:(new Date).getTime()+Math.random(),variant:"success",action:e=>(0,A.jsx)(r.c,{style:{color:"white"},onClick:()=>z(e),children:(0,A.jsx)(N.KgB,{})})}}),F(s.data.id)),ce(!1)}catch(e){const t=e.response.data||"".concat(e.response.status,": ").concat(e.response.statusText);R({message:"Failed to add new Assistant: ".concat(t),options:{key:(new Date).getTime()+Math.random(),variant:"error",persist:!0,action:e=>(0,A.jsx)(r.c,{style:{color:"white"},onClick:()=>z(e),children:(0,A.jsx)(N.KgB,{})})}}),ce(!1),B()}})():(async()=>{ce(!0);try{const e={name:q,description:U,model:Q,instructions:ee,tools:se,files:ae,uploadFiles:oe},t={details:JSON.stringify(e),iconSrc:X,credential:Z},s=await I.c.updateAssistant(W,t);s.data&&(R({message:"Assistant saved",options:{key:(new Date).getTime()+Math.random(),variant:"success",action:e=>(0,A.jsx)(r.c,{style:{color:"white"},onClick:()=>z(e),children:(0,A.jsx)(N.KgB,{})})}}),F(s.data.id)),ce(!1)}catch(e){const t=e.response.data||"".concat(e.response.status,": ").concat(e.response.statusText);R({message:"Failed to save Assistant: ".concat(t),options:{key:(new Date).getTime()+Math.random(),variant:"error",persist:!0,action:e=>(0,A.jsx)(r.c,{style:{color:"white"},onClick:()=>z(e),children:(0,A.jsx)(N.KgB,{})})}}),ce(!1),B()}})(),children:s.confirmButtonName})]}),(0,A.jsx)(D,{show:de,dialogProps:he,onCancel:()=>pe(!1),onDelete:()=>me(),onDeleteBoth:()=>me(!0)}),re&&(0,A.jsx)(S.m,{open:re})]}):null;return(0,n.createPortal)(ge,P)}},14180:(e,t,s)=>{s.d(t,{c:()=>p});var n=s(59192),a=s(32160),i=s(79557),o=s(72800),l=s(96996),r=s(69448),c=s(63896),d=s(9e4);const p=e=>{var t;let{inputParam:s,data:p,onSelect:h,disabled:u=!1}=e;const x=(0,n.useRef)(null),[m,g]=(0,n.useState)(null!==(t=null===p||void 0===p?void 0:p.credential)&&void 0!==t?t:""),[v,f]=(0,n.useState)(!1),[j,y]=(0,n.useState)({}),[b,w]=(0,n.useState)(!1),[C,S]=(0,n.useState)({}),[A,D]=(0,n.useState)(Date.now().toString());return(0,d.jsxs)("div",{ref:x,children:[s&&(0,d.jsx)(d.Fragment,{children:"credential"===s.type&&(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)("div",{style:{marginTop:10}}),(0,d.jsxs)("div",{style:{display:"flex",flexDirection:"row"},children:[(0,d.jsx)(o.c,{disabled:u,name:s.name,nodeData:p,value:null!==m&&void 0!==m?m:"choose an option",isCreateNewOption:!0,credentialNames:s.credentialNames,onSelect:e=>{g(e),h(e)},onCreateNew:()=>(async()=>{try{let e="";e=s.credentialNames.length>1?s.credentialNames.join("&"):s.credentialNames[0];const t=await c.c.getSpecificComponentCredential(e);if(t.data)if(Array.isArray(t.data)){const e={title:"Add New Credential",componentsCredentials:t.data};y(e),f(!0)}else{const e={type:"ADD",cancelButtonName:"Cancel",confirmButtonName:"Add",credentialComponent:t.data};S(e),w(!0)}}catch(e){console.error(e)}})(s.name)}),m&&(0,d.jsx)(a.c,{title:"Edit",color:"primary",size:"small",onClick:()=>(e=>{S({type:"EDIT",cancelButtonName:"Cancel",confirmButtonName:"Save",credentialId:e}),w(!0)})(m),children:(0,d.jsx)(i.GIF,{})})]},A)]})}),b&&(0,d.jsx)(l.c,{show:b,dialogProps:C,onCancel:()=>w(!1),onConfirm:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";g(e),D(Date.now().toString()),S({}),w(!1),h(e)}}),v&&(0,d.jsx)(r.c,{show:v,dialogProps:j,onCancel:()=>f(!1),onCredentialSelected:e=>{f(!1);S({type:"ADD",cancelButtonName:"Cancel",confirmButtonName:"Add",credentialComponent:e}),w(!0)}})]})}}}]);
//# sourceMappingURL=9696.229d7210.chunk.js.map