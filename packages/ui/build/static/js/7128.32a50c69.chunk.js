"use strict";(self.webpackChunkflowise_ui=self.webpackChunkflowise_ui||[]).push([[7128],{86360:(e,t,n)=>{n.d(t,{c:()=>a});var i=n(31060);const a={getAllTools:()=>i.c.get("/tools"),getSpecificTool:e=>i.c.get("/tools/".concat(e)),createNewTool:e=>i.c.post("/tools",e),updateTool:(e,t)=>i.c.put("/tools/".concat(e),t),deleteTool:e=>i.c.delete("/tools/".concat(e))}},99664:(e,t,n)=>{n.d(t,{c:()=>m});var i=n(92572),a=n(81710),o=n(59192),s=n(95836),l=n(78944),r=n(94604),c=n.n(r),d=n(60560),p=n(83860),u=n(9e4);const m=e=>{let{show:t,dialogProps:n,onCancel:r}=e;const m=document.getElementById("portal"),h=(0,a.OY)(),[x,g]=(0,o.useState)([]),[j,y]=(0,o.useState)({});(0,o.useEffect)((()=>(n.inputParams&&g(n.inputParams),n.data&&y(n.data),()=>{g([]),y({})})),[n]),(0,o.useEffect)((()=>(h(t?{type:p.wp}:{type:p.OC}),()=>h({type:p.OC}))),[t,h]);const f=t?(0,u.jsx)(s.c,{onClose:r,open:t,fullWidth:!0,maxWidth:"sm","aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description",children:(0,u.jsx)(l.c,{children:(0,u.jsx)(c(),{style:{height:"100%",maxHeight:"calc(100vh - 220px)",overflowX:"hidden"},children:x.map(((e,t)=>(0,u.jsx)(d.c,{disabled:n.disabled,inputParam:e,data:j,isAdditionalParams:!0},t)))})})}):null;return(0,i.createPortal)(f,m)}},31680:(e,t,n)=>{n.d(t,{s:()=>h});var i=n(79557),a=n(59192),o=n(6740),s=n(68160),l=n(63556),r=n(32160),c=n(31824),d=n(2340),p=n(2973),u=n(9e4);const m={javascript:".js",python:".py",java:".java",c:".c",cpp:".cpp","c++":".cpp","c#":".cs",ruby:".rb",php:".php",swift:".swift","objective-c":".m",kotlin:".kt",typescript:".ts",go:".go",perl:".pl",rust:".rs",scala:".scala",haskell:".hs",lua:".lua",shell:".sh",sql:".sql",html:".html",css:".css"},h=(0,a.memo)((e=>{var t;let{language:n,chatflowid:h,isDialog:x,value:g}=e;const j=(0,p.c)(),[y,f]=(0,a.useState)(null),v=Boolean(y),b=()=>{f(null)};return(0,u.jsxs)("div",{style:{width:x?"":300},children:[(0,u.jsx)(l.c,{sx:{color:"white",background:null===(t=j.palette)||void 0===t?void 0:t.common.dark,p:1,borderTopLeftRadius:10,borderTopRightRadius:10},children:(0,u.jsxs)("div",{style:{display:"flex",flexDirection:"row",alignItems:"center"},children:[n,(0,u.jsx)("div",{style:{flex:1}}),(0,u.jsx)(r.c,{size:"small",title:"Copy",color:"success",onClick:e=>{navigator.clipboard&&navigator.clipboard.writeText&&(navigator.clipboard.writeText(g),f(e.currentTarget),setTimeout((()=>{b()}),1500))},children:(0,u.jsx)(i.ctH,{})}),(0,u.jsx)(c.cp,{open:v,anchorEl:y,onClose:b,anchorOrigin:{vertical:"top",horizontal:"right"},transformOrigin:{vertical:"top",horizontal:"left"},children:(0,u.jsx)(d.c,{variant:"h6",sx:{pl:1,pr:1,color:"white",background:j.palette.success.dark},children:"Copied!"})}),(0,u.jsx)(r.c,{size:"small",title:"Download",color:"primary",onClick:()=>{const e=m[n]||".file",t="file-".concat(h).concat(e);if(!t)return;const i=new Blob([g],{type:"text/plain"}),a=URL.createObjectURL(i),o=document.createElement("a");o.download=t,o.href=a,o.style.display="none",document.body.appendChild(o),o.click(),document.body.removeChild(o),URL.revokeObjectURL(a)},children:(0,u.jsx)(i.snM,{})})]})}),(0,u.jsx)(o.c,{language:n,style:s.c,customStyle:{margin:0},children:g})]})}));h.displayName="CodeBlock"},356:(e,t,n)=>{n.d(t,{I:()=>o});var i=n(59192),a=n(21332);const o=(0,i.memo)(a.s,((e,t)=>e.children===t.children))},60560:(e,t,n)=>{n.d(t,{c:()=>Ie});var i=n(94948),a=n(59192),o=n(81710),s=n(26e3),l=n(2973),r=n(7128),c=n(63556),d=n(2340),p=n(12464),u=n(32160),m=n(12996),h=n(57651),x=n(79557),g=n(18184),j=n(1604),y=n(72800),f=n(38154),v=n(13792),b=n(35400),w=n(9440),C=n(86155),T=n(16828),S=n(9e4);const k=e=>{var t;let{columns:n,rows:i,style:o,disabled:s=!1,hideFooter:l=!1,onChange:r}=e;const[c,d]=(0,a.useState)(null!==(t=(0,T.gp)(i))&&void 0!==t?t:[]),u=(0,a.useCallback)((e=>()=>{let t=[];d((n=>{let i=[...(0,C.cloneDeep)(n)];return i=i.filter((t=>t.id!==e)),t=i,i})),r(JSON.stringify(t))}),[]),m=(e=>[...e,{field:"actions",type:"actions",width:80,getActions:e=>[(0,S.jsx)(v.i,{icon:(0,S.jsx)(w.c,{}),label:"Delete",onClick:u(e.id)},"Delete")]}])(n),h=()=>{const e={};for(let n=0;n<m.length;n+=1){var t;e[null===(t=m[n])||void 0===t?void 0:t.field]=""}return e};return(0,S.jsxs)(S.Fragment,{children:[c&&m&&(0,S.jsx)("div",{style:{marginTop:10,height:210,width:"100%",...o},children:(0,S.jsx)(b.op,{processRowUpdate:e=>{let t=[];return d((n=>{let i=[...(0,C.cloneDeep)(n)];const a=i.findIndex((t=>t.id===e.id));return a>=0&&(i[a]={...e}),t=i,i})),r(JSON.stringify(t)),e},isCellEditable:()=>!s,hideFooter:l,onProcessRowUpdateError:e=>console.error(e),rows:c,columns:m})}),!s&&(0,S.jsx)(p.c,{sx:{mt:1},variant:"outlined",onClick:()=>{d((e=>{let t=[...(0,C.cloneDeep)(e)];const n=t.length?t[t.length-1].id+1:1;return t.push({...h(),id:n}),t}))},startIcon:(0,S.jsx)(x.SU7,{}),children:"Add Item"})]})};var E=n(59208),D=n(5220),P=n(3868),I=n(42480),A=n(60708),M=n(93500),N=n(59696),O=n(92572),R=n(95836),B=n(51515),F=n(78944),L=n(94604),z=n.n(L),W=n(83860);const V=e=>{let{show:t,dialogProps:n,onChange:i,onCancel:s}=e;const l=document.getElementById("portal"),r=(0,o.w1)((e=>e.customization)),c=(0,o.OY)();(0,a.useEffect)((()=>(c(t?{type:W.wp}:{type:W.OC}),()=>c({type:W.OC}))),[t,c]);const d=t?(0,S.jsxs)(R.c,{onClose:s,open:t,fullWidth:!0,maxWidth:"sm","aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description",children:[(0,S.jsx)(B.c,{sx:{fontSize:"1rem"},id:"alert-dialog-title",children:"Format Prompt Values"}),(0,S.jsx)(F.c,{children:(0,S.jsx)(z(),{style:{height:"100%",maxHeight:"calc(100vh - 220px)",overflowX:"hidden"},children:(0,S.jsx)(I.M,{onChange:e=>i(e),value:n.value,isDarkMode:r.isDarkMode,inputParam:n.inputParam,nodes:n.nodes,edges:n.edges,nodeId:n.nodeId})})})]}):null;return(0,O.createPortal)(d,l)};var U=n(14180),H=n(80576),_=n(69744),J=n(37212),q=n(35412),K=n(22736),G=n(61368),Y=n(65992),X=n(16072),$=n(15860),Q=n(50284),Z=n(4366),ee=n(18436),te=n(20332),ne=n(65256),ie=n(27088),ae=n(91036),oe=n(54156),se=n(50944),le=n(47280),re=n(54528),ce=n(93072),de=n(49248),pe=n(91712),ue=n(74220),me=n(23784),he=n(67196),xe=n(78472),ge=n(356),je=n(31680);const ye=n.p+"static/media/prompt_empty.a1ca2ca513d897311b06ef76ffa5b87a.svg";var fe=n(54136),ve=n(31060);const be=e=>ve.c.post("/prompts-list",e),we=e=>ve.c.post("/load-prompt",e),Ce=e=>{let{children:t=""}=e;return t.split("\n").reduce((function(e,t){return e.concat(t,(0,S.jsx)("br",{}))}),[])},Te=(0,s.cp)((e=>(0,S.jsx)(ce.c,{disableGutters:!0,elevation:0,square:!0,...e})))((e=>{let{theme:t}=e;return{border:"1px solid ".concat(t.palette.divider),"&:not(:last-child)":{borderBottom:0},"&:before":{display:"none"}}})),Se=(0,s.cp)((e=>(0,S.jsx)(de.c,{expandIcon:(0,S.jsx)(me.c,{sx:{fontSize:"0.9rem"}}),...e})))((e=>{let{theme:t}=e;return{backgroundColor:"dark"===t.palette.mode?"rgba(255, 255, 255, .05)":"rgba(0, 0, 0, .03)",flexDirection:"row-reverse","& .MuiAccordionSummary-expandIconWrapper.Mui-expanded":{transform:"rotate(180deg)"},"& .MuiAccordionSummary-content":{marginLeft:t.spacing(1)}}})),ke=(0,s.cp)(pe.c)((e=>{let{theme:t}=e;return{padding:t.spacing(2),borderTop:"1px solid rgba(0, 0, 0, .125)"}})),Ee=e=>{var t;let{promptType:n,show:i,onCancel:s,onSubmit:l}=e;const r=document.getElementById("portal"),m=(0,o.OY)(),h=(0,o.w1)((e=>e.customization)),x=(0,fe.c)(be);(0,a.useEffect)((()=>(m(i?{type:W.wp}:{type:W.OC}),()=>m({type:W.OC}))),[i,m]),(0,a.useEffect)((()=>{n&&x.request({tags:"template"===n?"StringPromptTemplate&":"ChatPromptTemplate&"})}),[n]),(0,a.useEffect)((()=>{var e;x.data&&x.data.repos&&(T(x.data.repos),null!==(e=x.data.repos)&&void 0!==e&&e.length&&A(0,x.data.repos))}),[x.data]);const g={PaperProps:{style:{maxHeight:224,width:250}}},[j,y]=(0,a.useState)([]),[f,v]=(0,a.useState)([]),[b,w]=(0,a.useState)([]),[C,T]=(0,a.useState)([]),[k,E]=(0,a.useState)({}),[D,P]=(0,a.useState)(["prompt"]),I=e=>(t,n)=>{const i=[...D];n?(i.push(e),P(i)):P(i.filter((t=>t!==e)))},A=async function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];const n=t.length?t[e]:C[e];if(!n.detailed){const e=await we({promptName:n.full_name});e.data&&(n.detailed=e.data.templates)}E(n)},M=e=>{let t=[];return e.forEach((n=>{1===e.filter((e=>e.id===n.id)).length&&t.push(n)})),t},N=i?(0,S.jsxs)(R.c,{onClose:s,open:i,fullWidth:!0,maxWidth:"lg","aria-labelledby":"prompt-dialog-title","aria-describedby":"prompt-dialog-description",children:[(0,S.jsxs)(B.c,{sx:{fontSize:"1rem"},id:"prompt-dialog-title",children:["Langchain Hub (","template"===n?"PromptTemplate":"ChatPromptTemplate",")"]}),(0,S.jsxs)(F.c,{dividers:!0,sx:{p:1},children:[(0,S.jsxs)(c.c,{sx:{display:"flex",flexDirection:"row",p:2,pt:1,alignItems:"center"},children:[(0,S.jsxs)(G.c,{sx:{mr:1,width:"30%"},children:[(0,S.jsx)(Y.c,{size:"small",id:"model-checkbox-label",children:"Model"}),(0,S.jsx)(X.c,{id:"model-checkbox",labelId:"model-checkbox-label",multiple:!0,size:"small",value:j,onChange:e=>{const{target:{value:t}}=e;y(M(t))},input:(0,S.jsx)($.c,{label:"Model"}),renderValue:e=>e.map((e=>e.name)).join(", "),endAdornment:!!j.length&&(0,S.jsx)(u.c,{sx:{mr:2},onClick:()=>y([]),children:(0,S.jsx)(he.c,{style:{width:20,height:20}})}),sx:{".MuiSvgIcon-root ":{fill:h.isDarkMode?"white !important":""}},MenuProps:g,children:[{id:101,name:"anthropic:claude-instant-1"},{id:102,name:"anthropic:claude-instant-1.2"},{id:103,name:"anthropic:claude-2"},{id:104,name:"google:palm-2-chat-bison"},{id:105,name:"google:palm-2-codechat-bison"},{id:106,name:"google:palm-2-text-bison"},{id:107,name:"meta:llama-2-13b-chat"},{id:108,name:"meta:llama-2-70b-chat"},{id:109,name:"openai:gpt-3.5-turbo"},{id:110,name:"openai:gpt-4"},{id:111,name:"openai:text-davinci-003"}].map((e=>(0,S.jsxs)(Q.c,{value:e,children:[(0,S.jsx)(Z.c,{id:e.id,checked:j.findIndex((t=>t.id===e.id))>=0}),(0,S.jsx)(ee.c,{primary:e.name})]},e.id)))})]}),(0,S.jsxs)(G.c,{sx:{mr:1,width:"30%"},children:[(0,S.jsx)(Y.c,{size:"small",id:"usecase-checkbox-label",children:"Usecase"}),(0,S.jsx)(X.c,{autoWidth:!1,labelId:"usecase-checkbox-label",id:"usecase-checkbox",multiple:!0,size:"small",value:f,onChange:e=>{const{target:{value:t}}=e;v(M(t))},input:(0,S.jsx)($.c,{label:"Usecase"}),renderValue:e=>e.map((e=>e.name)).join(", "),endAdornment:!!f.length&&(0,S.jsx)(u.c,{sx:{mr:2},onClick:()=>v([]),children:(0,S.jsx)(he.c,{style:{width:20,height:20}})}),sx:{".MuiSvgIcon-root ":{fill:h.isDarkMode?"white !important":""}},MenuProps:g,children:[{id:201,name:"Agents"},{id:202,name:"Agent Stimulation"},{id:203,name:"Autonomous agents"},{id:204,name:"Classification"},{id:205,name:"Chatbots"},{id:206,name:"Code understanding"},{id:207,name:"Code writing"},{id:208,name:"Evaluation"},{id:209,name:"Extraction"},{id:210,name:"Interacting with APIs"},{id:211,name:"Multi-modal"},{id:212,name:"QA over documents"},{id:213,name:"Self-checking"},{id:214,name:"SQL"},{id:215,name:"Summarization"},{id:216,name:"Tagging"}].map((e=>(0,S.jsxs)(Q.c,{value:e,children:[(0,S.jsx)(Z.c,{id:e.id,checked:f.findIndex((t=>t.id===e.id))>=0}),(0,S.jsx)(ee.c,{primary:e.name})]},e.id)))})]}),(0,S.jsxs)(G.c,{sx:{mr:1,width:"30%"},children:[(0,S.jsx)(Y.c,{size:"small",id:"language-checkbox-label",children:"Language"}),(0,S.jsx)(X.c,{labelId:"language-checkbox-label",id:"language-checkbox",multiple:!0,size:"small",value:b,onChange:e=>{const{target:{value:t}}=e;w(M(t))},input:(0,S.jsx)($.c,{label:"language"}),renderValue:e=>e.map((e=>e.name)).join(", "),endAdornment:!!b.length&&(0,S.jsx)(u.c,{sx:{mr:2},onClick:()=>w([]),children:(0,S.jsx)(he.c,{style:{width:20,height:20}})}),sx:{".MuiSvgIcon-root ":{fill:h.isDarkMode?"white !important":""}},MenuProps:g,children:[{id:301,name:"Chinese"},{id:302,name:"English"},{id:303,name:"French"},{id:304,name:"German"},{id:305,name:"Russian"},{id:306,name:"Spanish"}].map((e=>(0,S.jsxs)(Q.c,{value:e,children:[(0,S.jsx)(Z.c,{id:e.id,checked:b.findIndex((t=>t.id===e.id))>=0}),(0,S.jsx)(ee.c,{primary:e.name})]},e.id)))})]}),(0,S.jsx)(G.c,{sx:{width:"10%"},children:(0,S.jsx)(p.c,{disableElevation:!0,variant:"outlined",onClick:async()=>{let e="template"===n?"StringPromptTemplate&":"ChatPromptTemplate&";j.forEach((t=>{e+="tags=".concat(t.name,"&")})),f.forEach((t=>{e+="tags=".concat(t.name,"&")})),b.forEach((t=>{e+="tags=".concat(t.name,"&")})),x.request({tags:e})},children:"Search"})})]}),C&&0==C.length&&(0,S.jsxs)(te.c,{sx:{alignItems:"center",justifyContent:"center",width:"100%",pb:3},flexDirection:"column",children:[(0,S.jsx)(c.c,{sx:{p:5,height:"auto"},children:(0,S.jsx)("img",{style:{objectFit:"cover",height:"20vh",width:"auto"},src:ye,alt:"promptEmptySVG"})}),(0,S.jsx)("div",{children:"No Available Prompts"})]}),C&&C.length>0&&(0,S.jsx)(te.c,{sx:{alignItems:"center",justifyContent:"center",width:"100%"},flexDirection:"column",children:(0,S.jsx)(c.c,{sx:{width:"100%",p:2},children:(0,S.jsxs)(ne.cp,{xs:12,container:!0,spacing:1,justifyContent:"center",alignItems:"center",children:[(0,S.jsx)(ne.cp,{xs:4,item:!0,sx:{textAlign:"left"},children:(0,S.jsx)(c.c,{sx:{width:"100%",maxWidth:360},children:(0,S.jsx)(ie.c,{variant:"outlined",sx:{height:470,overflow:"auto",borderRadius:0},children:(0,S.jsxs)(ae.c,{sx:{p:1},children:[(0,S.jsx)(d.c,{sx:{fontSize:10},color:"text.secondary",gutterBottom:!0,children:"Available Prompts"}),(0,S.jsx)(oe.c,{component:"nav","aria-label":"secondary mailbox folder",children:C.map(((e,t)=>(0,S.jsx)(se.c,{selected:e.id===(null===k||void 0===k?void 0:k.id),onClick:()=>A(t),children:(0,S.jsxs)("div",{style:{display:"flex",flexDirection:"column"},children:[(0,S.jsx)(d.c,{sx:{fontSize:16,p:1,fontWeight:500},children:e.full_name}),(0,S.jsx)("div",{style:{display:"flex",flexDirection:"row",flexWrap:"wrap",marginTop:5},children:e.tags.map(((e,t)=>(0,S.jsx)(le.c,{label:e,style:{marginRight:5,marginBottom:5}},t)))})]})},e.id)))})]})})})}),(0,S.jsx)(ne.cp,{xs:8,item:!0,sx:{textAlign:"left"},children:(0,S.jsx)(c.c,{sx:{display:"flex",flexDirection:"column"},children:(0,S.jsx)(ie.c,{sx:{height:470,overflow:"auto"},children:(0,S.jsxs)(ae.c,{sx:{p:.5},children:[(0,S.jsxs)(Te,{expanded:D.includes("prompt"),onChange:I("prompt"),children:[(0,S.jsx)(Se,{"aria-controls":"panel2d-content",expandIcon:(0,S.jsx)(ue.c,{}),id:"panel2d-header",children:(0,S.jsx)(d.c,{children:"Prompt"})}),(0,S.jsx)(ke,{children:(0,S.jsx)(d.c,{sx:{wordWrap:"true"},color:"text.primary",children:null===k||void 0===k||null===(t=k.detailed)||void 0===t?void 0:t.map((e=>(0,S.jsxs)(S.Fragment,{children:[(0,S.jsx)(d.c,{sx:{fontSize:12},color:"text.secondary",gutterBottom:!0,children:e.typeDisplay.toUpperCase()}),(0,S.jsx)(d.c,{children:(0,S.jsx)("p",{style:{whiteSpace:"pre-wrap -moz-pre-wrap -pre-wrap -o-pre-wrap",wordWrap:"break-word",fontFamily:"inherit",wordSpacing:"0.1rem",lineHeight:"1.5rem"},children:(0,S.jsx)(Ce,{children:e.template})})})]})))})})]}),(0,S.jsxs)(Te,{expanded:D.includes("description"),onChange:I("description"),children:[(0,S.jsx)(Se,{"aria-controls":"panel1d-content",expandIcon:(0,S.jsx)(ue.c,{}),id:"panel1d-header",children:(0,S.jsx)(d.c,{children:"Description"})}),(0,S.jsx)(ke,{children:(0,S.jsx)(d.c,{sx:{wordWrap:"true",wordSpacing:"0.1rem",lineHeight:"1.5rem"},color:"text.primary",children:null===k||void 0===k?void 0:k.description})})]}),(0,S.jsxs)(Te,{expanded:D.includes("readme"),onChange:I("readme"),children:[(0,S.jsx)(Se,{expandIcon:(0,S.jsx)(ue.c,{}),"aria-controls":"panel3d-content",id:"panel3d-header",children:(0,S.jsx)(d.c,{children:"Readme"})}),(0,S.jsx)(ke,{children:(0,S.jsx)("div",{style:{lineHeight:1.75,"& a":{display:"block",marginRight:"2.5rem",wordWrap:"break-word",color:"#16bed7",fontWeight:500},"& a:hover":{opacity:.8},"& code":{color:"#0ab126",fontWeight:500,whiteSpace:"pre-wrap !important"}},children:(0,S.jsx)(ge.I,{remarkPlugins:[q.c,K.c],rehypePlugins:[_.c,J.c],components:{code(e){let{inline:t,className:n,children:i,...a}=e;const o=/language-(\w+)/.exec(n||"");return t?(0,S.jsx)("code",{className:n,...a,children:i}):(0,S.jsx)(je.s,{isDialog:!0,language:o&&o[1]||"",value:String(i).replace(/\n$/,""),...a},Math.random())}},children:null===k||void 0===k?void 0:k.readme})})})]})]})})})})]})})})]}),C&&C.length>0&&(0,S.jsxs)(re.c,{children:[(0,S.jsx)(p.c,{onClick:s,children:"Cancel"}),(0,S.jsx)(xe.y,{disabled:!(null!==k&&void 0!==k&&k.detailed),onClick:()=>l(k.detailed),variant:"contained",children:"Load"})]})]}):null;return(0,O.createPortal)(N,r)},De=["selectedTool","selectedAssistant"],Pe=(0,s.cp)((e=>{let{className:t,...n}=e;return(0,S.jsx)(r.c,{...n,classes:{popper:t}})}))({["& .".concat(h.c.tooltip)]:{maxWidth:500}}),Ie=e=>{var t,n,s,r,h,v,b,w,C,O,R,B,F,L,z,W;let{inputAnchor:_,inputParam:J,data:q,disabled:K=!1,isAdditionalParams:G=!1}=e;const Y=(0,l.c)(),X=(0,o.w1)((e=>e.customization)),$=(0,a.useRef)(null),{reactFlowInstance:Q}=(0,a.useContext)(P.y),Z=(0,i.ET)(),[ee,te]=(0,a.useState)(0),[ne,ie]=(0,a.useState)(!1),[ae,oe]=(0,a.useState)({}),[se,le]=(0,a.useState)(""),[re,ce]=(0,a.useState)({}),[de,pe]=(0,a.useState)(Date.now().toString()),[ue,me]=(0,a.useState)(!1),[he,xe]=(0,a.useState)({}),[ge,je]=(0,a.useState)(!1),ye=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";e?(q.inputs[se]=e,pe(Date.now().toString())):q.inputs[se]="",ce({}),le("")};return(0,a.useEffect)((()=>{$.current&&$.current.offsetTop&&$.current.clientHeight&&(te($.current.offsetTop+$.current.clientHeight/2),Z(q.id))}),[q.id,$,Z]),(0,a.useEffect)((()=>{Z(q.id)}),[q.id,ee,Z]),(0,S.jsxs)("div",{ref:$,children:[_&&(0,S.jsxs)(S.Fragment,{children:[(0,S.jsx)(Pe,{placement:"left",title:_.type,children:(0,S.jsx)(i._2,{type:"target",position:i.JC.Left,id:_.id,isValidConnection:e=>(0,T.Ko)(e,Q),style:{height:10,width:10,backgroundColor:q.selected?Y.palette.primary.main:Y.palette.text.secondary,top:ee}},_.id)}),(0,S.jsx)(c.c,{sx:{p:2},children:(0,S.jsxs)(d.c,{children:[_.label,!_.optional&&(0,S.jsx)("span",{style:{color:"red"},children:"\xa0*"}),_.description&&(0,S.jsx)(A.c,{style:{marginLeft:10},title:_.description})]})})]}),(J&&!J.additionalParams||G)&&(0,S.jsxs)(S.Fragment,{children:[J.acceptVariable&&(0,S.jsx)(Pe,{placement:"left",title:J.type,children:(0,S.jsx)(i._2,{type:"target",position:i.JC.Left,id:J.id,isValidConnection:e=>(0,T.Ko)(e,Q),style:{height:10,width:10,backgroundColor:q.selected?Y.palette.primary.main:Y.palette.text.secondary,top:ee}},J.id)}),(0,S.jsxs)(c.c,{sx:{p:2},children:[("promptTemplate"===q.name||"chatPromptTemplate"===q.name)&&("template"===J.name||"systemMessagePrompt"===J.name)&&(0,S.jsxs)(S.Fragment,{children:[(0,S.jsx)(p.c,{style:{display:"flex",flexDirection:"row",width:"100%"},disabled:K,sx:{borderRadius:25,width:"100%",mb:2,mt:0},variant:"outlined",onClick:()=>{je(!0)},endIcon:(0,S.jsx)(m.c,{}),children:"Langchain Hub"}),(0,S.jsx)(Ee,{promptType:J.name,show:ge,onCancel:()=>je(!1),onSubmit:e=>{je(!1);for(const t of e)Object.prototype.hasOwnProperty.call(q.inputs,t.type)&&(q.inputs[t.type]=t.template)}})]}),(0,S.jsxs)("div",{style:{display:"flex",flexDirection:"row"},children:[(0,S.jsxs)(d.c,{children:[J.label,!J.optional&&(0,S.jsx)("span",{style:{color:"red"},children:"\xa0*"}),J.description&&(0,S.jsx)(A.c,{style:{marginLeft:10},title:J.description})]}),(0,S.jsx)("div",{style:{flexGrow:1}}),"string"===J.type&&J.rows&&(0,S.jsx)(u.c,{size:"small",sx:{height:25,width:25},title:"Expand",color:"primary",onClick:()=>{var e,t;return((e,t)=>{oe({value:e,inputParam:t,disabled:K,confirmButtonName:"Save",cancelButtonName:"Cancel"}),ie(!0)})(null!==(e=null!==(t=q.inputs[J.name])&&void 0!==t?t:J.default)&&void 0!==e?e:"",J)},children:(0,S.jsx)(x.oxS,{})})]}),J.warning&&(0,S.jsxs)("div",{style:{display:"flex",flexDirection:"row",borderRadius:10,background:"rgb(254,252,191)",padding:10,marginTop:10,marginBottom:10},children:[(0,S.jsx)(x.IRp,{size:36,color:"orange"}),(0,S.jsx)("span",{style:{color:"rgb(116,66,16)",marginLeft:10},children:J.warning})]}),"credential"===J.type&&(0,S.jsx)(U.c,{disabled:K,data:q,inputParam:J,onSelect:e=>{q.credential=e,q.inputs[H.SI]=e}}),"file"===J.type&&(0,S.jsx)(E.S,{disabled:K,fileType:J.fileType||"*",onChange:e=>q.inputs[J.name]=e,value:null!==(t=null!==(n=q.inputs[J.name])&&void 0!==n?n:J.default)&&void 0!==t?t:"Choose a file to upload"}),"boolean"===J.type&&(0,S.jsx)(D._,{disabled:K,onChange:e=>q.inputs[J.name]=e,value:null!==(s=null!==(r=q.inputs[J.name])&&void 0!==r?r:J.default)&&void 0!==s&&s}),"datagrid"===J.type&&(0,S.jsx)(k,{disabled:K,columns:J.datagrid,hideFooter:!0,rows:null!==(h=null!==(v=q.inputs[J.name])&&void 0!==v?v:JSON.stringify(J.default))&&void 0!==h?h:[],onChange:e=>q.inputs[J.name]=e}),("string"===J.type||"password"===J.type||"number"===J.type)&&(0,S.jsx)(f.E,{disabled:K,inputParam:J,onChange:e=>q.inputs[J.name]=e,value:null!==(b=null!==(w=q.inputs[J.name])&&void 0!==w?w:J.default)&&void 0!==b?b:"",nodes:null!==J&&void 0!==J&&J.acceptVariable&&Q?Q.getNodes():[],edges:null!==J&&void 0!==J&&J.acceptVariable&&Q?Q.getEdges():[],nodeId:q.id,showDialog:ne,dialogProps:ae,onDialogCancel:()=>ie(!1),onDialogConfirm:(e,t)=>((e,t)=>{ie(!1),q.inputs[t]=e})(e,t)},q.inputs[J.name]),"json"===J.type&&(0,S.jsxs)(S.Fragment,{children:[!(null!==J&&void 0!==J&&J.acceptVariable)&&(0,S.jsx)(I.M,{disabled:K,onChange:e=>q.inputs[J.name]=e,value:null!==(C=null!==(O=q.inputs[J.name])&&void 0!==O?O:J.default)&&void 0!==C?C:"",isDarkMode:X.isDarkMode}),(null===J||void 0===J?void 0:J.acceptVariable)&&(0,S.jsxs)(S.Fragment,{children:[(0,S.jsx)(p.c,{sx:{borderRadius:25,width:"100%",mb:2,mt:2},variant:"outlined",onClick:()=>{var e;return((e,t)=>{let n=e;if("promptValues"===t.name&&!e){var i,a,o;const e={},t=(null!==(i=q.inputs.template)&&void 0!==i?i:"")+(null!==(a=q.inputs.systemMessagePrompt)&&void 0!==a?a:"")+(null!==(o=q.inputs.humanMessagePrompt)&&void 0!==o?o:""),s=(0,T.Oo)(t);for(const n of s)e[n]="";Object.keys(e).length&&(n=JSON.stringify(e))}const s={value:n,inputParam:t,nodes:Q.getNodes(),edges:Q.getEdges(),nodeId:q.id};xe(s),me(!0)})(null!==(e=q.inputs[J.name])&&void 0!==e?e:"",J)},children:"Format Prompt Values"}),(0,S.jsx)(V,{show:ue,dialogProps:he,onCancel:()=>me(!1),onChange:e=>q.inputs[J.name]=e})]})]}),"options"===J.type&&(0,S.jsx)(g.c,{disabled:K,name:J.name,options:J.options,onSelect:e=>q.inputs[J.name]=e,value:null!==(R=null!==(B=q.inputs[J.name])&&void 0!==B?B:J.default)&&void 0!==R?R:"choose an option"}),"multiOptions"===J.type&&(0,S.jsx)(j.m,{disabled:K,name:J.name,options:J.options,onSelect:e=>q.inputs[J.name]=e,value:null!==(F=null!==(L=q.inputs[J.name])&&void 0!==L?L:J.default)&&void 0!==F?F:"choose an option"}),"asyncOptions"===J.type&&(0,S.jsxs)(S.Fragment,{children:[1===q.inputParams.length&&(0,S.jsx)("div",{style:{marginTop:10}}),(0,S.jsxs)("div",{style:{display:"flex",flexDirection:"row"},children:[(0,S.jsx)(y.c,{disabled:K,name:J.name,nodeData:q,value:null!==(z=null!==(W=q.inputs[J.name])&&void 0!==W?W:J.default)&&void 0!==z?z:"choose an option",isCreateNewOption:De.includes(J.name),onSelect:e=>q.inputs[J.name]=e,onCreateNew:()=>{return"selectedTool"===(e=J.name)?ce({title:"Add New Tool",type:"ADD",cancelButtonName:"Cancel",confirmButtonName:"Add"}):"selectedAssistant"===e&&ce({title:"Add New Assistant",type:"ADD",cancelButtonName:"Cancel",confirmButtonName:"Add"}),void le(e);var e}}),De.includes(J.name)&&q.inputs[J.name]&&(0,S.jsx)(u.c,{title:"Edit",color:"primary",size:"small",onClick:()=>{return e=J.name,t=q.inputs[J.name],"selectedTool"===e?ce({title:"Edit Tool",type:"EDIT",cancelButtonName:"Cancel",confirmButtonName:"Save",toolId:t}):"selectedAssistant"===e&&ce({title:"Edit Assistant",type:"EDIT",cancelButtonName:"Cancel",confirmButtonName:"Save",assistantId:t}),void le(e);var e,t},children:(0,S.jsx)(x.GIF,{})})]},de)]})]})]}),(0,S.jsx)(M.c,{show:"selectedTool"===se,dialogProps:re,onCancel:()=>le(""),onConfirm:ye}),(0,S.jsx)(N.c,{show:"selectedAssistant"===se,dialogProps:re,onCancel:()=>le(""),onConfirm:ye})]})}},25352:(e,t,n)=>{n.d(t,{c:()=>g});var i=n(94948),a=n(59192),o=n(26e3),s=n(2973),l=n(7128),r=n(63556),c=n(2340),d=n(57651),p=n(3868),u=n(16828),m=n(18184),h=n(9e4);const x=(0,o.cp)((e=>{let{className:t,...n}=e;return(0,h.jsx)(l.c,{...n,classes:{popper:t}})}))({["& .".concat(d.c.tooltip)]:{maxWidth:500}}),g=e=>{var t,n,o,l,d,g;let{outputAnchor:j,data:y,disabled:f=!1}=e;const v=(0,s.c)(),b=(0,a.useRef)(null),w=(0,i.ET)(),[C,T]=(0,a.useState)(0),[S,k]=(0,a.useState)(null),{reactFlowInstance:E}=(0,a.useContext)(p.y);return(0,a.useEffect)((()=>{var e,t;b.current&&null!==(e=b.current)&&void 0!==e&&e.offsetTop&&null!==(t=b.current)&&void 0!==t&&t.clientHeight&&setTimeout((()=>{var e,t;T((null===(e=b.current)||void 0===e?void 0:e.offsetTop)+(null===(t=b.current)||void 0===t?void 0:t.clientHeight)/2),w(y.id)}),0)}),[y.id,b,w]),(0,a.useEffect)((()=>{setTimeout((()=>{w(y.id)}),0)}),[y.id,C,w]),(0,a.useEffect)((()=>{S&&setTimeout((()=>{w(y.id)}),0)}),[y.id,S,w]),(0,h.jsxs)("div",{ref:b,children:["options"!==j.type&&!j.options&&(0,h.jsxs)(h.Fragment,{children:[(0,h.jsx)(x,{placement:"right",title:j.type,children:(0,h.jsx)(i._2,{type:"source",position:i.JC.Right,id:j.id,isValidConnection:e=>(0,u.Ko)(e,E),style:{height:10,width:10,backgroundColor:y.selected?v.palette.primary.main:v.palette.text.secondary,top:C}},j.id)}),(0,h.jsx)(r.c,{sx:{p:2,textAlign:"end"},children:(0,h.jsx)(c.c,{children:j.label})})]}),"options"===j.type&&j.options&&j.options.length>0&&(0,h.jsxs)(h.Fragment,{children:[(0,h.jsx)(x,{placement:"right",title:null!==(t=null===(n=j.options.find((e=>{var t;return e.name===(null===(t=y.outputs)||void 0===t?void 0:t[j.name])})))||void 0===n?void 0:n.type)&&void 0!==t?t:j.type,children:(0,h.jsx)(i._2,{type:"source",position:i.JC.Right,id:null!==(o=null===(l=j.options.find((e=>{var t;return e.name===(null===(t=y.outputs)||void 0===t?void 0:t[j.name])})))||void 0===l?void 0:l.id)&&void 0!==o?o:"",isValidConnection:e=>(0,u.Ko)(e,E),style:{height:10,width:10,backgroundColor:y.selected?v.palette.primary.main:v.palette.text.secondary,top:C}})}),(0,h.jsx)(r.c,{sx:{p:2,textAlign:"end"},children:(0,h.jsx)(m.c,{disabled:f,disableClearable:!0,name:j.name,options:j.options,onSelect:e=>{k(e),y.outputs[j.name]=e},value:null!==(d=null!==(g=y.outputs[j.name])&&void 0!==g?g:j.default)&&void 0!==d?d:"choose an option"})})]})]})}},93500:(e,t,n)=>{n.d(t,{c:()=>O});var i=n(92572),a=n(59192),o=n(81710),s=n(83860),l=n(86155),r=n(12464),c=n(95836),d=n(51515),p=n(78944),u=n(63556),m=n(20332),h=n(2340),x=n(15860),g=n(54528),j=n(78472),y=n(35400),f=n(79557),v=n(9e4);const b=e=>{let{columns:t,rows:n,style:i,disabled:a=!1,onRowUpdate:o,addNewRow:s}=e;return(0,v.jsxs)(v.Fragment,{children:[!a&&(0,v.jsx)(r.c,{variant:"outlined",onClick:s,startIcon:(0,v.jsx)(f.SU7,{}),children:"Add Item"}),n&&t&&(0,v.jsx)("div",{style:{marginTop:10,height:300,width:"100%",...i},children:(0,v.jsx)(y.op,{processRowUpdate:e=>(o(e),e),isCellEditable:()=>!a,onProcessRowUpdateError:e=>console.error(e),rows:n,columns:t})})]})};var w=n(60708),C=n(13792),T=n(9440),S=n(31128),k=n(55764),E=n(29224),D=n(2973),P=n(86360),I=n(78256),A=n(54136),M=n(81424),N=n(16828);const O=e=>{let{show:t,dialogProps:n,onUseTemplate:y,onCancel:O,onConfirm:R}=e;const B=document.getElementById("portal"),F=(0,D.c)(),L=(0,o.w1)((e=>e.customization)),z=(0,o.OY)();(0,M.c)();const{confirm:W}=(0,I.c)(),V=function(){return z((0,s.mq)(...arguments))},U=function(){return z((0,s.EF)(...arguments))},H=(0,A.c)(P.c.getSpecificTool),[_,J]=(0,a.useState)(""),[q,K]=(0,a.useState)(""),[G,Y]=(0,a.useState)(""),[X,$]=(0,a.useState)(""),[Q,Z]=(0,a.useState)([]),[ee,te]=(0,a.useState)(""),ne=(0,a.useCallback)((e=>()=>{setTimeout((()=>{Z((t=>t.filter((t=>t.id!==e))))}))}),[]),ie=(0,a.useMemo)((()=>[{field:"property",headerName:"Property",editable:!0,flex:1},{field:"type",headerName:"Type",type:"singleSelect",valueOptions:["string","number","boolean","date"],editable:!0,width:120},{field:"description",headerName:"Description",editable:!0,flex:1},{field:"required",headerName:"Required",type:"boolean",editable:!0,width:80},{field:"actions",type:"actions",width:80,getActions:e=>[(0,v.jsx)(C.i,{icon:(0,v.jsx)(T.c,{}),label:"Delete",onClick:ne(e.id)},"Delete")]}]),[ne]);(0,a.useEffect)((()=>(z(t?{type:s.wp}:{type:s.OC}),()=>z({type:s.OC}))),[t,z]),(0,a.useEffect)((()=>{H.data&&(J(H.data.id),K(H.data.name),Y(H.data.description),Z((0,N.gp)(H.data.schema)),H.data.func?te(H.data.func):te(""))}),[H.data]),(0,a.useEffect)((()=>{"EDIT"===n.type&&n.data?(J(n.data.id),K(n.data.name),Y(n.data.description),$(n.data.iconSrc),Z((0,N.gp)(n.data.schema)),n.data.func?te(n.data.func):te("")):"EDIT"===n.type&&n.toolId?H.request(n.toolId):"IMPORT"===n.type&&n.data||"TEMPLATE"===n.type&&n.data?(K(n.data.name),Y(n.data.description),$(n.data.iconSrc),Z((0,N.gp)(n.data.schema)),n.data.func?te(n.data.func):te("")):"ADD"===n.type&&(J(""),K(""),Y(""),$(""),Z([]),te(""))}),[n]);const ae=t?(0,v.jsxs)(c.c,{fullWidth:!0,maxWidth:"md",open:t,onClose:O,"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description",children:[(0,v.jsx)(d.c,{sx:{fontSize:"1rem"},id:"alert-dialog-title",children:(0,v.jsxs)("div",{style:{display:"flex",flexDirection:"row"},children:[n.title,(0,v.jsx)("div",{style:{flex:1}}),"EDIT"===n.type&&(0,v.jsx)(r.c,{variant:"outlined",onClick:()=>(async()=>{try{const e=await P.c.getSpecificTool(_);if(e.data){const t=e.data;delete t.id,delete t.createdDate,delete t.updatedDate;let n=JSON.stringify(t,null,2),i="data:application/json;charset=utf-8,"+encodeURIComponent(n),a="".concat(q,"-CustomTool.json"),o=document.createElement("a");o.setAttribute("href",i),o.setAttribute("download",a),o.click()}}catch(e){const t=e.response.data||"".concat(e.response.status,": ").concat(e.response.statusText);V({message:"Failed to export Tool: ".concat(t),options:{key:(new Date).getTime()+Math.random(),variant:"error",persist:!0,action:e=>(0,v.jsx)(r.c,{style:{color:"white"},onClick:()=>U(e),children:(0,v.jsx)(f.KgB,{})})}}),O()}})(),startIcon:(0,v.jsx)(f.y_w,{}),children:"Export"})]})}),(0,v.jsxs)(p.c,{children:[(0,v.jsxs)(u.c,{sx:{p:2},children:[(0,v.jsx)(m.c,{sx:{position:"relative"},direction:"row",children:(0,v.jsxs)(h.c,{variant:"overline",children:["Tool Name",(0,v.jsx)("span",{style:{color:"red"},children:"\xa0*"}),(0,v.jsx)(w.c,{style:{marginLeft:10},title:"Tool name must be small capital letter with underscore. Ex: my_tool"})]})}),(0,v.jsx)(x.c,{id:"toolName",type:"string",fullWidth:!0,disabled:"TEMPLATE"===n.type,placeholder:"My New Tool",value:q,name:"toolName",onChange:e=>K(e.target.value)})]}),(0,v.jsxs)(u.c,{sx:{p:2},children:[(0,v.jsx)(m.c,{sx:{position:"relative"},direction:"row",children:(0,v.jsxs)(h.c,{variant:"overline",children:["Tool description",(0,v.jsx)("span",{style:{color:"red"},children:"\xa0*"}),(0,v.jsx)(w.c,{style:{marginLeft:10},title:"Description of what the tool does. This is for ChatGPT to determine when to use this tool."})]})}),(0,v.jsx)(x.c,{id:"toolDesc",type:"string",fullWidth:!0,disabled:"TEMPLATE"===n.type,placeholder:"Description of what the tool does. This is for ChatGPT to determine when to use this tool.",multiline:!0,rows:3,value:G,name:"toolDesc",onChange:e=>Y(e.target.value)})]}),(0,v.jsxs)(u.c,{sx:{p:2},children:[(0,v.jsx)(m.c,{sx:{position:"relative"},direction:"row",children:(0,v.jsx)(h.c,{variant:"overline",children:"Tool Icon Src"})}),(0,v.jsx)(x.c,{id:"toolIcon",type:"string",fullWidth:!0,disabled:"TEMPLATE"===n.type,placeholder:"https://raw.githubusercontent.com/gilbarbara/logos/main/logos/airtable.svg",value:X,name:"toolIcon",onChange:e=>$(e.target.value)})]}),(0,v.jsxs)(u.c,{sx:{p:2},children:[(0,v.jsx)(m.c,{sx:{position:"relative"},direction:"row",children:(0,v.jsxs)(h.c,{variant:"overline",children:["Output Schema",(0,v.jsx)(w.c,{style:{marginLeft:10},title:"What should be the output response in JSON format?"})]})}),(0,v.jsx)(b,{columns:ie,rows:Q,disabled:"TEMPLATE"===n.type,addNewRow:()=>{setTimeout((()=>{Z((e=>{let t=[...(0,l.cloneDeep)(e)];const n=t.length?t[t.length-1].id+1:1;return t.push({id:n,property:"",description:"",type:"",required:!1}),t}))}))},onRowUpdate:e=>{setTimeout((()=>{Z((t=>{let n=[...(0,l.cloneDeep)(t)];const i=n.findIndex((t=>t.id===e.id));return i>=0&&(n[i]={...e}),n}))}))}})]}),(0,v.jsxs)(u.c,{sx:{p:2},children:[(0,v.jsx)(m.c,{sx:{position:"relative"},direction:"row",children:(0,v.jsxs)(h.c,{variant:"overline",children:["Javascript Function",(0,v.jsx)(w.c,{style:{marginLeft:10},title:'Function to execute when tool is being used. You can use properties specified in Output Schema as variables. For example, if the property is <code>userid</code>, you can use as <code>$userid</code>. Return value must be a string. You can also override the code from API by following this <a target="_blank" href="https://docs.flowiseai.com/tools/custom-tool#override-function-from-api">guide</a>'})]})}),"TEMPLATE"!==n.type&&(0,v.jsx)(r.c,{style:{marginBottom:10},variant:"outlined",onClick:()=>te("/*\n* You can use any libraries imported in Flowise\n* You can use properties specified in Output Schema as variables. Ex: Property = userid, Variable = $userid\n* Must return a string value at the end of function\n*/\n\nconst fetch = require('node-fetch');\nconst url = 'https://api.open-meteo.com/v1/forecast?latitude=52.52&longitude=13.41&current_weather=true';\nconst options = {\n    method: 'GET',\n    headers: {\n        'Content-Type': 'application/json'\n    }\n};\ntry {\n    const response = await fetch(url, options);\n    const text = await response.text();\n    return text;\n} catch (error) {\n    console.error(error);\n    return '';\n}"),children:"See Example"}),L.isDarkMode?(0,v.jsx)(k._,{value:ee,disabled:"TEMPLATE"===n.type,onValueChange:e=>te(e),style:{fontSize:"0.875rem",minHeight:"calc(100vh - 220px)",width:"100%",borderRadius:5}}):(0,v.jsx)(E.u,{value:ee,disabled:"TEMPLATE"===n.type,onValueChange:e=>te(e),style:{fontSize:"0.875rem",minHeight:"calc(100vh - 220px)",width:"100%",border:"1px solid ".concat(F.palette.grey[300]),borderRadius:5}})]})]}),(0,v.jsxs)(g.c,{children:["EDIT"===n.type&&(0,v.jsx)(j.y,{color:"error",variant:"contained",onClick:()=>(async()=>{const e={title:"Delete Tool",description:"Delete tool ".concat(q,"?"),confirmButtonName:"Delete",cancelButtonName:"Cancel"};if(await W(e))try{(await P.c.deleteTool(_)).data&&(V({message:"Tool deleted",options:{key:(new Date).getTime()+Math.random(),variant:"success",action:e=>(0,v.jsx)(r.c,{style:{color:"white"},onClick:()=>U(e),children:(0,v.jsx)(f.KgB,{})})}}),R())}catch(t){const e=t.response.data||"".concat(t.response.status,": ").concat(t.response.statusText);V({message:"Failed to delete Tool: ".concat(e),options:{key:(new Date).getTime()+Math.random(),variant:"error",persist:!0,action:e=>(0,v.jsx)(r.c,{style:{color:"white"},onClick:()=>U(e),children:(0,v.jsx)(f.KgB,{})})}}),O()}})(),children:"Delete"}),"TEMPLATE"===n.type&&(0,v.jsx)(j.y,{color:"secondary",variant:"contained",onClick:()=>{y(n.data)},children:"Use Template"}),"TEMPLATE"!==n.type&&(0,v.jsx)(j.y,{disabled:!(q&&G),variant:"contained",onClick:()=>"ADD"===n.type||"IMPORT"===n.type?(async()=>{try{const e={name:q,description:G,color:(0,N.EX)(),schema:JSON.stringify(Q),func:ee,iconSrc:X},t=await P.c.createNewTool(e);t.data&&(V({message:"New Tool added",options:{key:(new Date).getTime()+Math.random(),variant:"success",action:e=>(0,v.jsx)(r.c,{style:{color:"white"},onClick:()=>U(e),children:(0,v.jsx)(f.KgB,{})})}}),R(t.data.id))}catch(e){const t=e.response.data||"".concat(e.response.status,": ").concat(e.response.statusText);V({message:"Failed to add new Tool: ".concat(t),options:{key:(new Date).getTime()+Math.random(),variant:"error",persist:!0,action:e=>(0,v.jsx)(r.c,{style:{color:"white"},onClick:()=>U(e),children:(0,v.jsx)(f.KgB,{})})}}),O()}})():(async()=>{try{const e=await P.c.updateTool(_,{name:q,description:G,schema:JSON.stringify(Q),func:ee,iconSrc:X});e.data&&(V({message:"Tool saved",options:{key:(new Date).getTime()+Math.random(),variant:"success",action:e=>(0,v.jsx)(r.c,{style:{color:"white"},onClick:()=>U(e),children:(0,v.jsx)(f.KgB,{})})}}),R(e.data.id))}catch(e){console.error(e);const t=e.response.data||"".concat(e.response.status,": ").concat(e.response.statusText);V({message:"Failed to save Tool: ".concat(t),options:{key:(new Date).getTime()+Math.random(),variant:"error",persist:!0,action:e=>(0,v.jsx)(r.c,{style:{color:"white"},onClick:()=>U(e),children:(0,v.jsx)(f.KgB,{})})}}),O()}})(),children:n.confirmButtonName})]}),(0,v.jsx)(S.c,{})]}):null;return(0,i.createPortal)(ae,B)}},12424:()=>{}}]);
//# sourceMappingURL=7128.32a50c69.chunk.js.map