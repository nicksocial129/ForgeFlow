"use strict";(self.webpackChunkflowise_ui=self.webpackChunkflowise_ui||[]).push([[9308],{31060:(e,t,a)=>{a.d(t,{c:()=>r});var n=a(30938),i=a(80576);const l=n.c.create({baseURL:"".concat(i.OM,"/api/v1"),headers:{"Content-type":"application/json"}});l.interceptors.request.use((function(e){const t=localStorage.getItem("username"),a=localStorage.getItem("password");return t&&a&&(e.auth={username:t,password:a}),e}));const r=l},63896:(e,t,a)=>{a.d(t,{c:()=>i});var n=a(31060);const i={getAllCredentials:()=>n.c.get("/credentials"),getCredentialsByName:e=>n.c.get("/credentials?credentialName=".concat(e)),getAllComponentsCredentials:()=>n.c.get("/components-credentials"),getSpecificCredential:e=>n.c.get("/credentials/".concat(e)),getSpecificComponentCredential:e=>n.c.get("/components-credentials/".concat(e)),createCredential:e=>n.c.post("/credentials",e),updateCredential:(e,t)=>n.c.put("/credentials/".concat(e),t),deleteCredential:e=>n.c.delete("/credentials/".concat(e))}},54136:(e,t,a)=>{a.d(t,{c:()=>i});var n=a(59192);const i=e=>{const[t,a]=(0,n.useState)(null),[i,l]=(0,n.useState)(null),[r,o]=(0,n.useState)(!1);return{data:t,error:i,loading:r,request:async function(){o(!0);try{const t=await e(...arguments);a(t.data)}catch(err){l(err||"Unexpected Error!")}finally{o(!1)}}}}},78256:(e,t,a)=>{a.d(t,{c:()=>o});var n=a(59192),i=a(65424),l=a(83860);let r;const o=()=>{const[e,t]=(0,n.useContext)(i.c),a=()=>{t({type:l.uo})};return{confirm:e=>(t({type:l.Yz,payload:e}),new Promise((e=>{r=e}))),onConfirm:()=>{a(),r(!0)},onCancel:()=>{a(),r(!1)},confirmState:e}}},78472:(e,t,a)=>{a.d(t,{y:()=>r});var n=a(26e3),i=a(12464),l=a(43152);const r=(0,n.cp)(i.c)((e=>{let{theme:t,color:a="primary"}=e;return{color:"white",backgroundColor:t.palette[a].main,"&:hover":{backgroundColor:t.palette[a].main,backgroundImage:"linear-gradient(rgb(0 0 0/10%) 0 0)"}}}));(0,n.cp)(l.c)((e=>{let{theme:t,color:a="primary"}=e;return{"&.Mui-selected, &.Mui-selected:hover":{color:"white",backgroundColor:t.palette[a].main}}}))},31128:(e,t,a)=>{a.d(t,{c:()=>u});var n=a(92572),i=a(95836),l=a(51515),r=a(78944),o=a(54528),s=a(12464),c=a(78256),d=a(78472),p=a(9e4);const u=()=>{const{onConfirm:e,onCancel:t,confirmState:a}=(0,c.c)(),u=document.getElementById("portal"),h=a.show?(0,p.jsxs)(i.c,{fullWidth:!0,maxWidth:"xs",open:a.show,onClose:t,"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description",children:[(0,p.jsx)(l.c,{sx:{fontSize:"1rem"},id:"alert-dialog-title",children:a.title}),(0,p.jsx)(r.c,{children:(0,p.jsx)("span",{children:a.description})}),(0,p.jsxs)(o.c,{children:[(0,p.jsx)(s.c,{onClick:t,children:a.cancelButtonName}),(0,p.jsx)(d.y,{variant:"contained",onClick:e,children:a.confirmButtonName})]})]}):null;return(0,n.createPortal)(h,u)}},18184:(e,t,a)=>{a.d(t,{c:()=>m});var n=a(59192),i=a(81710),l=a(78508),r=a(61368),o=a(59756),s=a(63556),c=a(2340),d=a(23364),p=a(84868),u=a(26e3),h=a(9e4);const x=(0,u.cp)(l.c)({boxShadow:"0px 8px 10px -5px rgb(0 0 0 / 20%), 0px 16px 24px 2px rgb(0 0 0 / 14%), 0px 6px 30px 5px rgb(0 0 0 / 12%)",borderRadius:"10px",["& .".concat(d.c.listbox)]:{boxSizing:"border-box","& ul":{padding:10,margin:10}}}),m=e=>{let{name:t,value:a,options:l,onSelect:d,disabled:u=!1,disableClearable:m=!1}=e;const g=(0,i.w1)((e=>e.customization));let[b,j]=(0,n.useState)(null!==a&&void 0!==a?a:"choose an option");return(0,h.jsx)(r.c,{sx:{mt:1,width:"100%"},size:"small",children:(0,h.jsx)(p.c,{id:t,disabled:u,disableClearable:m,size:"small",options:l||[],value:function(){let e=arguments.length>1?arguments[1]:void 0;return(arguments.length>0&&void 0!==arguments[0]?arguments[0]:[]).find((t=>t.name===e))}(l,b)||"",onChange:(e,t)=>{const a=t?t.name:"";j(a),d(a)},PopperComponent:x,renderInput:e=>(0,h.jsx)(o.c,{...e,value:b}),renderOption:(e,t)=>(0,h.jsx)(s.c,{component:"li",...e,children:(0,h.jsxs)("div",{style:{display:"flex",flexDirection:"column"},children:[(0,h.jsx)(c.c,{variant:"h5",children:t.label}),t.description&&(0,h.jsx)(c.c,{sx:{color:g.isDarkMode?"#9e9e9e":""},children:t.description})]})})})})}},55764:(e,t,a)=>{a.d(t,{_:()=>s});var n=a(47463),i=a.n(n),l=a(91352),r=(a(17564),a(90440),a(68584),a(53944),a(2973)),o=a(9e4);const s=e=>{let{value:t,placeholder:a,disabled:n=!1,type:s,style:c,onValueChange:d,onMouseUp:p,onBlur:u}=e;const h=(0,r.c)();return(0,o.jsx)(i(),{disabled:n,value:t,placeholder:a,highlight:e=>(0,l.highlight)(e,"json"===s?l.languages.json:l.languages.js),padding:10,onValueChange:d,onMouseUp:p,onBlur:u,tabSize:4,style:{...c,background:h.palette.codeEditor.main},textareaClassName:"editor__textarea"})}},29224:(e,t,a)=>{a.d(t,{u:()=>s});var n=a(47463),i=a.n(n),l=a(91352),r=(a(17564),a(90440),a(68584),a(53944),a(2973)),o=a(9e4);const s=e=>{let{value:t,placeholder:a,disabled:n=!1,type:s,style:c,onValueChange:d,onMouseUp:p,onBlur:u}=e;const h=(0,r.c)();return(0,o.jsx)(i(),{disabled:n,value:t,placeholder:a,highlight:e=>(0,l.highlight)(e,"json"===s?l.languages.json:l.languages.js),padding:10,onValueChange:d,onMouseUp:p,onBlur:u,tabSize:4,style:{...c,background:h.palette.card.main},textareaClassName:"editor__textarea"})}},38154:(e,t,a)=>{a.d(t,{E:()=>k});var n=a(59192),i=a(61368),l=a(15860),r=a(31824),o=a(92572),s=a(81710),c=a(95836),d=a(78944),p=a(2340),u=a(54528),h=a(12464),x=a(2973),m=a(94604),g=a.n(m),b=a(78472),j=a(55764),y=a(29224),v=a(83860),f=a(9e4);const C=e=>{let{show:t,dialogProps:a,onCancel:i,onConfirm:l}=e;const r=document.getElementById("portal"),m=(0,x.c)(),C=(0,s.OY)(),w=(0,s.w1)((e=>e.customization)),S="json",[k,D]=(0,n.useState)(""),[O,R]=(0,n.useState)(null);(0,n.useEffect)((()=>(a.value&&D(a.value),a.inputParam&&R(a.inputParam),()=>{D(""),R(null)})),[a]),(0,n.useEffect)((()=>(C(t?{type:v.wp}:{type:v.OC}),()=>C({type:v.OC}))),[t,C]);const z=t?(0,f.jsxs)(c.c,{open:t,fullWidth:!0,maxWidth:"md","aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description",children:[(0,f.jsx)(d.c,{children:(0,f.jsx)("div",{style:{display:"flex",flexDirection:"row"},children:O&&"string"===O.type&&(0,f.jsxs)("div",{style:{flex:70},children:[(0,f.jsx)(p.c,{sx:{mb:2,ml:1},variant:"h4",children:O.label}),(0,f.jsx)(g(),{style:{border:"1px solid",borderColor:m.palette.grey[500],borderRadius:"12px",height:"100%",maxHeight:"calc(100vh - 220px)",overflowX:"hidden",backgroundColor:"white"},children:w.isDarkMode?(0,f.jsx)(j._,{disabled:a.disabled,value:k,onValueChange:e=>D(e),placeholder:O.placeholder,type:S,style:{fontSize:"0.875rem",minHeight:"calc(100vh - 220px)",width:"100%"}}):(0,f.jsx)(y.u,{disabled:a.disabled,value:k,onValueChange:e=>D(e),placeholder:O.placeholder,type:S,style:{fontSize:"0.875rem",minHeight:"calc(100vh - 220px)",width:"100%"}})})]})})}),(0,f.jsxs)(u.c,{children:[(0,f.jsx)(h.c,{onClick:i,children:a.cancelButtonName}),(0,f.jsx)(b.y,{disabled:a.disabled,variant:"contained",onClick:()=>l(k,O.name),children:a.confirmButtonName})]})]}):null;return(0,o.createPortal)(z,r)};var w=a(36208),S=a(16828);const k=e=>{var t,a;let{inputParam:o,value:s,nodes:c,edges:d,nodeId:p,onChange:u,disabled:h=!1,showDialog:x,dialogProps:m,onDialogCancel:g,onDialogConfirm:b}=e;const[j,y]=(0,n.useState)(null!==s&&void 0!==s?s:""),[v,k]=(0,n.useState)(null),[D,O]=(0,n.useState)([]),R=(0,n.useRef)(null),z=Boolean(v),E=()=>{k(null)};return(0,n.useEffect)((()=>{if(!h&&c&&d&&p&&o){const e=null!==o&&void 0!==o&&o.acceptVariable?(0,S.gJ)(c,d,p,o.id):[];O(e)}}),[h,o,c,d,p]),(0,n.useEffect)((()=>{"string"===typeof j&&j&&j.endsWith("{{")&&k(R.current)}),[j]),(0,f.jsxs)(f.Fragment,{children:[(0,f.jsx)(i.c,{sx:{mt:1,width:"100%"},size:"small",children:(0,f.jsx)(l.c,{id:o.name,size:"small",disabled:h,type:(e=>{switch(e){case"string":default:return"text";case"password":return"password";case"number":return"number"}})(o.type),placeholder:o.placeholder,multiline:!!o.rows,rows:null!==(t=o.rows)&&void 0!==t?t:1,value:j,name:o.name,onChange:e=>{y(e.target.value),u(e.target.value)},inputProps:{step:null!==(a=o.step)&&void 0!==a?a:1,style:{height:o.rows?"90px":"inherit"}}})}),x&&(0,f.jsx)(C,{show:x,dialogProps:m,onCancel:g,onConfirm:(e,t)=>{y(e),b(e,t)}}),(0,f.jsx)("div",{ref:R}),(null===o||void 0===o?void 0:o.acceptVariable)&&(0,f.jsx)(r.cp,{open:z,anchorEl:v,onClose:E,anchorOrigin:{vertical:"bottom",horizontal:"left"},transformOrigin:{vertical:"top",horizontal:"left"},children:(0,f.jsx)(w.c,{disabled:h,availableNodesForVariable:D,onSelectAndReturnVal:e=>{(e=>{const t=j+e.substring(2);u(t),y(t)})(e),E()}})})]})}},42480:(e,t,a)=>{a.d(t,{M:()=>u});var n=a(59192),i=a(61368),l=a(31824),r=a(78824),o=a.n(r),s=a(36208),c=a(86155),d=a(16828),p=a(9e4);const u=e=>{let{value:t,onChange:a,inputParam:r,nodes:u,edges:h,nodeId:x,disabled:m=!1,isDarkMode:g=!1}=e;const[b,j]=(0,n.useState)(t?JSON.parse(t):{}),[y,v]=(0,n.useState)([]),[f,C]=(0,n.useState)(""),[w,S]=(0,n.useState)(null),k=Boolean(w),D=()=>{S(null)},O=e=>{const t=e.src;Array.isArray(t)||"object"===typeof t?navigator.clipboard.writeText(JSON.stringify(t,null,"  ")):navigator.clipboard.writeText(t)};return(0,n.useEffect)((()=>{if(!m&&u&&h&&x&&r){const e=null!==r&&void 0!==r&&r.acceptVariable?(0,d.gJ)(u,h,x,r.id):[];v(e)}}),[m,r,u,h,x]),(0,p.jsxs)(p.Fragment,{children:[(0,p.jsxs)(i.c,{sx:{mt:1,width:"100%"},size:"small",children:[m&&(0,p.jsx)(o(),{theme:g?"ocean":"rjv-default",style:{padding:10,borderRadius:10},src:b,name:null,enableClipboard:e=>O(e),quotesOnKeys:!1,displayDataTypes:!1}),!m&&(0,p.jsx)("div",{children:(0,p.jsx)(o(),{theme:g?"ocean":"rjv-default",style:{padding:10,borderRadius:10},src:b,name:null,quotesOnKeys:!1,displayDataTypes:!1,enableClipboard:e=>O(e),onMouseUp:e=>{null!==r&&void 0!==r&&r.acceptVariable&&(C(e.name),S(e.currentTarget))},onEdit:e=>{j(e.updated_src),a(JSON.stringify(e.updated_src))},onAdd:()=>{},onDelete:e=>{j(e.updated_src),a(JSON.stringify(e.updated_src))}})},JSON.stringify(b))]}),(null===r||void 0===r?void 0:r.acceptVariable)&&(0,p.jsx)(l.cp,{open:k,anchorEl:w,onClose:D,anchorOrigin:{vertical:"bottom",horizontal:"left"},transformOrigin:{vertical:"top",horizontal:"left"},children:(0,p.jsx)(s.c,{disabled:m,availableNodesForVariable:y,onSelectAndReturnVal:e=>{(e=>{const t=(0,c.cloneDeep)(b);t[f]=e,a(JSON.stringify(t)),j((t=>({...t,[f]:e})))})(e),D()}})})]})}},36208:(e,t,a)=>{a.d(t,{c:()=>j});var n=a(81710),i=a(20332),l=a(2340),r=a(63556),o=a(54156),s=a(50944),c=a(62168),d=a(46900),p=a(18436),u=a(94604),h=a.n(u),x=a(18548);const m=a.p+"static/media/chathistory.c04a95d8006f2ac86a7d.png";var g=a(80576),b=a(9e4);const j=e=>{let{availableNodesForVariable:t,disabled:a=!1,onSelectAndReturnVal:u}=e;const j=(0,n.w1)((e=>e.customization)),y=(e,t)=>{let a=e?"".concat(e.id,".data.instance"):t;const n="{{".concat(a,"}}");u(n)};return(0,b.jsx)(b.Fragment,{children:!a&&(0,b.jsxs)("div",{style:{flex:30},children:[(0,b.jsx)(i.c,{flexDirection:"row",sx:{mb:1,ml:2,mt:2},children:(0,b.jsx)(l.c,{variant:"h5",children:"Select Variable"})}),(0,b.jsx)(h(),{style:{height:"100%",maxHeight:"calc(100vh - 220px)",overflowX:"hidden"},children:(0,b.jsx)(r.c,{sx:{pl:2,pr:2},children:(0,b.jsxs)(o.c,{children:[(0,b.jsx)(s.c,{sx:{p:0,borderRadius:"".concat(j.borderRadius,"px"),boxShadow:"0 2px 14px 0 rgb(32 40 45 / 8%)",mb:1},disabled:a,onClick:()=>y(null,"question"),children:(0,b.jsxs)(c.cp,{alignItems:"center",children:[(0,b.jsx)(d.c,{children:(0,b.jsx)("div",{style:{width:50,height:50,borderRadius:"50%",backgroundColor:"white"},children:(0,b.jsx)("img",{style:{width:"100%",height:"100%",padding:10,objectFit:"contain"},alt:"AI",src:x})})}),(0,b.jsx)(p.c,{sx:{ml:1},primary:"question",secondary:"User's question from chatbox"})]})}),(0,b.jsx)(s.c,{sx:{p:0,borderRadius:"".concat(j.borderRadius,"px"),boxShadow:"0 2px 14px 0 rgb(32 40 45 / 8%)",mb:1},disabled:a,onClick:()=>y(null,"chat_history"),children:(0,b.jsxs)(c.cp,{alignItems:"center",children:[(0,b.jsx)(d.c,{children:(0,b.jsx)("div",{style:{width:50,height:50,borderRadius:"50%",backgroundColor:"white"},children:(0,b.jsx)("img",{style:{width:"100%",height:"100%",padding:10,objectFit:"contain"},alt:"chatHistory",src:m})})}),(0,b.jsx)(p.c,{sx:{ml:1},primary:"chat_history",secondary:"Past conversation history between user and AI"})]})}),t&&t.length>0&&t.map(((e,t)=>{var n;const i=e.data.outputAnchors[0].options.find((t=>t.name===e.data.outputs.output));return(0,b.jsx)(s.c,{sx:{p:0,borderRadius:"".concat(j.borderRadius,"px"),boxShadow:"0 2px 14px 0 rgb(32 40 45 / 8%)",mb:1},disabled:a,onClick:()=>y(e),children:(0,b.jsxs)(c.cp,{alignItems:"center",children:[(0,b.jsx)(d.c,{children:(0,b.jsx)("div",{style:{width:50,height:50,borderRadius:"50%",backgroundColor:"white"},children:(0,b.jsx)("img",{style:{width:"100%",height:"100%",padding:10,objectFit:"contain"},alt:e.data.name,src:"".concat(g.OM,"/api/v1/node-icon/").concat(e.data.name)})})}),(0,b.jsx)(p.c,{sx:{ml:1},primary:e.data.inputs.chainName?e.data.inputs.chainName:e.data.id,secondary:"".concat(null!==(n=null===i||void 0===i?void 0:i.label)&&void 0!==n?n:"output"," from ").concat(e.data.label)})]})},t)}))]})})})]})})}},5220:(e,t,a)=>{a.d(t,{_:()=>o});var n=a(59192),i=a(61368),l=a(75184),r=a(9e4);const o=e=>{var t;let{value:a,onChange:o,disabled:s=!1}=e;const[c,d]=(0,n.useState)(null!==(t=!!a)&&void 0!==t&&t);return(0,r.jsx)(r.Fragment,{children:(0,r.jsx)(i.c,{sx:{mt:1,width:"100%"},size:"small",children:(0,r.jsx)(l.c,{disabled:s,checked:c,onChange:e=>{d(e.target.checked),o(e.target.checked)}})})})}},60708:(e,t,a)=>{a.d(t,{c:()=>c});var n=a(6196),i=a(7128),l=a(32160),r=a(51784),o=a(81710),s=a(9e4);const c=e=>{let{title:t,style:a}=e;const c=(0,o.w1)((e=>e.customization));return(0,s.jsx)(i.c,{title:(0,r.cp)(t),placement:"right",children:(0,s.jsx)(l.c,{sx:{height:15,width:15},children:(0,s.jsx)(n.c,{style:{...a,background:"transparent",color:c.isDarkMode?"white":"inherit",height:15,width:15}})})})}},81424:(e,t,a)=>{a.d(t,{c:()=>s});var n=a(59192),i=a(81710),l=a(34766),r=a(83860);let o=[];const s=()=>{const e=(0,i.OY)(),t=(0,i.w1)((e=>e.notifier)),{notifications:a}=t,{enqueueSnackbar:s,closeSnackbar:c}=(0,l.uU)();n.useEffect((()=>{a.forEach((t=>{let{key:a,message:n,options:i={},dismissed:l=!1}=t;var d;l?c(a):o.includes(a)||(s(n,{key:a,...i,onClose:(e,t,a)=>{i.onClose&&i.onClose(e,t,a)},onExited:(t,a)=>{var n;e((0,r.WL)(a)),n=a,o=[...o.filter((e=>n!==e))]}}),d=a,o=[...o,d])}))}),[a,c,s,e])}},96996:(e,t,a)=>{a.d(t,{c:()=>M});var n=a(92572),i=a(59192),l=a(81710),r=a(83860),o=a(51784),s=a(12464),c=a(95836),d=a(51515),p=a(78944),u=a(63556),h=a(20332),x=a(2340),m=a(15860),g=a(54528),b=a(78472),j=a(31128),y=a(32160),v=a(79557),f=a(18184),C=a(38154),w=a(5220),S=a(42480),k=a(60708),D=a(9e4);const O=e=>{var t,a,n,r,o,s,c,d;let{inputParam:p,data:h,disabled:m=!1}=e;const g=(0,l.w1)((e=>e.customization)),b=(0,i.useRef)(null),[j,O]=(0,i.useState)(!1),[R,z]=(0,i.useState)({});return(0,D.jsx)("div",{ref:b,children:p&&(0,D.jsx)(D.Fragment,{children:(0,D.jsxs)(u.c,{sx:{p:2},children:[(0,D.jsxs)("div",{style:{display:"flex",flexDirection:"row"},children:[(0,D.jsxs)(x.c,{children:[p.label,!p.optional&&(0,D.jsx)("span",{style:{color:"red"},children:"\xa0*"}),p.description&&(0,D.jsx)(k.c,{style:{marginLeft:10},title:p.description})]}),(0,D.jsx)("div",{style:{flexGrow:1}}),"string"===p.type&&p.rows&&(0,D.jsx)(y.c,{size:"small",sx:{height:25,width:25},title:"Expand",color:"primary",onClick:()=>{var e,t;return((e,t)=>{z({value:e,inputParam:t,disabled:m,confirmButtonName:"Save",cancelButtonName:"Cancel"}),O(!0)})(null!==(e=null!==(t=h[p.name])&&void 0!==t?t:p.default)&&void 0!==e?e:"",p)},children:(0,D.jsx)(v.oxS,{})})]}),p.warning&&(0,D.jsxs)("div",{style:{display:"flex",flexDirection:"row",borderRadius:10,background:"rgb(254,252,191)",padding:10,marginTop:10,marginBottom:10},children:[(0,D.jsx)(v.IRp,{size:36,color:"orange"}),(0,D.jsx)("span",{style:{color:"rgb(116,66,16)",marginLeft:10},children:p.warning})]}),"boolean"===p.type&&(0,D.jsx)(w._,{disabled:m,onChange:e=>h[p.name]=e,value:null!==(t=null!==(a=h[p.name])&&void 0!==a?a:p.default)&&void 0!==t&&t}),("string"===p.type||"password"===p.type||"number"===p.type)&&(0,D.jsx)(C.E,{disabled:m,inputParam:p,onChange:e=>h[p.name]=e,value:null!==(n=null!==(r=h[p.name])&&void 0!==r?r:p.default)&&void 0!==n?n:"",showDialog:j,dialogProps:R,onDialogCancel:()=>O(!1),onDialogConfirm:(e,t)=>((e,t)=>{O(!1),h[t]=e})(e,t)},h[p.name]),"json"===p.type&&(0,D.jsx)(S.M,{disabled:m,onChange:e=>h[p.name]=e,value:null!==(o=null!==(s=h[p.name])&&void 0!==s?s:p.default)&&void 0!==o?o:"",isDarkMode:g.isDarkMode}),"options"===p.type&&(0,D.jsx)(f.c,{disabled:m,name:p.name,options:p.options,onSelect:e=>h[p.name]=e,value:null!==(c=null!==(d=h[p.name])&&void 0!==d?d:p.default)&&void 0!==c?c:"choose an option"})]})})})};var R=a(63896),z=a(54136),E=a(81424),N=a(80576);const M=e=>{let{show:t,dialogProps:a,onCancel:y,onConfirm:f}=e;const C=document.getElementById("portal"),w=(0,l.OY)();(0,E.c)();const S=function(){return w((0,r.mq)(...arguments))},k=function(){return w((0,r.EF)(...arguments))},M=(0,z.c)(R.c.getSpecificCredential),B=(0,z.c)(R.c.getSpecificComponentCredential),[I,P]=(0,i.useState)({}),[V,A]=(0,i.useState)(""),[F,T]=(0,i.useState)({}),[_,W]=(0,i.useState)({});(0,i.useEffect)((()=>{M.data&&(P(M.data),M.data.name&&A(M.data.name),M.data.plainDataObj&&T(M.data.plainDataObj),B.request(M.data.credentialName))}),[M.data]),(0,i.useEffect)((()=>{B.data&&W(B.data)}),[B.data]),(0,i.useEffect)((()=>{"EDIT"===a.type&&a.data?M.request(a.data.id):"EDIT"===a.type&&a.credentialId?M.request(a.credentialId):"ADD"===a.type&&a.credentialComponent&&(A(""),P({}),T({}),W(a.credentialComponent))}),[a]),(0,i.useEffect)((()=>(w(t?{type:r.wp}:{type:r.OC}),()=>w({type:r.OC}))),[t,w]);const q=t?(0,D.jsxs)(c.c,{fullWidth:!0,maxWidth:"sm",open:t,onClose:y,"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description",children:[(0,D.jsx)(d.c,{sx:{fontSize:"1rem"},id:"alert-dialog-title",children:_&&_.label&&(0,D.jsxs)("div",{style:{display:"flex",flexDirection:"row",alignItems:"center"},children:[(0,D.jsx)("div",{style:{width:50,height:50,marginRight:10,borderRadius:"50%",backgroundColor:"white"},children:(0,D.jsx)("img",{style:{width:"100%",height:"100%",padding:7,borderRadius:"50%",objectFit:"contain"},alt:_.name,src:"".concat(N.OM,"/api/v1/components-credentials-icon/").concat(_.name)})}),_.label]})}),(0,D.jsxs)(p.c,{children:[_&&_.description&&(0,D.jsx)(u.c,{sx:{pl:2,pr:2},children:(0,D.jsx)("div",{style:{display:"flex",flexDirection:"row",borderRadius:10,background:"rgb(254,252,191)",padding:10,marginTop:10,marginBottom:10},children:(0,D.jsx)("span",{style:{color:"rgb(116,66,16)"},children:(0,o.cp)(_.description)})})}),_&&_.label&&(0,D.jsxs)(u.c,{sx:{p:2},children:[(0,D.jsx)(h.c,{sx:{position:"relative"},direction:"row",children:(0,D.jsxs)(x.c,{variant:"overline",children:["Credential Name",(0,D.jsx)("span",{style:{color:"red"},children:"\xa0*"})]})}),(0,D.jsx)(m.c,{id:"credName",type:"string",fullWidth:!0,placeholder:_.label,value:V,name:"name",onChange:e=>A(e.target.value)})]}),_&&_.inputs&&_.inputs.map(((e,t)=>(0,D.jsx)(O,{inputParam:e,data:F},t)))]}),(0,D.jsx)(g.c,{children:(0,D.jsx)(b.y,{disabled:!V,variant:"contained",onClick:()=>"ADD"===a.type?(async()=>{try{const e={name:V,credentialName:_.name,plainDataObj:F},t=await R.c.createCredential(e);t.data&&(S({message:"New Credential added",options:{key:(new Date).getTime()+Math.random(),variant:"success",action:e=>(0,D.jsx)(s.c,{style:{color:"white"},onClick:()=>k(e),children:(0,D.jsx)(v.KgB,{})})}}),f(t.data.id))}catch(e){const t="string"===typeof err?err:err.response.data||"".concat(err.response.status,": ").concat(err.response.statusText);S({message:"Failed to add new Credential: ".concat(t),options:{key:(new Date).getTime()+Math.random(),variant:"error",persist:!0,action:e=>(0,D.jsx)(s.c,{style:{color:"white"},onClick:()=>k(e),children:(0,D.jsx)(v.KgB,{})})}}),y()}})():(async()=>{try{const e={name:V,credentialName:_.name};let t={};for(const n in F)F[n]!==N.mW&&(t[n]=F[n]);Object.keys(t).length&&(e.plainDataObj=t);const a=await R.c.updateCredential(I.id,e);a.data&&(S({message:"Credential saved",options:{key:(new Date).getTime()+Math.random(),variant:"success",action:e=>(0,D.jsx)(s.c,{style:{color:"white"},onClick:()=>k(e),children:(0,D.jsx)(v.KgB,{})})}}),f(a.data.id))}catch(e){const t=e.response.data||"".concat(e.response.status,": ").concat(e.response.statusText);S({message:"Failed to save Credential: ".concat(t),options:{key:(new Date).getTime()+Math.random(),variant:"error",persist:!0,action:e=>(0,D.jsx)(s.c,{style:{color:"white"},onClick:()=>k(e),children:(0,D.jsx)(v.KgB,{})})}}),y()}})(),children:a.confirmButtonName})}),(0,D.jsx)(j.c,{})]}):null;return(0,n.createPortal)(q,C)}},69448:(e,t,a)=>{a.d(t,{c:()=>C});var n=a(59192),i=a(92572),l=a(81710),r=a(95836),o=a(51515),s=a(63556),c=a(15860),d=a(69040),p=a(78944),u=a(54156),h=a(50944),x=a(62168),m=a(46900),g=a(18436),b=a(2973),j=a(79557),y=a(80576),v=a(83860),f=a(9e4);const C=e=>{let{show:t,dialogProps:a,onCancel:C,onCredentialSelected:w}=e;const S=document.getElementById("portal"),k=(0,l.w1)((e=>e.customization)),D=(0,l.OY)(),O=(0,b.c)(),[R,z]=(0,n.useState)(""),[E,N]=(0,n.useState)([]),M=e=>{z(e),setTimeout((()=>{if(e){const t=a.componentsCredentials.filter((t=>t.name.toLowerCase().includes(e.toLowerCase())));N(t)}else""===e&&N(a.componentsCredentials)}),500)};(0,n.useEffect)((()=>{a.componentsCredentials&&N(a.componentsCredentials)}),[a]),(0,n.useEffect)((()=>(D(t?{type:v.wp}:{type:v.OC}),()=>D({type:v.OC}))),[t,D]);const B=t?(0,f.jsxs)(r.c,{fullWidth:!0,maxWidth:"xs",open:t,onClose:C,"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description",children:[(0,f.jsxs)(o.c,{sx:{fontSize:"1rem"},id:"alert-dialog-title",children:[a.title,(0,f.jsx)(s.c,{sx:{p:2},children:(0,f.jsx)(c.c,{sx:{width:"100%",pr:2,pl:2,my:2},id:"input-search-credential",value:R,onChange:e=>M(e.target.value),placeholder:"Search credential",startAdornment:(0,f.jsx)(d.c,{position:"start",children:(0,f.jsx)(j.OwM,{stroke:1.5,size:"1rem",color:O.palette.grey[500]})}),endAdornment:(0,f.jsx)(d.c,{position:"end",sx:{cursor:"pointer",color:O.palette.grey[500],"&:hover":{color:O.palette.grey[900]}},title:"Clear Search",children:(0,f.jsx)(j.KgB,{stroke:1.5,size:"1rem",onClick:()=>M(""),style:{cursor:"pointer"}})}),"aria-describedby":"search-helper-text",inputProps:{"aria-label":"weight"}})})]}),(0,f.jsx)(p.c,{children:(0,f.jsx)(u.c,{sx:{width:"100%",py:0,borderRadius:"10px",[O.breakpoints.down("md")]:{maxWidth:370},"& .MuiListItemSecondaryAction-root":{top:22},"& .MuiDivider-root":{my:0},"& .list-container":{pl:7}},children:[...E].map((e=>(0,f.jsx)("div",{children:(0,f.jsx)(h.c,{onClick:()=>w(e),sx:{p:0,borderRadius:"".concat(k.borderRadius,"px")},children:(0,f.jsxs)(x.cp,{alignItems:"center",children:[(0,f.jsx)(m.c,{children:(0,f.jsx)("div",{style:{width:50,height:50,borderRadius:"50%",backgroundColor:"white"},children:(0,f.jsx)("img",{style:{width:"100%",height:"100%",padding:7,borderRadius:"50%",objectFit:"contain"},alt:e.name,src:"".concat(y.OM,"/api/v1/components-credentials-icon/").concat(e.name)})})}),(0,f.jsx)(g.c,{sx:{ml:1},primary:e.label})]})})},e.name)))})})]}):null;return(0,i.createPortal)(B,S)}},18548:(e,t,a)=>{e.exports=a.p+"static/media/robot.3e38acc0493763eacabe.png"}}]);
//# sourceMappingURL=9308.a3257446.chunk.js.map