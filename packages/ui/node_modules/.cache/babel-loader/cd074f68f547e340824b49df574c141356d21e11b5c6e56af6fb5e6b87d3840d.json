{"ast":null,"code":"import{createPortal}from'react-dom';import{useDispatch}from'react-redux';import{useEffect}from'react';// Material\nimport{Dialog,DialogContent,DialogTitle}from'@mui/material';import{TableViewOnly}from'ui-component/table/Table';// Store\nimport{HIDE_CANVAS_DIALOG,SHOW_CANVAS_DIALOG}from'store/actions';import{baseURL}from'store/constant';// API\nimport configApi from'api/config';import useApi from'hooks/useApi';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";const NodeInfoDialog=_ref=>{var _dialogProps$data;let{show,dialogProps,onCancel}=_ref;const portalElement=document.getElementById('portal');const dispatch=useDispatch();const getNodeConfigApi=useApi(configApi.getNodeConfig);useEffect(()=>{if(dialogProps.data){getNodeConfigApi.request(dialogProps.data);}// eslint-disable-next-line react-hooks/exhaustive-deps\n},[dialogProps]);useEffect(()=>{if(show)dispatch({type:SHOW_CANVAS_DIALOG});else dispatch({type:HIDE_CANVAS_DIALOG});return()=>dispatch({type:HIDE_CANVAS_DIALOG});},[show,dispatch]);const component=show?/*#__PURE__*/_jsxs(Dialog,{onClose:onCancel,open:show,fullWidth:true,maxWidth:\"md\",\"aria-labelledby\":\"alert-dialog-title\",\"aria-describedby\":\"alert-dialog-description\",children:[/*#__PURE__*/_jsx(DialogTitle,{sx:{fontSize:'1rem'},id:\"alert-dialog-title\",children:dialogProps.data&&dialogProps.data.name&&dialogProps.data.label&&/*#__PURE__*/_jsxs(\"div\",{style:{display:'flex',flexDirection:'row',alignItems:'center'},children:[/*#__PURE__*/_jsx(\"div\",{style:{width:50,height:50,marginRight:10,borderRadius:'50%',backgroundColor:'white'},children:/*#__PURE__*/_jsx(\"img\",{style:{width:'100%',height:'100%',padding:7,borderRadius:'50%',objectFit:'contain'},alt:dialogProps.data.name,src:\"\".concat(baseURL,\"/api/v1/node-icon/\").concat(dialogProps.data.name)})}),/*#__PURE__*/_jsxs(\"div\",{style:{display:'flex',flexDirection:'column',marginLeft:10},children:[dialogProps.data.label,/*#__PURE__*/_jsxs(\"div\",{style:{display:'flex',flexDirection:'row'},children:[/*#__PURE__*/_jsx(\"div\",{style:{display:'flex',flexDirection:'row',width:'max-content',borderRadius:15,background:'rgb(254,252,191)',padding:5,paddingLeft:10,paddingRight:10,marginTop:5,marginBottom:5},children:/*#__PURE__*/_jsx(\"span\",{style:{color:'rgb(116,66,16)',fontSize:'0.825rem'},children:dialogProps.data.id})}),dialogProps.data.version&&/*#__PURE__*/_jsx(\"div\",{style:{display:'flex',flexDirection:'row',width:'max-content',borderRadius:15,background:'#e9edc9',padding:5,paddingLeft:10,paddingRight:10,marginTop:5,marginLeft:10,marginBottom:5},children:/*#__PURE__*/_jsxs(\"span\",{style:{color:'#606c38',fontSize:'0.825rem'},children:[\"version \",dialogProps.data.version]})}),dialogProps.data.badge&&/*#__PURE__*/_jsx(\"div\",{style:{display:'flex',flexDirection:'row',width:'max-content',borderRadius:15,background:dialogProps.data.badge==='DEPRECATING'?'#ffe57f':'#52b69a',padding:5,paddingLeft:10,paddingRight:10,marginTop:5,marginLeft:10,marginBottom:5},children:/*#__PURE__*/_jsx(\"span\",{style:{color:dialogProps.data.badge!=='DEPRECATING'?'white':'inherit',fontSize:'0.825rem'},children:dialogProps.data.badge})})]})]})]})}),/*#__PURE__*/_jsxs(DialogContent,{children:[((_dialogProps$data=dialogProps.data)===null||_dialogProps$data===void 0?void 0:_dialogProps$data.description)&&/*#__PURE__*/_jsx(\"div\",{style:{padding:10,marginBottom:10},children:/*#__PURE__*/_jsx(\"span\",{children:dialogProps.data.description})}),getNodeConfigApi.data&&getNodeConfigApi.data.length>0&&/*#__PURE__*/_jsx(TableViewOnly,{rows:getNodeConfigApi.data.map(obj=>{// eslint-disable-next-line\nconst{node,nodeId,...rest}=obj;return rest;}),columns:Object.keys(getNodeConfigApi.data[0]).slice(-3)})]})]}):null;return/*#__PURE__*/createPortal(component,portalElement);};export default NodeInfoDialog;","map":{"version":3,"names":["createPortal","useDispatch","useEffect","Dialog","DialogContent","DialogTitle","TableViewOnly","HIDE_CANVAS_DIALOG","SHOW_CANVAS_DIALOG","baseURL","configApi","useApi","jsx","_jsx","jsxs","_jsxs","NodeInfoDialog","_ref","_dialogProps$data","show","dialogProps","onCancel","portalElement","document","getElementById","dispatch","getNodeConfigApi","getNodeConfig","data","request","type","component","onClose","open","fullWidth","maxWidth","children","sx","fontSize","id","name","label","style","display","flexDirection","alignItems","width","height","marginRight","borderRadius","backgroundColor","padding","objectFit","alt","src","concat","marginLeft","background","paddingLeft","paddingRight","marginTop","marginBottom","color","version","badge","description","length","rows","map","obj","node","nodeId","rest","columns","Object","keys","slice"],"sources":["/Users/nickprince/Desktop/Flowise Working Commit/packages/ui/src/ui-component/dialog/NodeInfoDialog.js"],"sourcesContent":["import { createPortal } from 'react-dom'\nimport { useDispatch } from 'react-redux'\nimport { useEffect } from 'react'\nimport PropTypes from 'prop-types'\n\n// Material\nimport { Dialog, DialogContent, DialogTitle } from '@mui/material'\nimport { TableViewOnly } from 'ui-component/table/Table'\n\n// Store\nimport { HIDE_CANVAS_DIALOG, SHOW_CANVAS_DIALOG } from 'store/actions'\nimport { baseURL } from 'store/constant'\n\n// API\nimport configApi from 'api/config'\nimport useApi from 'hooks/useApi'\n\nconst NodeInfoDialog = ({ show, dialogProps, onCancel }) => {\n    const portalElement = document.getElementById('portal')\n    const dispatch = useDispatch()\n\n    const getNodeConfigApi = useApi(configApi.getNodeConfig)\n\n    useEffect(() => {\n        if (dialogProps.data) {\n            getNodeConfigApi.request(dialogProps.data)\n        }\n\n        // eslint-disable-next-line react-hooks/exhaustive-deps\n    }, [dialogProps])\n\n    useEffect(() => {\n        if (show) dispatch({ type: SHOW_CANVAS_DIALOG })\n        else dispatch({ type: HIDE_CANVAS_DIALOG })\n        return () => dispatch({ type: HIDE_CANVAS_DIALOG })\n    }, [show, dispatch])\n\n    const component = show ? (\n        <Dialog\n            onClose={onCancel}\n            open={show}\n            fullWidth\n            maxWidth='md'\n            aria-labelledby='alert-dialog-title'\n            aria-describedby='alert-dialog-description'\n        >\n            <DialogTitle sx={{ fontSize: '1rem' }} id='alert-dialog-title'>\n                {dialogProps.data && dialogProps.data.name && dialogProps.data.label && (\n                    <div style={{ display: 'flex', flexDirection: 'row', alignItems: 'center' }}>\n                        <div\n                            style={{\n                                width: 50,\n                                height: 50,\n                                marginRight: 10,\n                                borderRadius: '50%',\n                                backgroundColor: 'white'\n                            }}\n                        >\n                            <img\n                                style={{\n                                    width: '100%',\n                                    height: '100%',\n                                    padding: 7,\n                                    borderRadius: '50%',\n                                    objectFit: 'contain'\n                                }}\n                                alt={dialogProps.data.name}\n                                src={`${baseURL}/api/v1/node-icon/${dialogProps.data.name}`}\n                            />\n                        </div>\n                        <div style={{ display: 'flex', flexDirection: 'column', marginLeft: 10 }}>\n                            {dialogProps.data.label}\n                            <div style={{ display: 'flex', flexDirection: 'row' }}>\n                                <div\n                                    style={{\n                                        display: 'flex',\n                                        flexDirection: 'row',\n                                        width: 'max-content',\n                                        borderRadius: 15,\n                                        background: 'rgb(254,252,191)',\n                                        padding: 5,\n                                        paddingLeft: 10,\n                                        paddingRight: 10,\n                                        marginTop: 5,\n                                        marginBottom: 5\n                                    }}\n                                >\n                                    <span style={{ color: 'rgb(116,66,16)', fontSize: '0.825rem' }}>{dialogProps.data.id}</span>\n                                </div>\n                                {dialogProps.data.version && (\n                                    <div\n                                        style={{\n                                            display: 'flex',\n                                            flexDirection: 'row',\n                                            width: 'max-content',\n                                            borderRadius: 15,\n                                            background: '#e9edc9',\n                                            padding: 5,\n                                            paddingLeft: 10,\n                                            paddingRight: 10,\n                                            marginTop: 5,\n                                            marginLeft: 10,\n                                            marginBottom: 5\n                                        }}\n                                    >\n                                        <span style={{ color: '#606c38', fontSize: '0.825rem' }}>version {dialogProps.data.version}</span>\n                                    </div>\n                                )}\n                                {dialogProps.data.badge && (\n                                    <div\n                                        style={{\n                                            display: 'flex',\n                                            flexDirection: 'row',\n                                            width: 'max-content',\n                                            borderRadius: 15,\n                                            background: dialogProps.data.badge === 'DEPRECATING' ? '#ffe57f' : '#52b69a',\n                                            padding: 5,\n                                            paddingLeft: 10,\n                                            paddingRight: 10,\n                                            marginTop: 5,\n                                            marginLeft: 10,\n                                            marginBottom: 5\n                                        }}\n                                    >\n                                        <span\n                                            style={{\n                                                color: dialogProps.data.badge !== 'DEPRECATING' ? 'white' : 'inherit',\n                                                fontSize: '0.825rem'\n                                            }}\n                                        >\n                                            {dialogProps.data.badge}\n                                        </span>\n                                    </div>\n                                )}\n                            </div>\n                        </div>\n                    </div>\n                )}\n            </DialogTitle>\n            <DialogContent>\n                {dialogProps.data?.description && (\n                    <div\n                        style={{\n                            padding: 10,\n                            marginBottom: 10\n                        }}\n                    >\n                        <span>{dialogProps.data.description}</span>\n                    </div>\n                )}\n                {getNodeConfigApi.data && getNodeConfigApi.data.length > 0 && (\n                    <TableViewOnly\n                        rows={getNodeConfigApi.data.map((obj) => {\n                            // eslint-disable-next-line\n                            const { node, nodeId, ...rest } = obj\n                            return rest\n                        })}\n                        columns={Object.keys(getNodeConfigApi.data[0]).slice(-3)}\n                    />\n                )}\n            </DialogContent>\n        </Dialog>\n    ) : null\n\n    return createPortal(component, portalElement)\n}\n\nNodeInfoDialog.propTypes = {\n    show: PropTypes.bool,\n    dialogProps: PropTypes.object,\n    onCancel: PropTypes.func\n}\n\nexport default NodeInfoDialog\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}