{"ast":null,"code":"import{useRef,useState}from'react';import{useSelector}from'react-redux';// material-ui\nimport{Box,Typography,IconButton}from'@mui/material';import{IconArrowsMaximize,IconAlertTriangle}from'@tabler/icons';// project import\nimport{Dropdown}from'ui-component/dropdown/Dropdown';import{Input}from'ui-component/input/Input';import{SwitchInput}from'ui-component/switch/Switch';import{JsonEditorInput}from'ui-component/json/JsonEditor';import{TooltipWithParser}from'ui-component/tooltip/TooltipWithParser';// ===========================|| NodeInputHandler ||=========================== //\nimport{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";const CredentialInputHandler=_ref=>{var _ref3,_data$inputParam$name2,_ref4,_data$inputParam$name3,_ref5,_data$inputParam$name4,_ref6,_data$inputParam$name5;let{inputParam,data,disabled=false}=_ref;const customization=useSelector(state=>state.customization);const ref=useRef(null);const[showExpandDialog,setShowExpandDialog]=useState(false);const[expandDialogProps,setExpandDialogProps]=useState({});const onExpandDialogClicked=(value,inputParam)=>{const dialogProp={value,inputParam,disabled,confirmButtonName:'Save',cancelButtonName:'Cancel'};setExpandDialogProps(dialogProp);setShowExpandDialog(true);};const onExpandDialogSave=(newValue,inputParamName)=>{setShowExpandDialog(false);data[inputParamName]=newValue;};return/*#__PURE__*/_jsx(\"div\",{ref:ref,children:inputParam&&/*#__PURE__*/_jsx(_Fragment,{children:/*#__PURE__*/_jsxs(Box,{sx:{p:2},children:[/*#__PURE__*/_jsxs(\"div\",{style:{display:'flex',flexDirection:'row'},children:[/*#__PURE__*/_jsxs(Typography,{children:[inputParam.label,!inputParam.optional&&/*#__PURE__*/_jsx(\"span\",{style:{color:'red'},children:\"\\xA0*\"}),inputParam.description&&/*#__PURE__*/_jsx(TooltipWithParser,{style:{marginLeft:10},title:inputParam.description})]}),/*#__PURE__*/_jsx(\"div\",{style:{flexGrow:1}}),inputParam.type==='string'&&inputParam.rows&&/*#__PURE__*/_jsx(IconButton,{size:\"small\",sx:{height:25,width:25},title:\"Expand\",color:\"primary\",onClick:()=>{var _ref2,_data$inputParam$name;return onExpandDialogClicked((_ref2=(_data$inputParam$name=data[inputParam.name])!==null&&_data$inputParam$name!==void 0?_data$inputParam$name:inputParam.default)!==null&&_ref2!==void 0?_ref2:'',inputParam);},children:/*#__PURE__*/_jsx(IconArrowsMaximize,{})})]}),inputParam.warning&&/*#__PURE__*/_jsxs(\"div\",{style:{display:'flex',flexDirection:'row',borderRadius:10,background:'rgb(254,252,191)',padding:10,marginTop:10,marginBottom:10},children:[/*#__PURE__*/_jsx(IconAlertTriangle,{size:36,color:\"orange\"}),/*#__PURE__*/_jsx(\"span\",{style:{color:'rgb(116,66,16)',marginLeft:10},children:inputParam.warning})]}),inputParam.type==='boolean'&&/*#__PURE__*/_jsx(SwitchInput,{disabled:disabled,onChange:newValue=>data[inputParam.name]=newValue,value:(_ref3=(_data$inputParam$name2=data[inputParam.name])!==null&&_data$inputParam$name2!==void 0?_data$inputParam$name2:inputParam.default)!==null&&_ref3!==void 0?_ref3:false}),(inputParam.type==='string'||inputParam.type==='password'||inputParam.type==='number')&&/*#__PURE__*/_jsx(Input,{disabled:disabled,inputParam:inputParam,onChange:newValue=>data[inputParam.name]=newValue,value:(_ref4=(_data$inputParam$name3=data[inputParam.name])!==null&&_data$inputParam$name3!==void 0?_data$inputParam$name3:inputParam.default)!==null&&_ref4!==void 0?_ref4:'',showDialog:showExpandDialog,dialogProps:expandDialogProps,onDialogCancel:()=>setShowExpandDialog(false),onDialogConfirm:(newValue,inputParamName)=>onExpandDialogSave(newValue,inputParamName)},data[inputParam.name]),inputParam.type==='json'&&/*#__PURE__*/_jsx(JsonEditorInput,{disabled:disabled,onChange:newValue=>data[inputParam.name]=newValue,value:(_ref5=(_data$inputParam$name4=data[inputParam.name])!==null&&_data$inputParam$name4!==void 0?_data$inputParam$name4:inputParam.default)!==null&&_ref5!==void 0?_ref5:'',isDarkMode:customization.isDarkMode}),inputParam.type==='options'&&/*#__PURE__*/_jsx(Dropdown,{disabled:disabled,name:inputParam.name,options:inputParam.options,onSelect:newValue=>data[inputParam.name]=newValue,value:(_ref6=(_data$inputParam$name5=data[inputParam.name])!==null&&_data$inputParam$name5!==void 0?_data$inputParam$name5:inputParam.default)!==null&&_ref6!==void 0?_ref6:'choose an option'})]})})});};export default CredentialInputHandler;","map":{"version":3,"names":["useRef","useState","useSelector","Box","Typography","IconButton","IconArrowsMaximize","IconAlertTriangle","Dropdown","Input","SwitchInput","JsonEditorInput","TooltipWithParser","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","CredentialInputHandler","_ref","_ref3","_data$inputParam$name2","_ref4","_data$inputParam$name3","_ref5","_data$inputParam$name4","_ref6","_data$inputParam$name5","inputParam","data","disabled","customization","state","ref","showExpandDialog","setShowExpandDialog","expandDialogProps","setExpandDialogProps","onExpandDialogClicked","value","dialogProp","confirmButtonName","cancelButtonName","onExpandDialogSave","newValue","inputParamName","children","sx","p","style","display","flexDirection","label","optional","color","description","marginLeft","title","flexGrow","type","rows","size","height","width","onClick","_ref2","_data$inputParam$name","name","default","warning","borderRadius","background","padding","marginTop","marginBottom","onChange","showDialog","dialogProps","onDialogCancel","onDialogConfirm","isDarkMode","options","onSelect"],"sources":["/Users/nickprince/Desktop/Flowise Working Commit/packages/ui/src/views/credentials/CredentialInputHandler.js"],"sourcesContent":["import PropTypes from 'prop-types'\nimport { useRef, useState } from 'react'\nimport { useSelector } from 'react-redux'\n\n// material-ui\nimport { Box, Typography, IconButton } from '@mui/material'\nimport { IconArrowsMaximize, IconAlertTriangle } from '@tabler/icons'\n\n// project import\nimport { Dropdown } from 'ui-component/dropdown/Dropdown'\nimport { Input } from 'ui-component/input/Input'\nimport { SwitchInput } from 'ui-component/switch/Switch'\nimport { JsonEditorInput } from 'ui-component/json/JsonEditor'\nimport { TooltipWithParser } from 'ui-component/tooltip/TooltipWithParser'\n\n// ===========================|| NodeInputHandler ||=========================== //\n\nconst CredentialInputHandler = ({ inputParam, data, disabled = false }) => {\n    const customization = useSelector((state) => state.customization)\n    const ref = useRef(null)\n\n    const [showExpandDialog, setShowExpandDialog] = useState(false)\n    const [expandDialogProps, setExpandDialogProps] = useState({})\n\n    const onExpandDialogClicked = (value, inputParam) => {\n        const dialogProp = {\n            value,\n            inputParam,\n            disabled,\n            confirmButtonName: 'Save',\n            cancelButtonName: 'Cancel'\n        }\n        setExpandDialogProps(dialogProp)\n        setShowExpandDialog(true)\n    }\n\n    const onExpandDialogSave = (newValue, inputParamName) => {\n        setShowExpandDialog(false)\n        data[inputParamName] = newValue\n    }\n\n    return (\n        <div ref={ref}>\n            {inputParam && (\n                <>\n                    <Box sx={{ p: 2 }}>\n                        <div style={{ display: 'flex', flexDirection: 'row' }}>\n                            <Typography>\n                                {inputParam.label}\n                                {!inputParam.optional && <span style={{ color: 'red' }}>&nbsp;*</span>}\n                                {inputParam.description && <TooltipWithParser style={{ marginLeft: 10 }} title={inputParam.description} />}\n                            </Typography>\n                            <div style={{ flexGrow: 1 }}></div>\n                            {inputParam.type === 'string' && inputParam.rows && (\n                                <IconButton\n                                    size='small'\n                                    sx={{\n                                        height: 25,\n                                        width: 25\n                                    }}\n                                    title='Expand'\n                                    color='primary'\n                                    onClick={() => onExpandDialogClicked(data[inputParam.name] ?? inputParam.default ?? '', inputParam)}\n                                >\n                                    <IconArrowsMaximize />\n                                </IconButton>\n                            )}\n                        </div>\n                        {inputParam.warning && (\n                            <div\n                                style={{\n                                    display: 'flex',\n                                    flexDirection: 'row',\n                                    borderRadius: 10,\n                                    background: 'rgb(254,252,191)',\n                                    padding: 10,\n                                    marginTop: 10,\n                                    marginBottom: 10\n                                }}\n                            >\n                                <IconAlertTriangle size={36} color='orange' />\n                                <span style={{ color: 'rgb(116,66,16)', marginLeft: 10 }}>{inputParam.warning}</span>\n                            </div>\n                        )}\n\n                        {inputParam.type === 'boolean' && (\n                            <SwitchInput\n                                disabled={disabled}\n                                onChange={(newValue) => (data[inputParam.name] = newValue)}\n                                value={data[inputParam.name] ?? inputParam.default ?? false}\n                            />\n                        )}\n                        {(inputParam.type === 'string' || inputParam.type === 'password' || inputParam.type === 'number') && (\n                            <Input\n                                key={data[inputParam.name]}\n                                disabled={disabled}\n                                inputParam={inputParam}\n                                onChange={(newValue) => (data[inputParam.name] = newValue)}\n                                value={data[inputParam.name] ?? inputParam.default ?? ''}\n                                showDialog={showExpandDialog}\n                                dialogProps={expandDialogProps}\n                                onDialogCancel={() => setShowExpandDialog(false)}\n                                onDialogConfirm={(newValue, inputParamName) => onExpandDialogSave(newValue, inputParamName)}\n                            />\n                        )}\n                        {inputParam.type === 'json' && (\n                            <JsonEditorInput\n                                disabled={disabled}\n                                onChange={(newValue) => (data[inputParam.name] = newValue)}\n                                value={data[inputParam.name] ?? inputParam.default ?? ''}\n                                isDarkMode={customization.isDarkMode}\n                            />\n                        )}\n                        {inputParam.type === 'options' && (\n                            <Dropdown\n                                disabled={disabled}\n                                name={inputParam.name}\n                                options={inputParam.options}\n                                onSelect={(newValue) => (data[inputParam.name] = newValue)}\n                                value={data[inputParam.name] ?? inputParam.default ?? 'choose an option'}\n                            />\n                        )}\n                    </Box>\n                </>\n            )}\n        </div>\n    )\n}\n\nCredentialInputHandler.propTypes = {\n    inputAnchor: PropTypes.object,\n    inputParam: PropTypes.object,\n    data: PropTypes.object,\n    disabled: PropTypes.bool\n}\n\nexport default CredentialInputHandler\n"],"mappings":"AACA,OAASA,MAAM,CAAEC,QAAQ,KAAQ,OAAO,CACxC,OAASC,WAAW,KAAQ,aAAa,CAEzC;AACA,OAASC,GAAG,CAAEC,UAAU,CAAEC,UAAU,KAAQ,eAAe,CAC3D,OAASC,kBAAkB,CAAEC,iBAAiB,KAAQ,eAAe,CAErE;AACA,OAASC,QAAQ,KAAQ,gCAAgC,CACzD,OAASC,KAAK,KAAQ,0BAA0B,CAChD,OAASC,WAAW,KAAQ,4BAA4B,CACxD,OAASC,eAAe,KAAQ,8BAA8B,CAC9D,OAASC,iBAAiB,KAAQ,wCAAwC,CAE1E;AAAA,OAAAC,GAAA,IAAAC,IAAA,gCAAAC,IAAA,IAAAC,KAAA,gCAAAC,QAAA,IAAAC,SAAA,yBAEA,KAAM,CAAAC,sBAAsB,CAAGC,IAAA,EAA4C,KAAAC,KAAA,CAAAC,sBAAA,CAAAC,KAAA,CAAAC,sBAAA,CAAAC,KAAA,CAAAC,sBAAA,CAAAC,KAAA,CAAAC,sBAAA,IAA3C,CAAEC,UAAU,CAAEC,IAAI,CAAEC,QAAQ,CAAG,KAAM,CAAC,CAAAX,IAAA,CAClE,KAAM,CAAAY,aAAa,CAAG9B,WAAW,CAAE+B,KAAK,EAAKA,KAAK,CAACD,aAAa,CAAC,CACjE,KAAM,CAAAE,GAAG,CAAGlC,MAAM,CAAC,IAAI,CAAC,CAExB,KAAM,CAACmC,gBAAgB,CAAEC,mBAAmB,CAAC,CAAGnC,QAAQ,CAAC,KAAK,CAAC,CAC/D,KAAM,CAACoC,iBAAiB,CAAEC,oBAAoB,CAAC,CAAGrC,QAAQ,CAAC,CAAC,CAAC,CAAC,CAE9D,KAAM,CAAAsC,qBAAqB,CAAGA,CAACC,KAAK,CAAEX,UAAU,GAAK,CACjD,KAAM,CAAAY,UAAU,CAAG,CACfD,KAAK,CACLX,UAAU,CACVE,QAAQ,CACRW,iBAAiB,CAAE,MAAM,CACzBC,gBAAgB,CAAE,QACtB,CAAC,CACDL,oBAAoB,CAACG,UAAU,CAAC,CAChCL,mBAAmB,CAAC,IAAI,CAAC,CAC7B,CAAC,CAED,KAAM,CAAAQ,kBAAkB,CAAGA,CAACC,QAAQ,CAAEC,cAAc,GAAK,CACrDV,mBAAmB,CAAC,KAAK,CAAC,CAC1BN,IAAI,CAACgB,cAAc,CAAC,CAAGD,QAAQ,CACnC,CAAC,CAED,mBACI/B,IAAA,QAAKoB,GAAG,CAAEA,GAAI,CAAAa,QAAA,CACTlB,UAAU,eACPf,IAAA,CAAAI,SAAA,EAAA6B,QAAA,cACI/B,KAAA,CAACb,GAAG,EAAC6C,EAAE,CAAE,CAAEC,CAAC,CAAE,CAAE,CAAE,CAAAF,QAAA,eACd/B,KAAA,QAAKkC,KAAK,CAAE,CAAEC,OAAO,CAAE,MAAM,CAAEC,aAAa,CAAE,KAAM,CAAE,CAAAL,QAAA,eAClD/B,KAAA,CAACZ,UAAU,EAAA2C,QAAA,EACNlB,UAAU,CAACwB,KAAK,CAChB,CAACxB,UAAU,CAACyB,QAAQ,eAAIxC,IAAA,SAAMoC,KAAK,CAAE,CAAEK,KAAK,CAAE,KAAM,CAAE,CAAAR,QAAA,CAAC,OAAO,CAAM,CAAC,CACrElB,UAAU,CAAC2B,WAAW,eAAI1C,IAAA,CAACF,iBAAiB,EAACsC,KAAK,CAAE,CAAEO,UAAU,CAAE,EAAG,CAAE,CAACC,KAAK,CAAE7B,UAAU,CAAC2B,WAAY,CAAE,CAAC,EAClG,CAAC,cACb1C,IAAA,QAAKoC,KAAK,CAAE,CAAES,QAAQ,CAAE,CAAE,CAAE,CAAM,CAAC,CAClC9B,UAAU,CAAC+B,IAAI,GAAK,QAAQ,EAAI/B,UAAU,CAACgC,IAAI,eAC5C/C,IAAA,CAACT,UAAU,EACPyD,IAAI,CAAC,OAAO,CACZd,EAAE,CAAE,CACAe,MAAM,CAAE,EAAE,CACVC,KAAK,CAAE,EACX,CAAE,CACFN,KAAK,CAAC,QAAQ,CACdH,KAAK,CAAC,SAAS,CACfU,OAAO,CAAEA,CAAA,QAAAC,KAAA,CAAAC,qBAAA,OAAM,CAAA5B,qBAAqB,EAAA2B,KAAA,EAAAC,qBAAA,CAACrC,IAAI,CAACD,UAAU,CAACuC,IAAI,CAAC,UAAAD,qBAAA,UAAAA,qBAAA,CAAItC,UAAU,CAACwC,OAAO,UAAAH,KAAA,UAAAA,KAAA,CAAI,EAAE,CAAErC,UAAU,CAAC,EAAC,CAAAkB,QAAA,cAEpGjC,IAAA,CAACR,kBAAkB,GAAE,CAAC,CACd,CACf,EACA,CAAC,CACLuB,UAAU,CAACyC,OAAO,eACftD,KAAA,QACIkC,KAAK,CAAE,CACHC,OAAO,CAAE,MAAM,CACfC,aAAa,CAAE,KAAK,CACpBmB,YAAY,CAAE,EAAE,CAChBC,UAAU,CAAE,kBAAkB,CAC9BC,OAAO,CAAE,EAAE,CACXC,SAAS,CAAE,EAAE,CACbC,YAAY,CAAE,EAClB,CAAE,CAAA5B,QAAA,eAEFjC,IAAA,CAACP,iBAAiB,EAACuD,IAAI,CAAE,EAAG,CAACP,KAAK,CAAC,QAAQ,CAAE,CAAC,cAC9CzC,IAAA,SAAMoC,KAAK,CAAE,CAAEK,KAAK,CAAE,gBAAgB,CAAEE,UAAU,CAAE,EAAG,CAAE,CAAAV,QAAA,CAAElB,UAAU,CAACyC,OAAO,CAAO,CAAC,EACpF,CACR,CAEAzC,UAAU,CAAC+B,IAAI,GAAK,SAAS,eAC1B9C,IAAA,CAACJ,WAAW,EACRqB,QAAQ,CAAEA,QAAS,CACnB6C,QAAQ,CAAG/B,QAAQ,EAAMf,IAAI,CAACD,UAAU,CAACuC,IAAI,CAAC,CAAGvB,QAAU,CAC3DL,KAAK,EAAAnB,KAAA,EAAAC,sBAAA,CAAEQ,IAAI,CAACD,UAAU,CAACuC,IAAI,CAAC,UAAA9C,sBAAA,UAAAA,sBAAA,CAAIO,UAAU,CAACwC,OAAO,UAAAhD,KAAA,UAAAA,KAAA,CAAI,KAAM,CAC/D,CACJ,CACA,CAACQ,UAAU,CAAC+B,IAAI,GAAK,QAAQ,EAAI/B,UAAU,CAAC+B,IAAI,GAAK,UAAU,EAAI/B,UAAU,CAAC+B,IAAI,GAAK,QAAQ,gBAC5F9C,IAAA,CAACL,KAAK,EAEFsB,QAAQ,CAAEA,QAAS,CACnBF,UAAU,CAAEA,UAAW,CACvB+C,QAAQ,CAAG/B,QAAQ,EAAMf,IAAI,CAACD,UAAU,CAACuC,IAAI,CAAC,CAAGvB,QAAU,CAC3DL,KAAK,EAAAjB,KAAA,EAAAC,sBAAA,CAAEM,IAAI,CAACD,UAAU,CAACuC,IAAI,CAAC,UAAA5C,sBAAA,UAAAA,sBAAA,CAAIK,UAAU,CAACwC,OAAO,UAAA9C,KAAA,UAAAA,KAAA,CAAI,EAAG,CACzDsD,UAAU,CAAE1C,gBAAiB,CAC7B2C,WAAW,CAAEzC,iBAAkB,CAC/B0C,cAAc,CAAEA,CAAA,GAAM3C,mBAAmB,CAAC,KAAK,CAAE,CACjD4C,eAAe,CAAEA,CAACnC,QAAQ,CAAEC,cAAc,GAAKF,kBAAkB,CAACC,QAAQ,CAAEC,cAAc,CAAE,EARvFhB,IAAI,CAACD,UAAU,CAACuC,IAAI,CAS5B,CACJ,CACAvC,UAAU,CAAC+B,IAAI,GAAK,MAAM,eACvB9C,IAAA,CAACH,eAAe,EACZoB,QAAQ,CAAEA,QAAS,CACnB6C,QAAQ,CAAG/B,QAAQ,EAAMf,IAAI,CAACD,UAAU,CAACuC,IAAI,CAAC,CAAGvB,QAAU,CAC3DL,KAAK,EAAAf,KAAA,EAAAC,sBAAA,CAAEI,IAAI,CAACD,UAAU,CAACuC,IAAI,CAAC,UAAA1C,sBAAA,UAAAA,sBAAA,CAAIG,UAAU,CAACwC,OAAO,UAAA5C,KAAA,UAAAA,KAAA,CAAI,EAAG,CACzDwD,UAAU,CAAEjD,aAAa,CAACiD,UAAW,CACxC,CACJ,CACApD,UAAU,CAAC+B,IAAI,GAAK,SAAS,eAC1B9C,IAAA,CAACN,QAAQ,EACLuB,QAAQ,CAAEA,QAAS,CACnBqC,IAAI,CAAEvC,UAAU,CAACuC,IAAK,CACtBc,OAAO,CAAErD,UAAU,CAACqD,OAAQ,CAC5BC,QAAQ,CAAGtC,QAAQ,EAAMf,IAAI,CAACD,UAAU,CAACuC,IAAI,CAAC,CAAGvB,QAAU,CAC3DL,KAAK,EAAAb,KAAA,EAAAC,sBAAA,CAAEE,IAAI,CAACD,UAAU,CAACuC,IAAI,CAAC,UAAAxC,sBAAA,UAAAA,sBAAA,CAAIC,UAAU,CAACwC,OAAO,UAAA1C,KAAA,UAAAA,KAAA,CAAI,kBAAmB,CAC5E,CACJ,EACA,CAAC,CACR,CACL,CACA,CAAC,CAEd,CAAC,CASD,cAAe,CAAAR,sBAAsB"},"metadata":{},"sourceType":"module","externalDependencies":[]}