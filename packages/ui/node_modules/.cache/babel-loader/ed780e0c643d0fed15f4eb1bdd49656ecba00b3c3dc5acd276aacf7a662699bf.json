{"ast":null,"code":"\"use strict\";\n\nvar __values = this && this.__values || function (o) {\n  var s = typeof Symbol === \"function\" && Symbol.iterator,\n    m = s && o[s],\n    i = 0;\n  if (m) return m.call(o);\n  if (o && typeof o.length === \"number\") return {\n    next: function () {\n      if (o && i >= o.length) o = void 0;\n      return {\n        value: o && o[i++],\n        done: !o\n      };\n    }\n  };\n  throw new TypeError(s ? \"Object is not iterable.\" : \"Symbol.iterator is not defined.\");\n};\nvar __importDefault = this && this.__importDefault || function (mod) {\n  return mod && mod.__esModule ? mod : {\n    \"default\": mod\n  };\n};\nvar _a;\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.MathtoolsConfiguration = exports.fixPrescripts = exports.PAIREDDELIMS = void 0;\nvar Configuration_js_1 = require(\"../Configuration.js\");\nvar SymbolMap_js_1 = require(\"../SymbolMap.js\");\nvar NodeUtil_js_1 = __importDefault(require(\"../NodeUtil.js\"));\nvar Options_js_1 = require(\"../../../util/Options.js\");\nrequire(\"./MathtoolsMappings.js\");\nvar MathtoolsUtil_js_1 = require(\"./MathtoolsUtil.js\");\nvar MathtoolsTags_js_1 = require(\"./MathtoolsTags.js\");\nvar MathtoolsItems_js_1 = require(\"./MathtoolsItems.js\");\nexports.PAIREDDELIMS = 'mathtools-paired-delims';\nfunction initMathtools(config) {\n  new SymbolMap_js_1.CommandMap(exports.PAIREDDELIMS, {}, {});\n  config.append(Configuration_js_1.Configuration.local({\n    handler: {\n      macro: [exports.PAIREDDELIMS]\n    },\n    priority: -5\n  }));\n}\nfunction configMathtools(config, jax) {\n  var e_1, _a;\n  var parser = jax.parseOptions;\n  var pairedDelims = parser.options.mathtools.pairedDelimiters;\n  try {\n    for (var _b = __values(Object.keys(pairedDelims)), _c = _b.next(); !_c.done; _c = _b.next()) {\n      var cs = _c.value;\n      MathtoolsUtil_js_1.MathtoolsUtil.addPairedDelims(parser, cs, pairedDelims[cs]);\n    }\n  } catch (e_1_1) {\n    e_1 = {\n      error: e_1_1\n    };\n  } finally {\n    try {\n      if (_c && !_c.done && (_a = _b.return)) _a.call(_b);\n    } finally {\n      if (e_1) throw e_1.error;\n    }\n  }\n  (0, MathtoolsTags_js_1.MathtoolsTagFormat)(config, jax);\n}\nfunction fixPrescripts(_a) {\n  var e_2, _b, e_3, _c, e_4, _d;\n  var data = _a.data;\n  try {\n    for (var _e = __values(data.getList('mmultiscripts')), _f = _e.next(); !_f.done; _f = _e.next()) {\n      var node = _f.value;\n      if (!node.getProperty('fixPrescript')) continue;\n      var childNodes = NodeUtil_js_1.default.getChildren(node);\n      var n = 0;\n      try {\n        for (var _g = (e_3 = void 0, __values([1, 2])), _h = _g.next(); !_h.done; _h = _g.next()) {\n          var i = _h.value;\n          if (!childNodes[i]) {\n            NodeUtil_js_1.default.setChild(node, i, data.nodeFactory.create('node', 'none'));\n            n++;\n          }\n        }\n      } catch (e_3_1) {\n        e_3 = {\n          error: e_3_1\n        };\n      } finally {\n        try {\n          if (_h && !_h.done && (_c = _g.return)) _c.call(_g);\n        } finally {\n          if (e_3) throw e_3.error;\n        }\n      }\n      try {\n        for (var _j = (e_4 = void 0, __values([4, 5])), _k = _j.next(); !_k.done; _k = _j.next()) {\n          var i = _k.value;\n          if (NodeUtil_js_1.default.isType(childNodes[i], 'mrow') && NodeUtil_js_1.default.getChildren(childNodes[i]).length === 0) {\n            NodeUtil_js_1.default.setChild(node, i, data.nodeFactory.create('node', 'none'));\n          }\n        }\n      } catch (e_4_1) {\n        e_4 = {\n          error: e_4_1\n        };\n      } finally {\n        try {\n          if (_k && !_k.done && (_d = _j.return)) _d.call(_j);\n        } finally {\n          if (e_4) throw e_4.error;\n        }\n      }\n      if (n === 2) {\n        childNodes.splice(1, 2);\n      }\n    }\n  } catch (e_2_1) {\n    e_2 = {\n      error: e_2_1\n    };\n  } finally {\n    try {\n      if (_f && !_f.done && (_b = _e.return)) _b.call(_e);\n    } finally {\n      if (e_2) throw e_2.error;\n    }\n  }\n}\nexports.fixPrescripts = fixPrescripts;\nexports.MathtoolsConfiguration = Configuration_js_1.Configuration.create('mathtools', {\n  handler: {\n    macro: ['mathtools-macros', 'mathtools-delimiters'],\n    environment: ['mathtools-environments'],\n    delimiter: ['mathtools-delimiters'],\n    character: ['mathtools-characters']\n  },\n  items: (_a = {}, _a[MathtoolsItems_js_1.MultlinedItem.prototype.kind] = MathtoolsItems_js_1.MultlinedItem, _a),\n  init: initMathtools,\n  config: configMathtools,\n  postprocessors: [[fixPrescripts, -6]],\n  options: {\n    mathtools: {\n      'multlinegap': '1em',\n      'multlined-pos': 'c',\n      'firstline-afterskip': '',\n      'lastline-preskip': '',\n      'smallmatrix-align': 'c',\n      'shortvdotsadjustabove': '.2em',\n      'shortvdotsadjustbelow': '.2em',\n      'centercolon': false,\n      'centercolon-offset': '.04em',\n      'thincolon-dx': '-.04em',\n      'thincolon-dw': '-.08em',\n      'use-unicode': false,\n      'prescript-sub-format': '',\n      'prescript-sup-format': '',\n      'prescript-arg-format': '',\n      'allow-mathtoolsset': true,\n      pairedDelimiters: (0, Options_js_1.expandable)({}),\n      tagforms: (0, Options_js_1.expandable)({})\n    }\n  }\n});","map":{"version":3,"names":["Configuration_js_1","require","SymbolMap_js_1","NodeUtil_js_1","__importDefault","Options_js_1","MathtoolsUtil_js_1","MathtoolsTags_js_1","MathtoolsItems_js_1","exports","PAIREDDELIMS","initMathtools","config","CommandMap","append","Configuration","local","handler","macro","priority","configMathtools","jax","parser","parseOptions","pairedDelims","options","mathtools","pairedDelimiters","_b","__values","Object","keys","_c","next","done","cs","value","MathtoolsUtil","addPairedDelims","MathtoolsTagFormat","fixPrescripts","_a","data","_e","getList","_f","node","getProperty","childNodes","default","getChildren","n","_g","e_3","_h","i","setChild","nodeFactory","create","_j","e_4","_k","isType","length","splice","MathtoolsConfiguration","environment","delimiter","character","items","MultlinedItem","prototype","kind","init","postprocessors","expandable","tagforms"],"sources":["/Users/nickprince/Desktop/Flowise Working Commit/node_modules/mathjax-full/ts/input/tex/mathtools/MathtoolsConfiguration.ts"],"sourcesContent":["/*************************************************************\n *  Copyright (c) 2020-2022 MathJax Consortium\n *\n *  Licensed under the Apache License, Version 2.0 (the \"License\");\n *  you may not use this file except in compliance with the License.\n *  You may obtain a copy of the License at\n *\n *      http://www.apache.org/licenses/LICENSE-2.0\n *\n *  Unless required by applicable law or agreed to in writing, software\n *  distributed under the License is distributed on an \"AS IS\" BASIS,\n *  WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n *  See the License for the specific language governing permissions and\n *  limitations under the License.\n */\n\n/**\n * @fileoverview    Configuration file for the mathtools package.\n *\n * @author v.sorge@mathjax.org (Volker Sorge)\n * @author dpvc@mathjax.org (Davide P. Cervone)\n */\n\nimport {Configuration} from '../Configuration.js';\nimport {CommandMap} from '../SymbolMap.js';\nimport NodeUtil from '../NodeUtil.js';\nimport {expandable} from '../../../util/Options.js';\nimport {ParserConfiguration} from '../Configuration.js';\nimport {TeX} from '../../tex.js';\nimport ParseOptions from '../ParseOptions.js';\n\nimport './MathtoolsMappings.js';\nimport {MathtoolsUtil} from './MathtoolsUtil.js';\nimport {MathtoolsTagFormat} from './MathtoolsTags.js';\nimport {MultlinedItem} from './MathtoolsItems.js';\n\n/**\n * The name of the paried-delimiters command map.\n */\nexport const PAIREDDELIMS = 'mathtools-paired-delims';\n\n/**\n * Create the paired-delimiters command map, and link it into the configuration.\n * @param {ParserConfiguration} config   The current configuration.\n */\nfunction initMathtools(config: ParserConfiguration) {\n  new CommandMap(PAIREDDELIMS, {}, {});\n  config.append(Configuration.local({handler: {macro: [PAIREDDELIMS]}, priority: -5}));\n}\n\n/**\n * Add any pre-defined paired delimiters, and subclass the configured tag format.\n * @param {ParserConfiguration} config   The current configuration.\n * @param {TeX} jac                      The TeX input jax\n */\nfunction configMathtools(config: ParserConfiguration, jax: TeX<any, any, any>) {\n  const parser = jax.parseOptions;\n  const pairedDelims = parser.options.mathtools.pairedDelimiters;\n  for (const cs of Object.keys(pairedDelims)) {\n    MathtoolsUtil.addPairedDelims(parser, cs, pairedDelims[cs]);\n  }\n  MathtoolsTagFormat(config, jax);\n}\n\n/**\n * A filter to fix up mmultiscripts elements.\n * @param {ParseOptions} data   The parse options.\n */\nexport function fixPrescripts({data}: {data: ParseOptions}) {\n  for (const node of data.getList('mmultiscripts')) {\n    if (!node.getProperty('fixPrescript')) continue;\n    const childNodes = NodeUtil.getChildren(node);\n    let n = 0;\n    for (const i of [1, 2]) {\n      if (!childNodes[i]) {\n        NodeUtil.setChild(node, i, data.nodeFactory.create('node', 'none'));\n        n++;\n      }\n    }\n    for (const i of [4, 5]) {\n      if (NodeUtil.isType(childNodes[i], 'mrow') && NodeUtil.getChildren(childNodes[i]).length === 0) {\n        NodeUtil.setChild(node, i, data.nodeFactory.create('node', 'none'));\n      }\n    }\n    if (n === 2) {\n      childNodes.splice(1, 2);\n    }\n  }\n}\n\n/**\n * The configuration for the mathtools package\n */\nexport const MathtoolsConfiguration = Configuration.create(\n  'mathtools', {\n    handler: {\n      macro: ['mathtools-macros', 'mathtools-delimiters'],\n      environment: ['mathtools-environments'],\n      delimiter: ['mathtools-delimiters'],\n      character: ['mathtools-characters']\n    },\n    items: {\n      [MultlinedItem.prototype.kind]: MultlinedItem\n    },\n    init: initMathtools,\n    config: configMathtools,\n    postprocessors: [[fixPrescripts, -6]],\n    options: {\n      mathtools: {\n        'multlinegap': '1em',                   // horizontal space for multlined environments\n        'multlined-pos': 'c',                   // default alignment for multlined environments\n        'firstline-afterskip': '',              // space for first line of multlined (overrides multlinegap)\n        'lastline-preskip': '',                 // space for last line of multlined (overrides multlinegap)\n        'smallmatrix-align': 'c',               // default alignment for smallmatrix environments\n        'shortvdotsadjustabove': '.2em',        // space to remove above \\shortvdots\n        'shortvdotsadjustbelow': '.2em',        // space to remove below \\shortvdots\n        'centercolon': false,                   // true to have colon automatically centered\n        'centercolon-offset': '.04em',          // vertical adjustment for centered colons\n        'thincolon-dx': '-.04em',               // horizontal adjustment for thin colons (e.g., \\coloneqq)\n        'thincolon-dw': '-.08em',               // width adjustment for thin colons\n        'use-unicode': false,                   // true to use unicode characters rather than multi-character\n                                                //   version for \\coloneqq, etc., when possible\n        'prescript-sub-format': '',             // format for \\prescript subscript\n        'prescript-sup-format': '',             // format for \\prescript superscript\n        'prescript-arg-format': '',             // format for \\prescript base\n        'allow-mathtoolsset': true,             // true to allow \\mathtoolsset to change settings\n        pairedDelimiters: expandable({}),       // predefined paired delimiters\n                                                //     name: [left, right, body, argcount, pre, post]\n        tagforms: expandable({}),               // tag form definitions\n                                                //     name: [left, right, format]\n       }\n    }\n  }\n);\n"],"mappings":"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"},"metadata":{},"sourceType":"script","externalDependencies":[]}