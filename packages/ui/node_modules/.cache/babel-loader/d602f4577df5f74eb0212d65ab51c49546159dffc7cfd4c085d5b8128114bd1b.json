{"ast":null,"code":"\"use strict\";\n\nvar __extends = this && this.__extends || function () {\n  var extendStatics = function (d, b) {\n    extendStatics = Object.setPrototypeOf || {\n      __proto__: []\n    } instanceof Array && function (d, b) {\n      d.__proto__ = b;\n    } || function (d, b) {\n      for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p];\n    };\n    return extendStatics(d, b);\n  };\n  return function (d, b) {\n    if (typeof b !== \"function\" && b !== null) throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\n    extendStatics(d, b);\n    function __() {\n      this.constructor = d;\n    }\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n  };\n}();\nvar __values = this && this.__values || function (o) {\n  var s = typeof Symbol === \"function\" && Symbol.iterator,\n    m = s && o[s],\n    i = 0;\n  if (m) return m.call(o);\n  if (o && typeof o.length === \"number\") return {\n    next: function () {\n      if (o && i >= o.length) o = void 0;\n      return {\n        value: o && o[i++],\n        done: !o\n      };\n    }\n  };\n  throw new TypeError(s ? \"Object is not iterable.\" : \"Symbol.iterator is not defined.\");\n};\nvar __read = this && this.__read || function (o, n) {\n  var m = typeof Symbol === \"function\" && o[Symbol.iterator];\n  if (!m) return o;\n  var i = m.call(o),\n    r,\n    ar = [],\n    e;\n  try {\n    while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\n  } catch (error) {\n    e = {\n      error: error\n    };\n  } finally {\n    try {\n      if (r && !r.done && (m = i[\"return\"])) m.call(i);\n    } finally {\n      if (e) throw e.error;\n    }\n  }\n  return ar;\n};\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.SVGmo = void 0;\nvar Wrapper_js_1 = require(\"../Wrapper.js\");\nvar mo_js_1 = require(\"../../common/Wrappers/mo.js\");\nvar mo_js_2 = require(\"../../../core/MmlTree/MmlNodes/mo.js\");\nvar VFUZZ = 0.1;\nvar HFUZZ = 0.1;\nvar SVGmo = function (_super) {\n  __extends(SVGmo, _super);\n  function SVGmo() {\n    return _super !== null && _super.apply(this, arguments) || this;\n  }\n  SVGmo.prototype.toSVG = function (parent) {\n    var attributes = this.node.attributes;\n    var symmetric = attributes.get('symmetric') && this.stretch.dir !== 2;\n    var stretchy = this.stretch.dir !== 0;\n    if (stretchy && this.size === null) {\n      this.getStretchedVariant([]);\n    }\n    var svg = this.standardSVGnode(parent);\n    if (stretchy && this.size < 0) {\n      this.stretchSVG();\n    } else {\n      var u = symmetric || attributes.get('largeop') ? this.fixed(this.getCenterOffset()) : '0';\n      var v = this.node.getProperty('mathaccent') ? this.fixed(this.getAccentOffset()) : '0';\n      if (u !== '0' || v !== '0') {\n        this.adaptor.setAttribute(svg, 'transform', \"translate(\".concat(v, \" \").concat(u, \")\"));\n      }\n      this.addChildren(svg);\n    }\n  };\n  SVGmo.prototype.stretchSVG = function () {\n    var stretch = this.stretch.stretch;\n    var variants = this.getStretchVariants();\n    var bbox = this.getBBox();\n    if (this.stretch.dir === 1) {\n      this.stretchVertical(stretch, variants, bbox);\n    } else {\n      this.stretchHorizontal(stretch, variants, bbox);\n    }\n  };\n  SVGmo.prototype.getStretchVariants = function () {\n    var e_1, _a;\n    var c = this.stretch.c || this.getText().codePointAt(0);\n    var variants = [];\n    try {\n      for (var _b = __values(this.stretch.stretch.keys()), _c = _b.next(); !_c.done; _c = _b.next()) {\n        var i = _c.value;\n        variants[i] = this.font.getStretchVariant(c, i);\n      }\n    } catch (e_1_1) {\n      e_1 = {\n        error: e_1_1\n      };\n    } finally {\n      try {\n        if (_c && !_c.done && (_a = _b.return)) _a.call(_b);\n      } finally {\n        if (e_1) throw e_1.error;\n      }\n    }\n    return variants;\n  };\n  SVGmo.prototype.stretchVertical = function (stretch, variant, bbox) {\n    var h = bbox.h,\n      d = bbox.d,\n      w = bbox.w;\n    var T = this.addTop(stretch[0], variant[0], h, w);\n    var B = this.addBot(stretch[2], variant[2], d, w);\n    if (stretch.length === 4) {\n      var _a = __read(this.addMidV(stretch[3], variant[3], w), 2),\n        H = _a[0],\n        D = _a[1];\n      this.addExtV(stretch[1], variant[1], h, 0, T, H, w);\n      this.addExtV(stretch[1], variant[1], 0, d, D, B, w);\n    } else {\n      this.addExtV(stretch[1], variant[1], h, d, T, B, w);\n    }\n  };\n  SVGmo.prototype.stretchHorizontal = function (stretch, variant, bbox) {\n    var w = bbox.w;\n    var L = this.addLeft(stretch[0], variant[0]);\n    var R = this.addRight(stretch[2], variant[2], w);\n    if (stretch.length === 4) {\n      var _a = __read(this.addMidH(stretch[3], variant[3], w), 2),\n        x1 = _a[0],\n        x2 = _a[1];\n      var w2 = w / 2;\n      this.addExtH(stretch[1], variant[1], w2, L, w2 - x1);\n      this.addExtH(stretch[1], variant[1], w2, x2 - w2, R, w2);\n    } else {\n      this.addExtH(stretch[1], variant[1], w, L, R);\n    }\n  };\n  SVGmo.prototype.getChar = function (n, variant) {\n    var char = this.font.getChar(variant, n) || [0, 0, 0, null];\n    return [char[0], char[1], char[2], char[3] || {}];\n  };\n  SVGmo.prototype.addGlyph = function (n, variant, x, y, parent) {\n    if (parent === void 0) {\n      parent = null;\n    }\n    return this.placeChar(n, x, y, parent || this.element, variant);\n  };\n  SVGmo.prototype.addTop = function (n, v, H, W) {\n    if (!n) return 0;\n    var _a = __read(this.getChar(n, v), 3),\n      h = _a[0],\n      d = _a[1],\n      w = _a[2];\n    this.addGlyph(n, v, (W - w) / 2, H - h);\n    return h + d;\n  };\n  SVGmo.prototype.addExtV = function (n, v, H, D, T, B, W) {\n    var _this = this;\n    if (!n) return;\n    T = Math.max(0, T - VFUZZ);\n    B = Math.max(0, B - VFUZZ);\n    var adaptor = this.adaptor;\n    var _a = __read(this.getChar(n, v), 3),\n      h = _a[0],\n      d = _a[1],\n      w = _a[2];\n    var Y = H + D - T - B;\n    var s = 1.5 * Y / (h + d);\n    var y = (s * (h - d) - Y) / 2;\n    if (Y <= 0) return;\n    var svg = this.svg('svg', {\n      width: this.fixed(w),\n      height: this.fixed(Y),\n      y: this.fixed(B - D),\n      x: this.fixed((W - w) / 2),\n      viewBox: [0, y, w, Y].map(function (x) {\n        return _this.fixed(x);\n      }).join(' ')\n    });\n    this.addGlyph(n, v, 0, 0, svg);\n    var glyph = adaptor.lastChild(svg);\n    adaptor.setAttribute(glyph, 'transform', \"scale(1,\".concat(this.jax.fixed(s), \")\"));\n    adaptor.append(this.element, svg);\n  };\n  SVGmo.prototype.addBot = function (n, v, D, W) {\n    if (!n) return 0;\n    var _a = __read(this.getChar(n, v), 3),\n      h = _a[0],\n      d = _a[1],\n      w = _a[2];\n    this.addGlyph(n, v, (W - w) / 2, d - D);\n    return h + d;\n  };\n  SVGmo.prototype.addMidV = function (n, v, W) {\n    if (!n) return [0, 0];\n    var _a = __read(this.getChar(n, v), 3),\n      h = _a[0],\n      d = _a[1],\n      w = _a[2];\n    var y = (d - h) / 2 + this.font.params.axis_height;\n    this.addGlyph(n, v, (W - w) / 2, y);\n    return [h + y, d - y];\n  };\n  SVGmo.prototype.addLeft = function (n, v) {\n    return n ? this.addGlyph(n, v, 0, 0) : 0;\n  };\n  SVGmo.prototype.addExtH = function (n, v, W, L, R, x) {\n    var _this = this;\n    if (x === void 0) {\n      x = 0;\n    }\n    if (!n) return;\n    R = Math.max(0, R - HFUZZ);\n    L = Math.max(0, L - HFUZZ);\n    var adaptor = this.adaptor;\n    var _a = __read(this.getChar(n, v), 3),\n      h = _a[0],\n      d = _a[1],\n      w = _a[2];\n    var X = W - L - R;\n    var Y = h + d + 2 * VFUZZ;\n    var s = 1.5 * (X / w);\n    var D = -(d + VFUZZ);\n    if (X <= 0) return;\n    var svg = this.svg('svg', {\n      width: this.fixed(X),\n      height: this.fixed(Y),\n      x: this.fixed(x + L),\n      y: this.fixed(D),\n      viewBox: [(s * w - X) / 2, D, X, Y].map(function (x) {\n        return _this.fixed(x);\n      }).join(' ')\n    });\n    this.addGlyph(n, v, 0, 0, svg);\n    var glyph = adaptor.lastChild(svg);\n    adaptor.setAttribute(glyph, 'transform', 'scale(' + this.jax.fixed(s) + ',1)');\n    adaptor.append(this.element, svg);\n  };\n  SVGmo.prototype.addRight = function (n, v, W) {\n    if (!n) return 0;\n    var w = this.getChar(n, v)[2];\n    return this.addGlyph(n, v, W - w, 0);\n  };\n  SVGmo.prototype.addMidH = function (n, v, W) {\n    if (!n) return [0, 0];\n    var w = this.getChar(n, v)[2];\n    this.addGlyph(n, v, (W - w) / 2, 0);\n    return [(W - w) / 2, (W + w) / 2];\n  };\n  SVGmo.kind = mo_js_2.MmlMo.prototype.kind;\n  return SVGmo;\n}((0, mo_js_1.CommonMoMixin)(Wrapper_js_1.SVGWrapper));\nexports.SVGmo = SVGmo;","map":{"version":3,"names":["Wrapper_js_1","require","mo_js_1","mo_js_2","VFUZZ","HFUZZ","SVGmo","_super","__extends","prototype","toSVG","parent","attributes","node","symmetric","get","stretch","dir","stretchy","size","getStretchedVariant","svg","standardSVGnode","stretchSVG","u","fixed","getCenterOffset","v","getProperty","getAccentOffset","adaptor","setAttribute","concat","addChildren","variants","getStretchVariants","bbox","getBBox","stretchVertical","stretchHorizontal","c","getText","codePointAt","_b","__values","keys","_c","next","done","i","value","font","getStretchVariant","variant","h","d","w","T","addTop","B","addBot","length","_a","__read","addMidV","H","D","addExtV","L","addLeft","R","addRight","addMidH","x1","x2","w2","addExtH","getChar","n","char","addGlyph","x","y","placeChar","element","W","_this","Math","max","Y","s","width","height","viewBox","map","join","glyph","lastChild","jax","append","params","axis_height","X","kind","MmlMo","CommonMoMixin","SVGWrapper","exports"],"sources":["/Users/nickprince/Desktop/Flowise Working Commit/node_modules/mathjax-full/ts/output/svg/Wrappers/mo.ts"],"sourcesContent":["\n/*************************************************************\n *\n *  Copyright (c) 2018-2022 The MathJax Consortium\n *\n *  Licensed under the Apache License, Version 2.0 (the \"License\");\n *  you may not use this file except in compliance with the License.\n *  You may obtain a copy of the License at\n *\n *      http://www.apache.org/licenses/LICENSE-2.0\n *\n *  Unless required by applicable law or agreed to in writing, software\n *  distributed under the License is distributed on an \"AS IS\" BASIS,\n *  WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n *  See the License for the specific language governing permissions and\n *  limitations under the License.\n */\n\n/**\n * @fileoverview  Implements the SVGmo wrapper for the MmlMo object\n *\n * @author dpvc@mathjax.org (Davide Cervone)\n */\n\nimport {SVGWrapper, SVGConstructor} from '../Wrapper.js';\nimport {CommonMoMixin} from '../../common/Wrappers/mo.js';\nimport {MmlMo} from '../../../core/MmlTree/MmlNodes/mo.js';\nimport {BBox} from '../../../util/BBox.js';\nimport {DIRECTION, SVGCharData, SVGCharOptions} from '../FontData.js';\n\n\n/*****************************************************************/\n\nconst VFUZZ = 0.1;       // overlap for vertical stretchy glyphs\nconst HFUZZ = 0.1;       // overlap for horizontal stretchy glyphs\n\n/*****************************************************************/\n/**\n * The SVGmo wrapper for the MmlMo object\n *\n * @template N  The HTMLElement node class\n * @template T  The Text node class\n * @template D  The Document class\n */\n// @ts-ignore\nexport class SVGmo<N, T, D> extends\nCommonMoMixin<SVGConstructor<any, any, any>>(SVGWrapper) {\n\n  /**\n   * The mo wrapper\n   */\n  public static kind = MmlMo.prototype.kind;\n\n  /**\n   * @override\n   */\n  public toSVG(parent: N) {\n    const attributes = this.node.attributes;\n    const symmetric = (attributes.get('symmetric') as boolean) && this.stretch.dir !== DIRECTION.Horizontal;\n    const stretchy = this.stretch.dir !== DIRECTION.None;\n    if (stretchy && this.size === null) {\n      this.getStretchedVariant([]);\n    }\n    let svg = this.standardSVGnode(parent);\n    if (stretchy && this.size < 0) {\n      this.stretchSVG();\n    } else {\n      const u = (symmetric || attributes.get('largeop') ? this.fixed(this.getCenterOffset()) : '0');\n      const v = (this.node.getProperty('mathaccent') ? this.fixed(this.getAccentOffset()) : '0');\n      if (u !== '0' || v !== '0') {\n        this.adaptor.setAttribute(svg, 'transform', `translate(${v} ${u})`);\n      }\n      this.addChildren(svg);\n    }\n  }\n\n  /**\n   * Create the SVG for a multi-character stretchy delimiter\n   */\n  protected stretchSVG() {\n    const stretch = this.stretch.stretch;\n    const variants = this.getStretchVariants();\n    const bbox = this.getBBox();\n    if (this.stretch.dir === DIRECTION.Vertical) {\n      this.stretchVertical(stretch, variants, bbox);\n    } else {\n      this.stretchHorizontal(stretch, variants, bbox);\n    }\n  }\n\n  /**\n   * Get the variant array for the assembly pieces\n   */\n  protected getStretchVariants() {\n    const c = this.stretch.c || this.getText().codePointAt(0);\n    const variants = [] as string[];\n    for (const i of this.stretch.stretch.keys()) {\n      variants[i] = this.font.getStretchVariant(c, i);\n    }\n    return variants;\n  }\n\n  /**\n   * @param {number[]} stretch    The characters to use for stretching\n   * @param {string[]} variant    The variants for the parts to use for stretching\n   * @param {BBox} bbox           The full size of the stretched character\n   */\n  protected stretchVertical(stretch: number[], variant: string[], bbox: BBox) {\n    const {h, d, w} = bbox;\n    const T = this.addTop(stretch[0], variant[0], h, w);\n    const B = this.addBot(stretch[2], variant[2], d, w);\n    if (stretch.length === 4) {\n      const [H, D] = this.addMidV(stretch[3], variant[3], w);\n      this.addExtV(stretch[1], variant[1], h, 0, T, H, w);\n      this.addExtV(stretch[1], variant[1], 0, d, D, B, w);\n    } else {\n      this.addExtV(stretch[1], variant[1], h, d, T, B, w);\n    }\n  }\n\n  /**\n   * @param {number[]} stretch    The characters to use for stretching\n   * @param {string[]} variant    The variants for the parts to use for stretching\n   * @param {BBox} bbox           The full size of the stretched character\n   */\n  protected stretchHorizontal(stretch: number[], variant: string[], bbox: BBox) {\n    const w = bbox.w;\n    const L = this.addLeft(stretch[0], variant[0]);\n    const R = this.addRight(stretch[2], variant[2], w);\n    if (stretch.length === 4) {\n      const [x1, x2] = this.addMidH(stretch[3], variant[3], w);\n      const w2 = w / 2;\n      this.addExtH(stretch[1], variant[1], w2, L, w2 - x1);\n      this.addExtH(stretch[1], variant[1], w2, x2 - w2, R, w2);\n    } else {\n      this.addExtH(stretch[1], variant[1], w, L, R);\n    }\n  }\n\n  /***********************************************************/\n\n  /**\n   * @param {number} n         The number of the character to look up\n   * @param {string} variant   The variant for the character to look up\n   * @return {SVGCharData}     The full CharData object, with CharOptions guaranteed to be defined\n   */\n  protected getChar(n: number, variant: string): SVGCharData {\n    const char = this.font.getChar(variant, n) || [0, 0, 0, null];\n    return [char[0], char[1], char[2], char[3] || {}] as [number, number, number, SVGCharOptions];\n  }\n\n  /**\n   * @param {number} n         The character code for the glyph\n   * @param {string} variant   The variant for the glyph\n   * @param {number} x         The x position of the glyph\n   * @param {number} y         The y position of the glyph\n   * @param {N} parent         The container for the glyph\n   * @return {number}          The width of the character placed\n   */\n  protected addGlyph(n: number, variant: string, x: number, y: number, parent: N = null): number {\n    return this.placeChar(n, x, y, parent || this.element, variant);\n  }\n\n  /***********************************************************/\n\n  /**\n   * @param {number} n    The character number for the top glyph\n   * @param {string} v    The variant for the top glyph\n   * @param {number} H    The height of the stretched delimiter\n   * @param {number} W    The width of the stretched delimiter\n   * @return {number}     The total height of the top glyph\n   */\n  protected addTop(n: number, v: string, H: number, W: number): number {\n    if (!n)  return 0;\n    const [h, d, w] = this.getChar(n, v);\n    this.addGlyph(n, v, (W - w) / 2, H - h);\n    return h + d;\n  }\n\n  /**\n   * @param {number} n    The character number for the extender glyph\n   * @param {string} v    The variant for the extender glyph\n   * @param {number} H    The height of the stretched delimiter\n   * @param {number} D    The depth of the stretched delimiter\n   * @param {number} T    The height of the top glyph in the delimiter\n   * @param {number} B    The height of the bottom glyph in the delimiter\n   * @param {number} W    The width of the stretched delimiter\n   */\n  protected addExtV(n: number, v: string, H: number, D: number, T: number, B: number, W: number) {\n    if (!n) return;\n    T = Math.max(0, T - VFUZZ);              // A little overlap on top\n    B = Math.max(0, B - VFUZZ);              // A little overlap on bottom\n    const adaptor = this.adaptor;\n    const [h, d, w] = this.getChar(n, v);\n    const Y = H + D - T - B;                 // The height of the extender\n    const s = 1.5 * Y / (h + d);             // Scale height by 1.5 to avoid bad ends\n    //   (glyphs with rounded or anti-aliased ends don't stretch well,\n    //    so this makes for sharper ends)\n    const y = (s * (h - d) - Y) / 2;         // The bottom point to clip the extender\n    if (Y <= 0) return;\n    const svg = this.svg('svg', {\n      width: this.fixed(w), height: this.fixed(Y),\n      y: this.fixed(B - D), x: this.fixed((W - w) / 2),\n      viewBox: [0, y, w, Y].map(x => this.fixed(x)).join(' ')\n    });\n    this.addGlyph(n, v, 0, 0, svg);\n    const glyph = adaptor.lastChild(svg);\n    adaptor.setAttribute(glyph, 'transform', `scale(1,${this.jax.fixed(s)})`);\n    adaptor.append(this.element, svg);\n  }\n\n  /**\n   * @param {number} n    The character number for the bottom glyph\n   * @param {string} v    The variant for the bottom glyph\n   * @param {number} D    The depth of the stretched delimiter\n   * @param {number} W    The width of the stretched delimiter\n   * @return {number}     The total height of the bottom glyph\n   */\n  protected addBot(n: number, v: string, D: number, W: number): number {\n    if (!n) return 0;\n    const [h, d, w] = this.getChar(n, v);\n    this.addGlyph(n, v, (W - w) / 2, d - D);\n    return h + d;\n  }\n\n  /**\n   * @param {number} n    The character number for the middle glyph\n   * @param {string} v    The variant for the middle glyph\n   * @param {number} W    The width of the stretched delimiter\n   * @return {[number, number]}   The top and bottom positions of the middle glyph\n   */\n  protected addMidV(n: number, v: string, W: number): [number, number] {\n    if (!n) return [0, 0];\n    const [h, d, w] = this.getChar(n, v);\n    const y = (d - h) / 2 + this.font.params.axis_height;\n    this.addGlyph(n, v, (W - w) / 2, y);\n    return [h + y, d - y];\n  }\n\n  /***********************************************************/\n\n  /**\n   * @param {number} n   The character number for the left glyph of the stretchy character\n   * @param {string} v   The variant for the left glyph\n   * @return {number}    The width of the left glyph\n   */\n  protected addLeft(n: number, v: string): number {\n    return (n ? this.addGlyph(n, v, 0, 0) : 0);\n  }\n\n  /**\n   * @param {number} n   The character number for the extender glyph of the stretchy character\n   * @param {string} v   The variant for the extender glyph\n   * @param {number} W   The width of the stretched character\n   * @param {number} L   The width of the left glyph of the stretchy character\n   * @param {number} R   The width of the right glyph of the stretchy character\n   * @param {number} x   The x-position of the extender (needed for ones with two extenders)\n   */\n  protected addExtH(n: number, v: string, W: number, L: number, R: number, x: number = 0) {\n    if (!n) return;\n    R = Math.max(0, R - HFUZZ);     // A little less than the width of the right glyph\n    L = Math.max(0, L - HFUZZ);     // A little less than the width of the left glyph\n    const adaptor = this.adaptor;\n    const [h, d, w] = this.getChar(n, v);\n    const X = W - L - R;            // The width of the extender\n    const Y = h + d + 2 * VFUZZ;    // The height (plus some fuzz) of the extender\n    const s = 1.5 * (X / w);        // Scale the width so that left- and right-bearing won't hurt us\n    const D = -(d + VFUZZ);         // The bottom position of the glyph\n    if (X <= 0) return;\n    const svg = this.svg('svg', {\n      width: this.fixed(X), height: this.fixed(Y),\n      x: this.fixed(x + L), y: this.fixed(D),\n      viewBox: [(s * w - X) / 2, D, X, Y].map(x => this.fixed(x)).join(' ')\n    });\n    this.addGlyph(n, v, 0, 0, svg);\n    const glyph = adaptor.lastChild(svg);\n    adaptor.setAttribute(glyph, 'transform', 'scale(' + this.jax.fixed(s) + ',1)');\n    adaptor.append(this.element, svg);\n  }\n\n  /**\n   * @param {number} n   The character number for the right glyph of the stretchy character\n   * @param {string} v   The variant for the right glyph\n   * @param {number} W   The width of the stretched character\n   * @return {number}    The width of the right glyph\n   */\n  protected addRight(n: number, v: string, W: number): number {\n    if (!n) return 0;\n    const w = this.getChar(n, v)[2];\n    return this.addGlyph(n, v, W - w, 0);\n  }\n\n  /**\n   * @param {number} n   The character number for the middle glyph of the stretchy character\n   * @param {string} v   The variant for the middle glyph\n   * @param {number} W   The width of the stretched character\n   * @return {[number, number]}  The positions of the left and right edges of the middle glyph\n   */\n  protected addMidH(n: number, v: string, W: number): [number, number] {\n    if (!n) return [0, 0];\n    const w = this.getChar(n, v)[2];\n    this.addGlyph(n, v, (W - w) / 2, 0);\n    return [(W - w) / 2, (W + w) / 2];\n  }\n\n}\n"],"mappings":"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"},"metadata":{},"sourceType":"script","externalDependencies":[]}