{"ast":null,"code":"import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport * as React from 'react';\nimport * as ReactDOM from 'react-dom';\nimport { unstable_useForkRef as useForkRef } from '@mui/utils';\nimport { styled, useTheme } from '@mui/material/styles';\nimport { defaultMemoize } from 'reselect';\nimport { useGridSelector } from '../../utils';\nimport { useGridPrivateApiContext } from '../../utils/useGridPrivateApiContext';\nimport { useGridRootProps } from '../../utils/useGridRootProps';\nimport { useGridApiEventHandler } from '../../utils/useGridApiEventHandler';\nimport { GridColumnHeaderItem } from '../../../components/columnHeaders/GridColumnHeaderItem';\nimport { getFirstColumnIndexToRender, getTotalHeaderHeight } from '../columns/gridColumnsUtils';\nimport { useGridVisibleRows } from '../../utils/useGridVisibleRows';\nimport { areRenderContextsEqual, getRenderableIndexes } from '../virtualization/useGridVirtualScroller';\nimport { gridVirtualizationColumnEnabledSelector } from '../virtualization';\nimport { GridColumnGroupHeader } from '../../../components/columnHeaders/GridColumnGroupHeader';\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nconst GridColumnHeaderRow = styled('div', {\n  name: 'MuiDataGrid',\n  slot: 'ColumnHeaderRow',\n  overridesResolver: (props, styles) => styles.columnHeaderRow\n})(() => ({\n  display: 'flex'\n}));\nfunction isUIEvent(event) {\n  return !!event.target;\n}\nexport const useGridColumnHeaders = props => {\n  const {\n    innerRef: innerRefProp,\n    minColumnIndex = 0,\n    visibleColumns,\n    sortColumnLookup,\n    filterColumnLookup,\n    columnPositions,\n    columnHeaderTabIndexState,\n    columnGroupHeaderTabIndexState,\n    columnHeaderFocus,\n    columnGroupHeaderFocus,\n    densityFactor,\n    headerGroupingMaxDepth,\n    columnMenuState,\n    columnVisibility,\n    columnGroupsHeaderStructure,\n    hasOtherElementInTabSequence\n  } = props;\n  const theme = useTheme();\n  const [dragCol, setDragCol] = React.useState('');\n  const [resizeCol, setResizeCol] = React.useState('');\n  const apiRef = useGridPrivateApiContext();\n  const hasVirtualization = useGridSelector(apiRef, gridVirtualizationColumnEnabledSelector);\n  const rootProps = useGridRootProps();\n  const innerRef = React.useRef(null);\n  const handleInnerRef = useForkRef(innerRefProp, innerRef);\n  const [renderContext, setRenderContextRaw] = React.useState(null);\n  const prevRenderContext = React.useRef(renderContext);\n  const prevScrollLeft = React.useRef(0);\n  const currentPage = useGridVisibleRows(apiRef, rootProps);\n  const totalHeaderHeight = getTotalHeaderHeight(apiRef, rootProps.columnHeaderHeight);\n  const headerHeight = Math.floor(rootProps.columnHeaderHeight * densityFactor);\n  const setRenderContext = React.useCallback(nextRenderContext => {\n    if (renderContext && nextRenderContext && areRenderContextsEqual(renderContext, nextRenderContext)) {\n      return;\n    }\n    setRenderContextRaw(nextRenderContext);\n  }, [renderContext]);\n  React.useEffect(() => {\n    apiRef.current.columnHeadersContainerElementRef.current.scrollLeft = 0;\n  }, [apiRef]);\n\n  // memoize `getFirstColumnIndexToRender`, since it's called on scroll\n  const getFirstColumnIndexToRenderRef = React.useRef(defaultMemoize(getFirstColumnIndexToRender, {\n    equalityCheck: (a, b) => ['firstColumnIndex', 'minColumnIndex', 'columnBuffer'].every(key => a[key] === b[key])\n  }));\n  const updateInnerPosition = React.useCallback(nextRenderContext => {\n    const [firstRowToRender, lastRowToRender] = getRenderableIndexes({\n      firstIndex: nextRenderContext.firstRowIndex,\n      lastIndex: nextRenderContext.lastRowIndex,\n      minFirstIndex: 0,\n      maxLastIndex: currentPage.rows.length,\n      buffer: rootProps.rowBuffer\n    });\n    const firstColumnToRender = getFirstColumnIndexToRenderRef.current({\n      firstColumnIndex: nextRenderContext.firstColumnIndex,\n      minColumnIndex,\n      columnBuffer: rootProps.columnBuffer,\n      firstRowToRender,\n      lastRowToRender,\n      apiRef,\n      visibleRows: currentPage.rows\n    });\n    const direction = theme.direction === 'ltr' ? 1 : -1;\n    const offset = firstColumnToRender > 0 ? prevScrollLeft.current - direction * columnPositions[firstColumnToRender] : prevScrollLeft.current;\n    innerRef.current.style.transform = \"translate3d(\".concat(-offset, \"px, 0px, 0px)\");\n  }, [columnPositions, minColumnIndex, rootProps.columnBuffer, apiRef, currentPage.rows, rootProps.rowBuffer, theme.direction]);\n  React.useLayoutEffect(() => {\n    if (renderContext) {\n      updateInnerPosition(renderContext);\n    }\n  }, [renderContext, updateInnerPosition]);\n  const handleScroll = React.useCallback((_ref, event) => {\n    let {\n      left,\n      renderContext: nextRenderContext = null\n    } = _ref;\n    var _prevRenderContext$cu, _prevRenderContext$cu2;\n    if (!innerRef.current) {\n      return;\n    }\n\n    // Ignore vertical scroll.\n    // Excepts the first event which sets the previous render context.\n    if (prevScrollLeft.current === left && ((_prevRenderContext$cu = prevRenderContext.current) == null ? void 0 : _prevRenderContext$cu.firstColumnIndex) === (nextRenderContext == null ? void 0 : nextRenderContext.firstColumnIndex) && ((_prevRenderContext$cu2 = prevRenderContext.current) == null ? void 0 : _prevRenderContext$cu2.lastColumnIndex) === (nextRenderContext == null ? void 0 : nextRenderContext.lastColumnIndex)) {\n      return;\n    }\n    prevScrollLeft.current = left;\n\n    // We can only update the position when we guarantee that the render context has been\n    // rendered. This is achieved using ReactDOM.flushSync or when the context doesn't change.\n    let canUpdateInnerPosition = false;\n    if (nextRenderContext !== prevRenderContext.current || !prevRenderContext.current) {\n      // ReactDOM.flushSync cannot be called on `scroll` events fired inside effects\n      if (isUIEvent(event)) {\n        // To prevent flickering, the inner position can only be updated after the new context has\n        // been rendered. ReactDOM.flushSync ensures that the state changes will happen before\n        // updating the position.\n        ReactDOM.flushSync(() => {\n          setRenderContext(nextRenderContext);\n        });\n        canUpdateInnerPosition = true;\n      } else {\n        setRenderContext(nextRenderContext);\n      }\n      prevRenderContext.current = nextRenderContext;\n    } else {\n      canUpdateInnerPosition = true;\n    }\n\n    // Pass directly the render context to avoid waiting for the next render\n    if (nextRenderContext && canUpdateInnerPosition) {\n      updateInnerPosition(nextRenderContext);\n    }\n  }, [updateInnerPosition, setRenderContext]);\n  const handleColumnResizeStart = React.useCallback(params => setResizeCol(params.field), []);\n  const handleColumnResizeStop = React.useCallback(() => setResizeCol(''), []);\n  const handleColumnReorderStart = React.useCallback(params => setDragCol(params.field), []);\n  const handleColumnReorderStop = React.useCallback(() => setDragCol(''), []);\n  useGridApiEventHandler(apiRef, 'columnResizeStart', handleColumnResizeStart);\n  useGridApiEventHandler(apiRef, 'columnResizeStop', handleColumnResizeStop);\n  useGridApiEventHandler(apiRef, 'columnHeaderDragStart', handleColumnReorderStart);\n  useGridApiEventHandler(apiRef, 'columnHeaderDragEnd', handleColumnReorderStop);\n  useGridApiEventHandler(apiRef, 'scrollPositionChange', handleScroll);\n\n  // Helper for computation common between getColumnHeaders and getColumnGroupHeaders\n  const getColumnsToRender = params => {\n    const {\n      renderContext: nextRenderContext = renderContext,\n      minFirstColumn = minColumnIndex,\n      maxLastColumn = visibleColumns.length\n    } = params || {};\n    if (!nextRenderContext) {\n      return null;\n    }\n    const [firstRowToRender, lastRowToRender] = getRenderableIndexes({\n      firstIndex: nextRenderContext.firstRowIndex,\n      lastIndex: nextRenderContext.lastRowIndex,\n      minFirstIndex: 0,\n      maxLastIndex: currentPage.rows.length,\n      buffer: rootProps.rowBuffer\n    });\n    const firstColumnToRender = !hasVirtualization ? 0 : getFirstColumnIndexToRenderRef.current({\n      firstColumnIndex: nextRenderContext.firstColumnIndex,\n      minColumnIndex: minFirstColumn,\n      columnBuffer: rootProps.columnBuffer,\n      apiRef,\n      firstRowToRender,\n      lastRowToRender,\n      visibleRows: currentPage.rows\n    });\n    const lastColumnToRender = !hasVirtualization ? maxLastColumn : Math.min(nextRenderContext.lastColumnIndex + rootProps.columnBuffer, maxLastColumn);\n    const renderedColumns = visibleColumns.slice(firstColumnToRender, lastColumnToRender);\n    return {\n      renderedColumns,\n      firstColumnToRender,\n      lastColumnToRender,\n      minFirstColumn,\n      maxLastColumn\n    };\n  };\n  const getColumnHeaders = function (params) {\n    let other = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n    const columnsToRender = getColumnsToRender(params);\n    if (columnsToRender == null) {\n      return null;\n    }\n    const {\n      renderedColumns,\n      firstColumnToRender\n    } = columnsToRender;\n    const columns = [];\n    for (let i = 0; i < renderedColumns.length; i += 1) {\n      const colDef = renderedColumns[i];\n      const columnIndex = firstColumnToRender + i;\n      const isFirstColumn = columnIndex === 0;\n      const tabIndex = columnHeaderTabIndexState !== null && columnHeaderTabIndexState.field === colDef.field || isFirstColumn && !hasOtherElementInTabSequence ? 0 : -1;\n      const hasFocus = columnHeaderFocus !== null && columnHeaderFocus.field === colDef.field;\n      const open = columnMenuState.open && columnMenuState.field === colDef.field;\n      columns.push( /*#__PURE__*/_jsx(GridColumnHeaderItem, _extends({}, sortColumnLookup[colDef.field], {\n        columnMenuOpen: open,\n        filterItemsCounter: filterColumnLookup[colDef.field] && filterColumnLookup[colDef.field].length,\n        headerHeight: headerHeight,\n        isDragging: colDef.field === dragCol,\n        colDef: colDef,\n        colIndex: columnIndex,\n        isResizing: resizeCol === colDef.field,\n        hasFocus: hasFocus,\n        tabIndex: tabIndex\n      }, other), colDef.field));\n    }\n    return /*#__PURE__*/_jsx(GridColumnHeaderRow, {\n      role: \"row\",\n      \"aria-rowindex\": headerGroupingMaxDepth + 1,\n      ownerState: rootProps,\n      children: columns\n    });\n  };\n  const getColumnGroupHeaders = params => {\n    if (headerGroupingMaxDepth === 0) {\n      return null;\n    }\n    const columnsToRender = getColumnsToRender(params);\n    if (columnsToRender == null || columnsToRender.renderedColumns.length === 0) {\n      return null;\n    }\n    const {\n      firstColumnToRender,\n      lastColumnToRender\n    } = columnsToRender;\n    const columns = [];\n    const headerToRender = [];\n    for (let depth = 0; depth < headerGroupingMaxDepth; depth += 1) {\n      var _apiRef$current$unsta, _apiRef$current$unsta2;\n      const rowStructure = columnGroupsHeaderStructure[depth];\n      const firstColumnFieldToRender = visibleColumns[firstColumnToRender].field;\n      const firstGroupToRender = (_apiRef$current$unsta = apiRef.current.unstable_getColumnGroupPath(firstColumnFieldToRender)[depth]) != null ? _apiRef$current$unsta : null;\n      const firstGroupIndex = rowStructure.findIndex(_ref2 => {\n        let {\n          groupId,\n          columnFields\n        } = _ref2;\n        return groupId === firstGroupToRender && columnFields.includes(firstColumnFieldToRender);\n      });\n      const lastColumnFieldToRender = visibleColumns[lastColumnToRender - 1].field;\n      const lastGroupToRender = (_apiRef$current$unsta2 = apiRef.current.unstable_getColumnGroupPath(lastColumnFieldToRender)[depth]) != null ? _apiRef$current$unsta2 : null;\n      const lastGroupIndex = rowStructure.findIndex(_ref3 => {\n        let {\n          groupId,\n          columnFields\n        } = _ref3;\n        return groupId === lastGroupToRender && columnFields.includes(lastColumnFieldToRender);\n      });\n      const visibleColumnGroupHeader = rowStructure.slice(firstGroupIndex, lastGroupIndex + 1).map(groupStructure => {\n        return _extends({}, groupStructure, {\n          columnFields: groupStructure.columnFields.filter(field => columnVisibility[field] !== false)\n        });\n      }).filter(groupStructure => groupStructure.columnFields.length > 0);\n      const firstVisibleColumnIndex = visibleColumnGroupHeader[0].columnFields.indexOf(firstColumnFieldToRender);\n      const hiddenGroupColumns = visibleColumnGroupHeader[0].columnFields.slice(0, firstVisibleColumnIndex);\n      const leftOverflow = hiddenGroupColumns.reduce((acc, field) => {\n        var _column$computedWidth;\n        const column = apiRef.current.getColumn(field);\n        return acc + ((_column$computedWidth = column.computedWidth) != null ? _column$computedWidth : 0);\n      }, 0);\n      let columnIndex = firstColumnToRender;\n      const elements = visibleColumnGroupHeader.map(_ref4 => {\n        let {\n          groupId,\n          columnFields\n        } = _ref4;\n        const hasFocus = columnGroupHeaderFocus !== null && columnGroupHeaderFocus.depth === depth && columnFields.includes(columnGroupHeaderFocus.field);\n        const tabIndex = columnGroupHeaderTabIndexState !== null && columnGroupHeaderTabIndexState.depth === depth && columnFields.includes(columnGroupHeaderTabIndexState.field) ? 0 : -1;\n        const headerInfo = {\n          groupId,\n          width: columnFields.reduce((acc, field) => acc + apiRef.current.getColumn(field).computedWidth, 0),\n          fields: columnFields,\n          colIndex: columnIndex,\n          hasFocus,\n          tabIndex\n        };\n        columnIndex += columnFields.length;\n        return headerInfo;\n      });\n      headerToRender.push({\n        leftOverflow,\n        elements\n      });\n    }\n    headerToRender.forEach((depthInfo, depthIndex) => {\n      columns.push( /*#__PURE__*/_jsx(GridColumnHeaderRow, {\n        style: {\n          height: \"\".concat(headerHeight, \"px\"),\n          transform: \"translateX(-\".concat(depthInfo.leftOverflow, \"px)\")\n        },\n        role: \"row\",\n        \"aria-rowindex\": depthIndex + 1,\n        ownerState: rootProps,\n        children: depthInfo.elements.map((_ref5, groupIndex) => {\n          let {\n            groupId,\n            width,\n            fields,\n            colIndex,\n            hasFocus,\n            tabIndex\n          } = _ref5;\n          return /*#__PURE__*/_jsx(GridColumnGroupHeader, {\n            groupId: groupId,\n            width: width,\n            fields: fields,\n            colIndex: colIndex,\n            depth: depthIndex,\n            isLastColumn: colIndex === visibleColumns.length - fields.length,\n            maxDepth: headerToRender.length,\n            height: headerHeight,\n            hasFocus: hasFocus,\n            tabIndex: tabIndex\n          }, groupIndex);\n        })\n      }, depthIndex));\n    });\n    return columns;\n  };\n  const rootStyle = {\n    minHeight: totalHeaderHeight,\n    maxHeight: totalHeaderHeight,\n    lineHeight: \"\".concat(headerHeight, \"px\")\n  };\n  return {\n    renderContext,\n    getColumnHeaders,\n    getColumnsToRender,\n    getColumnGroupHeaders,\n    isDragging: !!dragCol,\n    getRootProps: function () {\n      let other = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n      return _extends({\n        style: rootStyle\n      }, other);\n    },\n    getInnerProps: () => ({\n      ref: handleInnerRef,\n      role: 'rowgroup'\n    }),\n    headerHeight\n  };\n};","map":{"version":3,"names":["_extends","React","ReactDOM","unstable_useForkRef","useForkRef","styled","useTheme","defaultMemoize","useGridSelector","useGridPrivateApiContext","useGridRootProps","useGridApiEventHandler","GridColumnHeaderItem","getFirstColumnIndexToRender","getTotalHeaderHeight","useGridVisibleRows","areRenderContextsEqual","getRenderableIndexes","gridVirtualizationColumnEnabledSelector","GridColumnGroupHeader","jsx","_jsx","GridColumnHeaderRow","name","slot","overridesResolver","props","styles","columnHeaderRow","display","isUIEvent","event","target","useGridColumnHeaders","innerRef","innerRefProp","minColumnIndex","visibleColumns","sortColumnLookup","filterColumnLookup","columnPositions","columnHeaderTabIndexState","columnGroupHeaderTabIndexState","columnHeaderFocus","columnGroupHeaderFocus","densityFactor","headerGroupingMaxDepth","columnMenuState","columnVisibility","columnGroupsHeaderStructure","hasOtherElementInTabSequence","theme","dragCol","setDragCol","useState","resizeCol","setResizeCol","apiRef","hasVirtualization","rootProps","useRef","handleInnerRef","renderContext","setRenderContextRaw","prevRenderContext","prevScrollLeft","currentPage","totalHeaderHeight","columnHeaderHeight","headerHeight","Math","floor","setRenderContext","useCallback","nextRenderContext","useEffect","current","columnHeadersContainerElementRef","scrollLeft","getFirstColumnIndexToRenderRef","equalityCheck","a","b","every","key","updateInnerPosition","firstRowToRender","lastRowToRender","firstIndex","firstRowIndex","lastIndex","lastRowIndex","minFirstIndex","maxLastIndex","rows","length","buffer","rowBuffer","firstColumnToRender","firstColumnIndex","columnBuffer","visibleRows","direction","offset","style","transform","concat","useLayoutEffect","handleScroll","_ref","left","_prevRenderContext$cu","_prevRenderContext$cu2","lastColumnIndex","canUpdateInnerPosition","flushSync","handleColumnResizeStart","params","field","handleColumnResizeStop","handleColumnReorderStart","handleColumnReorderStop","getColumnsToRender","minFirstColumn","maxLastColumn","lastColumnToRender","min","renderedColumns","slice","getColumnHeaders","other","arguments","undefined","columnsToRender","columns","i","colDef","columnIndex","isFirstColumn","tabIndex","hasFocus","open","push","columnMenuOpen","filterItemsCounter","isDragging","colIndex","isResizing","role","ownerState","children","getColumnGroupHeaders","headerToRender","depth","_apiRef$current$unsta","_apiRef$current$unsta2","rowStructure","firstColumnFieldToRender","firstGroupToRender","unstable_getColumnGroupPath","firstGroupIndex","findIndex","_ref2","groupId","columnFields","includes","lastColumnFieldToRender","lastGroupToRender","lastGroupIndex","_ref3","visibleColumnGroupHeader","map","groupStructure","filter","firstVisibleColumnIndex","indexOf","hiddenGroupColumns","leftOverflow","reduce","acc","_column$computedWidth","column","getColumn","computedWidth","elements","_ref4","headerInfo","width","fields","forEach","depthInfo","depthIndex","height","_ref5","groupIndex","isLastColumn","maxDepth","rootStyle","minHeight","maxHeight","lineHeight","getRootProps","getInnerProps","ref"],"sources":["/Users/nickprince/Desktop/Flowise Working Commit/node_modules/@mui/x-data-grid/hooks/features/columnHeaders/useGridColumnHeaders.js"],"sourcesContent":["import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport * as React from 'react';\nimport * as ReactDOM from 'react-dom';\nimport { unstable_useForkRef as useForkRef } from '@mui/utils';\nimport { styled, useTheme } from '@mui/material/styles';\nimport { defaultMemoize } from 'reselect';\nimport { useGridSelector } from '../../utils';\nimport { useGridPrivateApiContext } from '../../utils/useGridPrivateApiContext';\nimport { useGridRootProps } from '../../utils/useGridRootProps';\nimport { useGridApiEventHandler } from '../../utils/useGridApiEventHandler';\nimport { GridColumnHeaderItem } from '../../../components/columnHeaders/GridColumnHeaderItem';\nimport { getFirstColumnIndexToRender, getTotalHeaderHeight } from '../columns/gridColumnsUtils';\nimport { useGridVisibleRows } from '../../utils/useGridVisibleRows';\nimport { areRenderContextsEqual, getRenderableIndexes } from '../virtualization/useGridVirtualScroller';\nimport { gridVirtualizationColumnEnabledSelector } from '../virtualization';\nimport { GridColumnGroupHeader } from '../../../components/columnHeaders/GridColumnGroupHeader';\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nconst GridColumnHeaderRow = styled('div', {\n  name: 'MuiDataGrid',\n  slot: 'ColumnHeaderRow',\n  overridesResolver: (props, styles) => styles.columnHeaderRow\n})(() => ({\n  display: 'flex'\n}));\nfunction isUIEvent(event) {\n  return !!event.target;\n}\nexport const useGridColumnHeaders = props => {\n  const {\n    innerRef: innerRefProp,\n    minColumnIndex = 0,\n    visibleColumns,\n    sortColumnLookup,\n    filterColumnLookup,\n    columnPositions,\n    columnHeaderTabIndexState,\n    columnGroupHeaderTabIndexState,\n    columnHeaderFocus,\n    columnGroupHeaderFocus,\n    densityFactor,\n    headerGroupingMaxDepth,\n    columnMenuState,\n    columnVisibility,\n    columnGroupsHeaderStructure,\n    hasOtherElementInTabSequence\n  } = props;\n  const theme = useTheme();\n  const [dragCol, setDragCol] = React.useState('');\n  const [resizeCol, setResizeCol] = React.useState('');\n  const apiRef = useGridPrivateApiContext();\n  const hasVirtualization = useGridSelector(apiRef, gridVirtualizationColumnEnabledSelector);\n  const rootProps = useGridRootProps();\n  const innerRef = React.useRef(null);\n  const handleInnerRef = useForkRef(innerRefProp, innerRef);\n  const [renderContext, setRenderContextRaw] = React.useState(null);\n  const prevRenderContext = React.useRef(renderContext);\n  const prevScrollLeft = React.useRef(0);\n  const currentPage = useGridVisibleRows(apiRef, rootProps);\n  const totalHeaderHeight = getTotalHeaderHeight(apiRef, rootProps.columnHeaderHeight);\n  const headerHeight = Math.floor(rootProps.columnHeaderHeight * densityFactor);\n  const setRenderContext = React.useCallback(nextRenderContext => {\n    if (renderContext && nextRenderContext && areRenderContextsEqual(renderContext, nextRenderContext)) {\n      return;\n    }\n    setRenderContextRaw(nextRenderContext);\n  }, [renderContext]);\n  React.useEffect(() => {\n    apiRef.current.columnHeadersContainerElementRef.current.scrollLeft = 0;\n  }, [apiRef]);\n\n  // memoize `getFirstColumnIndexToRender`, since it's called on scroll\n  const getFirstColumnIndexToRenderRef = React.useRef(defaultMemoize(getFirstColumnIndexToRender, {\n    equalityCheck: (a, b) => ['firstColumnIndex', 'minColumnIndex', 'columnBuffer'].every(key => a[key] === b[key])\n  }));\n  const updateInnerPosition = React.useCallback(nextRenderContext => {\n    const [firstRowToRender, lastRowToRender] = getRenderableIndexes({\n      firstIndex: nextRenderContext.firstRowIndex,\n      lastIndex: nextRenderContext.lastRowIndex,\n      minFirstIndex: 0,\n      maxLastIndex: currentPage.rows.length,\n      buffer: rootProps.rowBuffer\n    });\n    const firstColumnToRender = getFirstColumnIndexToRenderRef.current({\n      firstColumnIndex: nextRenderContext.firstColumnIndex,\n      minColumnIndex,\n      columnBuffer: rootProps.columnBuffer,\n      firstRowToRender,\n      lastRowToRender,\n      apiRef,\n      visibleRows: currentPage.rows\n    });\n    const direction = theme.direction === 'ltr' ? 1 : -1;\n    const offset = firstColumnToRender > 0 ? prevScrollLeft.current - direction * columnPositions[firstColumnToRender] : prevScrollLeft.current;\n    innerRef.current.style.transform = `translate3d(${-offset}px, 0px, 0px)`;\n  }, [columnPositions, minColumnIndex, rootProps.columnBuffer, apiRef, currentPage.rows, rootProps.rowBuffer, theme.direction]);\n  React.useLayoutEffect(() => {\n    if (renderContext) {\n      updateInnerPosition(renderContext);\n    }\n  }, [renderContext, updateInnerPosition]);\n  const handleScroll = React.useCallback(({\n    left,\n    renderContext: nextRenderContext = null\n  }, event) => {\n    var _prevRenderContext$cu, _prevRenderContext$cu2;\n    if (!innerRef.current) {\n      return;\n    }\n\n    // Ignore vertical scroll.\n    // Excepts the first event which sets the previous render context.\n    if (prevScrollLeft.current === left && ((_prevRenderContext$cu = prevRenderContext.current) == null ? void 0 : _prevRenderContext$cu.firstColumnIndex) === (nextRenderContext == null ? void 0 : nextRenderContext.firstColumnIndex) && ((_prevRenderContext$cu2 = prevRenderContext.current) == null ? void 0 : _prevRenderContext$cu2.lastColumnIndex) === (nextRenderContext == null ? void 0 : nextRenderContext.lastColumnIndex)) {\n      return;\n    }\n    prevScrollLeft.current = left;\n\n    // We can only update the position when we guarantee that the render context has been\n    // rendered. This is achieved using ReactDOM.flushSync or when the context doesn't change.\n    let canUpdateInnerPosition = false;\n    if (nextRenderContext !== prevRenderContext.current || !prevRenderContext.current) {\n      // ReactDOM.flushSync cannot be called on `scroll` events fired inside effects\n      if (isUIEvent(event)) {\n        // To prevent flickering, the inner position can only be updated after the new context has\n        // been rendered. ReactDOM.flushSync ensures that the state changes will happen before\n        // updating the position.\n        ReactDOM.flushSync(() => {\n          setRenderContext(nextRenderContext);\n        });\n        canUpdateInnerPosition = true;\n      } else {\n        setRenderContext(nextRenderContext);\n      }\n      prevRenderContext.current = nextRenderContext;\n    } else {\n      canUpdateInnerPosition = true;\n    }\n\n    // Pass directly the render context to avoid waiting for the next render\n    if (nextRenderContext && canUpdateInnerPosition) {\n      updateInnerPosition(nextRenderContext);\n    }\n  }, [updateInnerPosition, setRenderContext]);\n  const handleColumnResizeStart = React.useCallback(params => setResizeCol(params.field), []);\n  const handleColumnResizeStop = React.useCallback(() => setResizeCol(''), []);\n  const handleColumnReorderStart = React.useCallback(params => setDragCol(params.field), []);\n  const handleColumnReorderStop = React.useCallback(() => setDragCol(''), []);\n  useGridApiEventHandler(apiRef, 'columnResizeStart', handleColumnResizeStart);\n  useGridApiEventHandler(apiRef, 'columnResizeStop', handleColumnResizeStop);\n  useGridApiEventHandler(apiRef, 'columnHeaderDragStart', handleColumnReorderStart);\n  useGridApiEventHandler(apiRef, 'columnHeaderDragEnd', handleColumnReorderStop);\n  useGridApiEventHandler(apiRef, 'scrollPositionChange', handleScroll);\n\n  // Helper for computation common between getColumnHeaders and getColumnGroupHeaders\n  const getColumnsToRender = params => {\n    const {\n      renderContext: nextRenderContext = renderContext,\n      minFirstColumn = minColumnIndex,\n      maxLastColumn = visibleColumns.length\n    } = params || {};\n    if (!nextRenderContext) {\n      return null;\n    }\n    const [firstRowToRender, lastRowToRender] = getRenderableIndexes({\n      firstIndex: nextRenderContext.firstRowIndex,\n      lastIndex: nextRenderContext.lastRowIndex,\n      minFirstIndex: 0,\n      maxLastIndex: currentPage.rows.length,\n      buffer: rootProps.rowBuffer\n    });\n    const firstColumnToRender = !hasVirtualization ? 0 : getFirstColumnIndexToRenderRef.current({\n      firstColumnIndex: nextRenderContext.firstColumnIndex,\n      minColumnIndex: minFirstColumn,\n      columnBuffer: rootProps.columnBuffer,\n      apiRef,\n      firstRowToRender,\n      lastRowToRender,\n      visibleRows: currentPage.rows\n    });\n    const lastColumnToRender = !hasVirtualization ? maxLastColumn : Math.min(nextRenderContext.lastColumnIndex + rootProps.columnBuffer, maxLastColumn);\n    const renderedColumns = visibleColumns.slice(firstColumnToRender, lastColumnToRender);\n    return {\n      renderedColumns,\n      firstColumnToRender,\n      lastColumnToRender,\n      minFirstColumn,\n      maxLastColumn\n    };\n  };\n  const getColumnHeaders = (params, other = {}) => {\n    const columnsToRender = getColumnsToRender(params);\n    if (columnsToRender == null) {\n      return null;\n    }\n    const {\n      renderedColumns,\n      firstColumnToRender\n    } = columnsToRender;\n    const columns = [];\n    for (let i = 0; i < renderedColumns.length; i += 1) {\n      const colDef = renderedColumns[i];\n      const columnIndex = firstColumnToRender + i;\n      const isFirstColumn = columnIndex === 0;\n      const tabIndex = columnHeaderTabIndexState !== null && columnHeaderTabIndexState.field === colDef.field || isFirstColumn && !hasOtherElementInTabSequence ? 0 : -1;\n      const hasFocus = columnHeaderFocus !== null && columnHeaderFocus.field === colDef.field;\n      const open = columnMenuState.open && columnMenuState.field === colDef.field;\n      columns.push( /*#__PURE__*/_jsx(GridColumnHeaderItem, _extends({}, sortColumnLookup[colDef.field], {\n        columnMenuOpen: open,\n        filterItemsCounter: filterColumnLookup[colDef.field] && filterColumnLookup[colDef.field].length,\n        headerHeight: headerHeight,\n        isDragging: colDef.field === dragCol,\n        colDef: colDef,\n        colIndex: columnIndex,\n        isResizing: resizeCol === colDef.field,\n        hasFocus: hasFocus,\n        tabIndex: tabIndex\n      }, other), colDef.field));\n    }\n    return /*#__PURE__*/_jsx(GridColumnHeaderRow, {\n      role: \"row\",\n      \"aria-rowindex\": headerGroupingMaxDepth + 1,\n      ownerState: rootProps,\n      children: columns\n    });\n  };\n  const getColumnGroupHeaders = params => {\n    if (headerGroupingMaxDepth === 0) {\n      return null;\n    }\n    const columnsToRender = getColumnsToRender(params);\n    if (columnsToRender == null || columnsToRender.renderedColumns.length === 0) {\n      return null;\n    }\n    const {\n      firstColumnToRender,\n      lastColumnToRender\n    } = columnsToRender;\n    const columns = [];\n    const headerToRender = [];\n    for (let depth = 0; depth < headerGroupingMaxDepth; depth += 1) {\n      var _apiRef$current$unsta, _apiRef$current$unsta2;\n      const rowStructure = columnGroupsHeaderStructure[depth];\n      const firstColumnFieldToRender = visibleColumns[firstColumnToRender].field;\n      const firstGroupToRender = (_apiRef$current$unsta = apiRef.current.unstable_getColumnGroupPath(firstColumnFieldToRender)[depth]) != null ? _apiRef$current$unsta : null;\n      const firstGroupIndex = rowStructure.findIndex(({\n        groupId,\n        columnFields\n      }) => groupId === firstGroupToRender && columnFields.includes(firstColumnFieldToRender));\n      const lastColumnFieldToRender = visibleColumns[lastColumnToRender - 1].field;\n      const lastGroupToRender = (_apiRef$current$unsta2 = apiRef.current.unstable_getColumnGroupPath(lastColumnFieldToRender)[depth]) != null ? _apiRef$current$unsta2 : null;\n      const lastGroupIndex = rowStructure.findIndex(({\n        groupId,\n        columnFields\n      }) => groupId === lastGroupToRender && columnFields.includes(lastColumnFieldToRender));\n      const visibleColumnGroupHeader = rowStructure.slice(firstGroupIndex, lastGroupIndex + 1).map(groupStructure => {\n        return _extends({}, groupStructure, {\n          columnFields: groupStructure.columnFields.filter(field => columnVisibility[field] !== false)\n        });\n      }).filter(groupStructure => groupStructure.columnFields.length > 0);\n      const firstVisibleColumnIndex = visibleColumnGroupHeader[0].columnFields.indexOf(firstColumnFieldToRender);\n      const hiddenGroupColumns = visibleColumnGroupHeader[0].columnFields.slice(0, firstVisibleColumnIndex);\n      const leftOverflow = hiddenGroupColumns.reduce((acc, field) => {\n        var _column$computedWidth;\n        const column = apiRef.current.getColumn(field);\n        return acc + ((_column$computedWidth = column.computedWidth) != null ? _column$computedWidth : 0);\n      }, 0);\n      let columnIndex = firstColumnToRender;\n      const elements = visibleColumnGroupHeader.map(({\n        groupId,\n        columnFields\n      }) => {\n        const hasFocus = columnGroupHeaderFocus !== null && columnGroupHeaderFocus.depth === depth && columnFields.includes(columnGroupHeaderFocus.field);\n        const tabIndex = columnGroupHeaderTabIndexState !== null && columnGroupHeaderTabIndexState.depth === depth && columnFields.includes(columnGroupHeaderTabIndexState.field) ? 0 : -1;\n        const headerInfo = {\n          groupId,\n          width: columnFields.reduce((acc, field) => acc + apiRef.current.getColumn(field).computedWidth, 0),\n          fields: columnFields,\n          colIndex: columnIndex,\n          hasFocus,\n          tabIndex\n        };\n        columnIndex += columnFields.length;\n        return headerInfo;\n      });\n      headerToRender.push({\n        leftOverflow,\n        elements\n      });\n    }\n    headerToRender.forEach((depthInfo, depthIndex) => {\n      columns.push( /*#__PURE__*/_jsx(GridColumnHeaderRow, {\n        style: {\n          height: `${headerHeight}px`,\n          transform: `translateX(-${depthInfo.leftOverflow}px)`\n        },\n        role: \"row\",\n        \"aria-rowindex\": depthIndex + 1,\n        ownerState: rootProps,\n        children: depthInfo.elements.map(({\n          groupId,\n          width,\n          fields,\n          colIndex,\n          hasFocus,\n          tabIndex\n        }, groupIndex) => {\n          return /*#__PURE__*/_jsx(GridColumnGroupHeader, {\n            groupId: groupId,\n            width: width,\n            fields: fields,\n            colIndex: colIndex,\n            depth: depthIndex,\n            isLastColumn: colIndex === visibleColumns.length - fields.length,\n            maxDepth: headerToRender.length,\n            height: headerHeight,\n            hasFocus: hasFocus,\n            tabIndex: tabIndex\n          }, groupIndex);\n        })\n      }, depthIndex));\n    });\n    return columns;\n  };\n  const rootStyle = {\n    minHeight: totalHeaderHeight,\n    maxHeight: totalHeaderHeight,\n    lineHeight: `${headerHeight}px`\n  };\n  return {\n    renderContext,\n    getColumnHeaders,\n    getColumnsToRender,\n    getColumnGroupHeaders,\n    isDragging: !!dragCol,\n    getRootProps: (other = {}) => _extends({\n      style: rootStyle\n    }, other),\n    getInnerProps: () => ({\n      ref: handleInnerRef,\n      role: 'rowgroup'\n    }),\n    headerHeight\n  };\n};"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}