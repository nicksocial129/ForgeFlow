{"ast":null,"code":"\"use strict\";\n\nvar __importDefault = this && this.__importDefault || function (mod) {\n  return mod && mod.__esModule ? mod : {\n    \"default\": mod\n  };\n};\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.BboxConfiguration = exports.BboxMethods = void 0;\nvar Configuration_js_1 = require(\"../Configuration.js\");\nvar SymbolMap_js_1 = require(\"../SymbolMap.js\");\nvar TexError_js_1 = __importDefault(require(\"../TexError.js\"));\nexports.BboxMethods = {};\nexports.BboxMethods.BBox = function (parser, name) {\n  var bbox = parser.GetBrackets(name, '');\n  var math = parser.ParseArg(name);\n  var parts = bbox.split(/,/);\n  var def, background, style;\n  for (var i = 0, m = parts.length; i < m; i++) {\n    var part = parts[i].trim();\n    var match = part.match(/^(\\.\\d+|\\d+(\\.\\d*)?)(pt|em|ex|mu|px|in|cm|mm)$/);\n    if (match) {\n      if (def) {\n        throw new TexError_js_1.default('MultipleBBoxProperty', '%1 specified twice in %2', 'Padding', name);\n      }\n      var pad = BBoxPadding(match[1] + match[3]);\n      if (pad) {\n        def = {\n          height: '+' + pad,\n          depth: '+' + pad,\n          lspace: pad,\n          width: '+' + 2 * parseInt(match[1], 10) + match[3]\n        };\n      }\n    } else if (part.match(/^([a-z0-9]+|\\#[0-9a-f]{6}|\\#[0-9a-f]{3})$/i)) {\n      if (background) {\n        throw new TexError_js_1.default('MultipleBBoxProperty', '%1 specified twice in %2', 'Background', name);\n      }\n      background = part;\n    } else if (part.match(/^[-a-z]+:/i)) {\n      if (style) {\n        throw new TexError_js_1.default('MultipleBBoxProperty', '%1 specified twice in %2', 'Style', name);\n      }\n      style = BBoxStyle(part);\n    } else if (part !== '') {\n      throw new TexError_js_1.default('InvalidBBoxProperty', '\"%1\" doesn\\'t look like a color, a padding dimension, or a style', part);\n    }\n  }\n  if (def) {\n    math = parser.create('node', 'mpadded', [math], def);\n  }\n  if (background || style) {\n    def = {};\n    if (background) {\n      Object.assign(def, {\n        mathbackground: background\n      });\n    }\n    if (style) {\n      Object.assign(def, {\n        style: style\n      });\n    }\n    math = parser.create('node', 'mstyle', [math], def);\n  }\n  parser.Push(math);\n};\nvar BBoxStyle = function (styles) {\n  return styles;\n};\nvar BBoxPadding = function (pad) {\n  return pad;\n};\nnew SymbolMap_js_1.CommandMap('bbox', {\n  bbox: 'BBox'\n}, exports.BboxMethods);\nexports.BboxConfiguration = Configuration_js_1.Configuration.create('bbox', {\n  handler: {\n    macro: ['bbox']\n  }\n});","map":{"version":3,"names":["Configuration_js_1","require","SymbolMap_js_1","TexError_js_1","__importDefault","exports","BboxMethods","BBox","parser","name","bbox","GetBrackets","math","ParseArg","parts","split","def","background","style","i","m","length","part","trim","match","default","pad","BBoxPadding","height","depth","lspace","width","parseInt","BBoxStyle","create","Object","assign","mathbackground","Push","styles","CommandMap","BboxConfiguration","Configuration","handler","macro"],"sources":["/Users/nickprince/Desktop/Flowise Working Commit/node_modules/mathjax-full/ts/input/tex/bbox/BboxConfiguration.ts"],"sourcesContent":["/*************************************************************\n *\n *  Copyright (c) 2018-2022 The MathJax Consortium\n *\n *  Licensed under the Apache License, Version 2.0 (the \"License\");\n *  you may not use this file except in compliance with the License.\n *  You may obtain a copy of the License at\n *\n *      http://www.apache.org/licenses/LICENSE-2.0\n *\n *  Unless required by applicable law or agreed to in writing, software\n *  distributed under the License is distributed on an \"AS IS\" BASIS,\n *  WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n *  See the License for the specific language governing permissions and\n *  limitations under the License.\n */\n\n\n/**\n * @fileoverview Configuration file for the bbox package.\n *\n * @author v.sorge@mathjax.org (Volker Sorge)\n */\n\nimport {Configuration} from '../Configuration.js';\nimport TexParser from '../TexParser.js';\nimport {CommandMap} from '../SymbolMap.js';\nimport {ParseMethod} from '../Types.js';\nimport TexError from '../TexError.js';\n\n\n// Namespace\nexport let BboxMethods: Record<string, ParseMethod> = {};\n\n/**\n * Implements MathJax Bbox macro to pad and colorize background boxes.\n * @param {TexParser} parser The current tex parser.\n * @param {string} name The name of the calling macro.\n */\nBboxMethods.BBox = function(parser: TexParser, name: string) {\n  const bbox = parser.GetBrackets(name, '');\n  let math = parser.ParseArg(name);\n  const parts = bbox.split(/,/);\n  let def, background, style;\n  for (let i = 0, m = parts.length; i < m; i++) {\n    const part = parts[i].trim();\n    const match = part.match(/^(\\.\\d+|\\d+(\\.\\d*)?)(pt|em|ex|mu|px|in|cm|mm)$/);\n    if (match) {\n      // @test Bbox-Padding\n      if (def) {\n        // @test Bbox-Padding-Error\n        throw new TexError('MultipleBBoxProperty', '%1 specified twice in %2', 'Padding', name);\n      }\n      const pad = BBoxPadding(match[1] + match[3]);\n      if (pad) {\n        // @test Bbox-Padding\n        def = {\n          height: '+' + pad,\n          depth: '+' + pad,\n          lspace: pad,\n          width: '+' + (2 * parseInt(match[1], 10)) + match[3]\n        };\n      }\n    } else if (part.match(/^([a-z0-9]+|\\#[0-9a-f]{6}|\\#[0-9a-f]{3})$/i)) {\n      // @test Bbox-Background\n      if (background) {\n        // @test Bbox-Background-Error\n        throw new TexError('MultipleBBoxProperty', '%1 specified twice in %2',\n                           'Background', name);\n      }\n      background = part;\n    } else if (part.match(/^[-a-z]+:/i)) {\n      // @test Bbox-Frame\n      if (style) {\n        // @test Bbox-Frame-Error\n        throw new TexError('MultipleBBoxProperty', '%1 specified twice in %2',\n                           'Style', name);\n      }\n      style = BBoxStyle(part);\n    } else if (part !== '') {\n      // @test Bbox-General-Error\n      throw new TexError(\n        'InvalidBBoxProperty',\n        '\"%1\" doesn\\'t look like a color, a padding dimension, or a style',\n        part);\n    }\n  }\n  if (def) {\n    // @test Bbox-Padding\n    math = parser.create('node', 'mpadded', [math], def);\n  }\n  if (background || style) {\n    def = {};\n    if (background) {\n      // @test Bbox-Background\n      Object.assign(def, {mathbackground: background});\n    }\n    if (style) {\n      // @test Bbox-Frame\n      Object.assign(def, {style: style});\n    }\n    math = parser.create('node', 'mstyle', [math], def);\n  }\n  parser.Push(math);\n};\n\n\n// Dummy methods. Need to be made Safe with security check.\nlet BBoxStyle = function(styles: string) {\n  return styles;\n};\n\nlet BBoxPadding = function(pad: string) {\n  return pad;\n};\n\n\nnew CommandMap('bbox', {bbox: 'BBox'}, BboxMethods);\n\n\nexport const BboxConfiguration = Configuration.create(\n  'bbox', {handler: {macro: ['bbox']}}\n);\n"],"mappings":";;;;;;;;;;;AAwBA,IAAAA,kBAAA,GAAAC,OAAA;AAEA,IAAAC,cAAA,GAAAD,OAAA;AAEA,IAAAE,aAAA,GAAAC,eAAA,CAAAH,OAAA;AAIWI,OAAA,CAAAC,WAAW,GAAgC,EAAE;AAOxDD,OAAA,CAAAC,WAAW,CAACC,IAAI,GAAG,UAASC,MAAiB,EAAEC,IAAY;EACzD,IAAMC,IAAI,GAAGF,MAAM,CAACG,WAAW,CAACF,IAAI,EAAE,EAAE,CAAC;EACzC,IAAIG,IAAI,GAAGJ,MAAM,CAACK,QAAQ,CAACJ,IAAI,CAAC;EAChC,IAAMK,KAAK,GAAGJ,IAAI,CAACK,KAAK,CAAC,GAAG,CAAC;EAC7B,IAAIC,GAAG,EAAEC,UAAU,EAAEC,KAAK;EAC1B,KAAK,IAAIC,CAAC,GAAG,CAAC,EAAEC,CAAC,GAAGN,KAAK,CAACO,MAAM,EAAEF,CAAC,GAAGC,CAAC,EAAED,CAAC,EAAE,EAAE;IAC5C,IAAMG,IAAI,GAAGR,KAAK,CAACK,CAAC,CAAC,CAACI,IAAI,EAAE;IAC5B,IAAMC,KAAK,GAAGF,IAAI,CAACE,KAAK,CAAC,gDAAgD,CAAC;IAC1E,IAAIA,KAAK,EAAE;MAET,IAAIR,GAAG,EAAE;QAEP,MAAM,IAAIb,aAAA,CAAAsB,OAAQ,CAAC,sBAAsB,EAAE,0BAA0B,EAAE,SAAS,EAAEhB,IAAI,CAAC;;MAEzF,IAAMiB,GAAG,GAAGC,WAAW,CAACH,KAAK,CAAC,CAAC,CAAC,GAAGA,KAAK,CAAC,CAAC,CAAC,CAAC;MAC5C,IAAIE,GAAG,EAAE;QAEPV,GAAG,GAAG;UACJY,MAAM,EAAE,GAAG,GAAGF,GAAG;UACjBG,KAAK,EAAE,GAAG,GAAGH,GAAG;UAChBI,MAAM,EAAEJ,GAAG;UACXK,KAAK,EAAE,GAAG,GAAI,CAAC,GAAGC,QAAQ,CAACR,KAAK,CAAC,CAAC,CAAC,EAAE,EAAE,CAAE,GAAGA,KAAK,CAAC,CAAC;SACpD;;KAEJ,MAAM,IAAIF,IAAI,CAACE,KAAK,CAAC,4CAA4C,CAAC,EAAE;MAEnE,IAAIP,UAAU,EAAE;QAEd,MAAM,IAAId,aAAA,CAAAsB,OAAQ,CAAC,sBAAsB,EAAE,0BAA0B,EAClD,YAAY,EAAEhB,IAAI,CAAC;;MAExCQ,UAAU,GAAGK,IAAI;KAClB,MAAM,IAAIA,IAAI,CAACE,KAAK,CAAC,YAAY,CAAC,EAAE;MAEnC,IAAIN,KAAK,EAAE;QAET,MAAM,IAAIf,aAAA,CAAAsB,OAAQ,CAAC,sBAAsB,EAAE,0BAA0B,EAClD,OAAO,EAAEhB,IAAI,CAAC;;MAEnCS,KAAK,GAAGe,SAAS,CAACX,IAAI,CAAC;KACxB,MAAM,IAAIA,IAAI,KAAK,EAAE,EAAE;MAEtB,MAAM,IAAInB,aAAA,CAAAsB,OAAQ,CAChB,qBAAqB,EACrB,kEAAkE,EAClEH,IAAI,CAAC;;;EAGX,IAAIN,GAAG,EAAE;IAEPJ,IAAI,GAAGJ,MAAM,CAAC0B,MAAM,CAAC,MAAM,EAAE,SAAS,EAAE,CAACtB,IAAI,CAAC,EAAEI,GAAG,CAAC;;EAEtD,IAAIC,UAAU,IAAIC,KAAK,EAAE;IACvBF,GAAG,GAAG,EAAE;IACR,IAAIC,UAAU,EAAE;MAEdkB,MAAM,CAACC,MAAM,CAACpB,GAAG,EAAE;QAACqB,cAAc,EAAEpB;MAAU,CAAC,CAAC;;IAElD,IAAIC,KAAK,EAAE;MAETiB,MAAM,CAACC,MAAM,CAACpB,GAAG,EAAE;QAACE,KAAK,EAAEA;MAAK,CAAC,CAAC;;IAEpCN,IAAI,GAAGJ,MAAM,CAAC0B,MAAM,CAAC,MAAM,EAAE,QAAQ,EAAE,CAACtB,IAAI,CAAC,EAAEI,GAAG,CAAC;;EAErDR,MAAM,CAAC8B,IAAI,CAAC1B,IAAI,CAAC;AACnB,CAAC;AAID,IAAIqB,SAAS,GAAG,SAAAA,CAASM,MAAc;EACrC,OAAOA,MAAM;AACf,CAAC;AAED,IAAIZ,WAAW,GAAG,SAAAA,CAASD,GAAW;EACpC,OAAOA,GAAG;AACZ,CAAC;AAGD,IAAIxB,cAAA,CAAAsC,UAAU,CAAC,MAAM,EAAE;EAAC9B,IAAI,EAAE;AAAM,CAAC,EAAEL,OAAA,CAAAC,WAAW,CAAC;AAGtCD,OAAA,CAAAoC,iBAAiB,GAAGzC,kBAAA,CAAA0C,aAAa,CAACR,MAAM,CACnD,MAAM,EAAE;EAACS,OAAO,EAAE;IAACC,KAAK,EAAE,CAAC,MAAM;EAAC;AAAC,CAAC,CACrC"},"metadata":{},"sourceType":"script","externalDependencies":[]}