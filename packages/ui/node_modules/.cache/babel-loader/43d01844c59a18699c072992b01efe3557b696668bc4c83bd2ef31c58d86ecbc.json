{"ast":null,"code":"import{useState,useEffect}from'react';// material-ui\nimport{useTheme}from'@mui/material/styles';import{Box,List,Paper,Popper,ClickAwayListener}from'@mui/material';// third-party\nimport PerfectScrollbar from'react-perfect-scrollbar';// project imports\nimport MainCard from'ui-component/cards/MainCard';import Transitions from'ui-component/extended/Transitions';import NavItem from'layout/MainLayout/Sidebar/MenuList/NavItem';import settings from'menu-items/settings';// ==============================|| SETTINGS ||============================== //\nimport{jsx as _jsx}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";const Settings=_ref=>{let{chatflow,isSettingsOpen,anchorEl,onSettingsItemClick,onUploadFile,onClose}=_ref;const theme=useTheme();const[settingsMenu,setSettingsMenu]=useState([]);const[open,setOpen]=useState(false);useEffect(()=>{if(chatflow&&!chatflow.id){const settingsMenu=settings.children.filter(menu=>menu.id==='loadChatflow');setSettingsMenu(settingsMenu);}else if(chatflow&&chatflow.id){const settingsMenu=settings.children;setSettingsMenu(settingsMenu);}},[chatflow]);useEffect(()=>{setOpen(isSettingsOpen);},[isSettingsOpen]);// settings list items\nconst items=settingsMenu.map(menu=>{return/*#__PURE__*/_jsx(NavItem,{item:menu,level:1,navType:\"SETTINGS\",onClick:id=>onSettingsItemClick(id),onUploadFile:onUploadFile},menu.id);});return/*#__PURE__*/_jsx(_Fragment,{children:/*#__PURE__*/_jsx(Popper,{placement:\"bottom-end\",open:open,anchorEl:anchorEl,role:undefined,transition:true,disablePortal:true,popperOptions:{modifiers:[{name:'offset',options:{offset:[170,20]}}]},sx:{zIndex:1000},children:_ref2=>{let{TransitionProps}=_ref2;return/*#__PURE__*/_jsx(Transitions,{in:open,...TransitionProps,children:/*#__PURE__*/_jsx(Paper,{children:/*#__PURE__*/_jsx(ClickAwayListener,{onClickAway:onClose,children:/*#__PURE__*/_jsx(MainCard,{border:false,elevation:16,content:false,boxShadow:true,shadow:theme.shadows[16],children:/*#__PURE__*/_jsx(PerfectScrollbar,{style:{height:'100%',maxHeight:'calc(100vh - 250px)',overflowX:'hidden'},children:/*#__PURE__*/_jsx(Box,{sx:{p:2},children:/*#__PURE__*/_jsx(List,{children:items})})})})})})});}})});};export default Settings;","map":{"version":3,"names":["useState","useEffect","useTheme","Box","List","Paper","Popper","ClickAwayListener","PerfectScrollbar","MainCard","Transitions","NavItem","settings","jsx","_jsx","Fragment","_Fragment","Settings","_ref","chatflow","isSettingsOpen","anchorEl","onSettingsItemClick","onUploadFile","onClose","theme","settingsMenu","setSettingsMenu","open","setOpen","id","children","filter","menu","items","map","item","level","navType","onClick","placement","role","undefined","transition","disablePortal","popperOptions","modifiers","name","options","offset","sx","zIndex","_ref2","TransitionProps","in","onClickAway","border","elevation","content","boxShadow","shadow","shadows","style","height","maxHeight","overflowX","p"],"sources":["/Users/nickprince/Desktop/Flowise Working Commit/packages/ui/src/views/settings/index.js"],"sourcesContent":["import { useState, useEffect } from 'react'\nimport PropTypes from 'prop-types'\n\n// material-ui\nimport { useTheme } from '@mui/material/styles'\nimport { Box, List, Paper, Popper, ClickAwayListener } from '@mui/material'\n\n// third-party\nimport PerfectScrollbar from 'react-perfect-scrollbar'\n\n// project imports\nimport MainCard from 'ui-component/cards/MainCard'\nimport Transitions from 'ui-component/extended/Transitions'\nimport NavItem from 'layout/MainLayout/Sidebar/MenuList/NavItem'\n\nimport settings from 'menu-items/settings'\n\n// ==============================|| SETTINGS ||============================== //\n\nconst Settings = ({ chatflow, isSettingsOpen, anchorEl, onSettingsItemClick, onUploadFile, onClose }) => {\n    const theme = useTheme()\n    const [settingsMenu, setSettingsMenu] = useState([])\n\n    const [open, setOpen] = useState(false)\n\n    useEffect(() => {\n        if (chatflow && !chatflow.id) {\n            const settingsMenu = settings.children.filter((menu) => menu.id === 'loadChatflow')\n            setSettingsMenu(settingsMenu)\n        } else if (chatflow && chatflow.id) {\n            const settingsMenu = settings.children\n            setSettingsMenu(settingsMenu)\n        }\n    }, [chatflow])\n\n    useEffect(() => {\n        setOpen(isSettingsOpen)\n    }, [isSettingsOpen])\n\n    // settings list items\n    const items = settingsMenu.map((menu) => {\n        return (\n            <NavItem\n                key={menu.id}\n                item={menu}\n                level={1}\n                navType='SETTINGS'\n                onClick={(id) => onSettingsItemClick(id)}\n                onUploadFile={onUploadFile}\n            />\n        )\n    })\n\n    return (\n        <>\n            <Popper\n                placement='bottom-end'\n                open={open}\n                anchorEl={anchorEl}\n                role={undefined}\n                transition\n                disablePortal\n                popperOptions={{\n                    modifiers: [\n                        {\n                            name: 'offset',\n                            options: {\n                                offset: [170, 20]\n                            }\n                        }\n                    ]\n                }}\n                sx={{ zIndex: 1000 }}\n            >\n                {({ TransitionProps }) => (\n                    <Transitions in={open} {...TransitionProps}>\n                        <Paper>\n                            <ClickAwayListener onClickAway={onClose}>\n                                <MainCard border={false} elevation={16} content={false} boxShadow shadow={theme.shadows[16]}>\n                                    <PerfectScrollbar style={{ height: '100%', maxHeight: 'calc(100vh - 250px)', overflowX: 'hidden' }}>\n                                        <Box sx={{ p: 2 }}>\n                                            <List>{items}</List>\n                                        </Box>\n                                    </PerfectScrollbar>\n                                </MainCard>\n                            </ClickAwayListener>\n                        </Paper>\n                    </Transitions>\n                )}\n            </Popper>\n        </>\n    )\n}\n\nSettings.propTypes = {\n    chatflow: PropTypes.object,\n    isSettingsOpen: PropTypes.bool,\n    anchorEl: PropTypes.any,\n    onSettingsItemClick: PropTypes.func,\n    onUploadFile: PropTypes.func,\n    onClose: PropTypes.func\n}\n\nexport default Settings\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}