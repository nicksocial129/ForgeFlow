{"ast":null,"code":"\"use strict\";\n\nvar __extends = this && this.__extends || function () {\n  var extendStatics = function (d, b) {\n    extendStatics = Object.setPrototypeOf || {\n      __proto__: []\n    } instanceof Array && function (d, b) {\n      d.__proto__ = b;\n    } || function (d, b) {\n      for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p];\n    };\n    return extendStatics(d, b);\n  };\n  return function (d, b) {\n    if (typeof b !== \"function\" && b !== null) throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\n    extendStatics(d, b);\n    function __() {\n      this.constructor = d;\n    }\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n  };\n}();\nvar __createBinding = this && this.__createBinding || (Object.create ? function (o, m, k, k2) {\n  if (k2 === undefined) k2 = k;\n  var desc = Object.getOwnPropertyDescriptor(m, k);\n  if (!desc || (\"get\" in desc ? !m.__esModule : desc.writable || desc.configurable)) {\n    desc = {\n      enumerable: true,\n      get: function () {\n        return m[k];\n      }\n    };\n  }\n  Object.defineProperty(o, k2, desc);\n} : function (o, m, k, k2) {\n  if (k2 === undefined) k2 = k;\n  o[k2] = m[k];\n});\nvar __setModuleDefault = this && this.__setModuleDefault || (Object.create ? function (o, v) {\n  Object.defineProperty(o, \"default\", {\n    enumerable: true,\n    value: v\n  });\n} : function (o, v) {\n  o[\"default\"] = v;\n});\nvar __importStar = this && this.__importStar || function (mod) {\n  if (mod && mod.__esModule) return mod;\n  var result = {};\n  if (mod != null) for (var k in mod) if (k !== \"default\" && Object.prototype.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\n  __setModuleDefault(result, mod);\n  return result;\n};\nvar __importDefault = this && this.__importDefault || function (mod) {\n  return mod && mod.__esModule ? mod : {\n    \"default\": mod\n  };\n};\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.ProofTreeItem = void 0;\nvar TexError_js_1 = __importDefault(require(\"../TexError.js\"));\nvar StackItem_js_1 = require(\"../StackItem.js\");\nvar Stack_js_1 = __importDefault(require(\"../Stack.js\"));\nvar BussproofsUtil = __importStar(require(\"./BussproofsUtil.js\"));\nvar ProofTreeItem = function (_super) {\n  __extends(ProofTreeItem, _super);\n  function ProofTreeItem() {\n    var _this = _super !== null && _super.apply(this, arguments) || this;\n    _this.leftLabel = null;\n    _this.rigthLabel = null;\n    _this.innerStack = new Stack_js_1.default(_this.factory, {}, true);\n    return _this;\n  }\n  Object.defineProperty(ProofTreeItem.prototype, \"kind\", {\n    get: function () {\n      return 'proofTree';\n    },\n    enumerable: false,\n    configurable: true\n  });\n  ProofTreeItem.prototype.checkItem = function (item) {\n    if (item.isKind('end') && item.getName() === 'prooftree') {\n      var node = this.toMml();\n      BussproofsUtil.setProperty(node, 'proof', true);\n      return [[this.factory.create('mml', node), item], true];\n    }\n    if (item.isKind('stop')) {\n      throw new TexError_js_1.default('EnvMissingEnd', 'Missing \\\\end{%1}', this.getName());\n    }\n    this.innerStack.Push(item);\n    return StackItem_js_1.BaseItem.fail;\n  };\n  ProofTreeItem.prototype.toMml = function () {\n    var tree = _super.prototype.toMml.call(this);\n    var start = this.innerStack.Top();\n    if (start.isKind('start') && !start.Size()) {\n      return tree;\n    }\n    this.innerStack.Push(this.factory.create('stop'));\n    var prefix = this.innerStack.Top().toMml();\n    return this.create('node', 'mrow', [prefix, tree], {});\n  };\n  return ProofTreeItem;\n}(StackItem_js_1.BaseItem);\nexports.ProofTreeItem = ProofTreeItem;","map":{"version":3,"names":["TexError_js_1","__importDefault","require","StackItem_js_1","Stack_js_1","BussproofsUtil","__importStar","ProofTreeItem","_super","__extends","_this","apply","arguments","leftLabel","rigthLabel","innerStack","default","factory","Object","defineProperty","prototype","get","checkItem","item","isKind","getName","node","toMml","setProperty","create","Push","BaseItem","fail","tree","call","start","Top","Size","prefix","exports"],"sources":["/Users/nickprince/Desktop/Flowise Working Commit/node_modules/mathjax-full/ts/input/tex/bussproofs/BussproofsItems.ts"],"sourcesContent":["/*************************************************************\n *\n *  Copyright (c) 2018-2022 The MathJax Consortium\n *\n *  Licensed under the Apache License, Version 2.0 (the \"License\");\n *  you may not use this file except in compliance with the License.\n *  You may obtain a copy of the License at\n *\n *      http://www.apache.org/licenses/LICENSE-2.0\n *\n *  Unless required by applicable law or agreed to in writing, software\n *  distributed under the License is distributed on an \"AS IS\" BASIS,\n *  WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n *  See the License for the specific language governing permissions and\n *  limitations under the License.\n */\n\n\n/**\n * @fileoverview Items for TeX parsing of bussproofs.\n *\n * @author v.sorge@mathjax.org (Volker Sorge)\n */\n\n\nimport TexError from '../TexError.js';\nimport {BaseItem, CheckType, StackItem} from '../StackItem.js';\nimport {MmlNode} from '../../../core/MmlTree/MmlNode.js';\nimport Stack from '../Stack.js';\nimport * as BussproofsUtil from './BussproofsUtil.js';\n\n\nexport class ProofTreeItem extends BaseItem {\n\n\n  /**\n   * The current left label.\n   * @type {MmlNode[]}\n   */\n  public leftLabel: MmlNode[] = null;\n\n  /**\n   * The current right label.\n   * @type {MmlNode[]}\n   */\n  public rigthLabel: MmlNode[] = null;\n\n  private innerStack: Stack = new Stack(this.factory, {}, true);\n\n  /**\n   * @override\n   */\n  public get kind() {\n    return 'proofTree';\n  }\n\n\n  /**\n   * @override\n   */\n  public checkItem(item: StackItem): CheckType {\n    if (item.isKind('end') && item.getName() === 'prooftree') {\n      let node = this.toMml();\n      BussproofsUtil.setProperty(node, 'proof', true);\n      return [[this.factory.create('mml', node), item], true];\n    }\n    if (item.isKind('stop')) {\n      throw new TexError('EnvMissingEnd', 'Missing \\\\end{%1}', this.getName());\n    }\n    this.innerStack.Push(item);\n    return BaseItem.fail;\n  }\n\n\n  /**\n   * @override\n   */\n  public toMml() {\n    const tree = super.toMml();\n    const start = this.innerStack.Top();\n    if (start.isKind('start') && !start.Size()) {\n      return tree;\n    }\n    this.innerStack.Push(this.factory.create('stop'));\n    let prefix = this.innerStack.Top().toMml();\n    return this.create('node', 'mrow', [prefix, tree], {});\n  }\n}\n"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAyBA,IAAAA,aAAA,GAAAC,eAAA,CAAAC,OAAA;AACA,IAAAC,cAAA,GAAAD,OAAA;AAEA,IAAAE,UAAA,GAAAH,eAAA,CAAAC,OAAA;AACA,IAAAG,cAAA,GAAAC,YAAA,CAAAJ,OAAA;AAGA,IAAAK,aAAA,aAAAC,MAAA;EAAmCC,SAAA,CAAAF,aAAA,EAAAC,MAAA;EAAnC,SAAAD,cAAA;IAAA,IAAAG,KAAA,GAAAF,MAAA,aAAAA,MAAA,CAAAG,KAAA,OAAAC,SAAA;IAOSF,KAAA,CAAAG,SAAS,GAAc,IAAI;IAM3BH,KAAA,CAAAI,UAAU,GAAc,IAAI;IAE3BJ,KAAA,CAAAK,UAAU,GAAU,IAAIX,UAAA,CAAAY,OAAK,CAACN,KAAI,CAACO,OAAO,EAAE,EAAE,EAAE,IAAI,CAAC;;EAwC/D;EAnCEC,MAAA,CAAAC,cAAA,CAAWZ,aAAA,CAAAa,SAAA,QAAI;SAAf,SAAAC,CAAA;MACE,OAAO,WAAW;IACpB,CAAC;;;;EAMMd,aAAA,CAAAa,SAAA,CAAAE,SAAS,GAAhB,UAAiBC,IAAe;IAC9B,IAAIA,IAAI,CAACC,MAAM,CAAC,KAAK,CAAC,IAAID,IAAI,CAACE,OAAO,EAAE,KAAK,WAAW,EAAE;MACxD,IAAIC,IAAI,GAAG,IAAI,CAACC,KAAK,EAAE;MACvBtB,cAAc,CAACuB,WAAW,CAACF,IAAI,EAAE,OAAO,EAAE,IAAI,CAAC;MAC/C,OAAO,CAAC,CAAC,IAAI,CAACT,OAAO,CAACY,MAAM,CAAC,KAAK,EAAEH,IAAI,CAAC,EAAEH,IAAI,CAAC,EAAE,IAAI,CAAC;;IAEzD,IAAIA,IAAI,CAACC,MAAM,CAAC,MAAM,CAAC,EAAE;MACvB,MAAM,IAAIxB,aAAA,CAAAgB,OAAQ,CAAC,eAAe,EAAE,mBAAmB,EAAE,IAAI,CAACS,OAAO,EAAE,CAAC;;IAE1E,IAAI,CAACV,UAAU,CAACe,IAAI,CAACP,IAAI,CAAC;IAC1B,OAAOpB,cAAA,CAAA4B,QAAQ,CAACC,IAAI;EACtB,CAAC;EAMMzB,aAAA,CAAAa,SAAA,CAAAO,KAAK,GAAZ;IACE,IAAMM,IAAI,GAAGzB,MAAA,CAAAY,SAAA,CAAMO,KAAK,CAAAO,IAAA,MAAE;IAC1B,IAAMC,KAAK,GAAG,IAAI,CAACpB,UAAU,CAACqB,GAAG,EAAE;IACnC,IAAID,KAAK,CAACX,MAAM,CAAC,OAAO,CAAC,IAAI,CAACW,KAAK,CAACE,IAAI,EAAE,EAAE;MAC1C,OAAOJ,IAAI;;IAEb,IAAI,CAAClB,UAAU,CAACe,IAAI,CAAC,IAAI,CAACb,OAAO,CAACY,MAAM,CAAC,MAAM,CAAC,CAAC;IACjD,IAAIS,MAAM,GAAG,IAAI,CAACvB,UAAU,CAACqB,GAAG,EAAE,CAACT,KAAK,EAAE;IAC1C,OAAO,IAAI,CAACE,MAAM,CAAC,MAAM,EAAE,MAAM,EAAE,CAACS,MAAM,EAAEL,IAAI,CAAC,EAAE,EAAE,CAAC;EACxD,CAAC;EACH,OAAA1B,aAAC;AAAD,CAAC,CAvDkCJ,cAAA,CAAA4B,QAAQ;AAA9BQ,OAAA,CAAAhC,aAAA,GAAAA,aAAA"},"metadata":{},"sourceType":"script","externalDependencies":[]}