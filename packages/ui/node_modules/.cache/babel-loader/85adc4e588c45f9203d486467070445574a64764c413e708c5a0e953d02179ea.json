{"ast":null,"code":"\"use strict\";\n\nvar __read = this && this.__read || function (o, n) {\n  var m = typeof Symbol === \"function\" && o[Symbol.iterator];\n  if (!m) return o;\n  var i = m.call(o),\n    r,\n    ar = [],\n    e;\n  try {\n    while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\n  } catch (error) {\n    e = {\n      error: error\n    };\n  } finally {\n    try {\n      if (r && !r.done && (m = i[\"return\"])) m.call(i);\n    } finally {\n      if (e) throw e.error;\n    }\n  }\n  return ar;\n};\nvar __spreadArray = this && this.__spreadArray || function (to, from, pack) {\n  if (pack || arguments.length === 2) for (var i = 0, l = from.length, ar; i < l; i++) {\n    if (ar || !(i in from)) {\n      if (!ar) ar = Array.prototype.slice.call(from, 0, i);\n      ar[i] = from[i];\n    }\n  }\n  return to.concat(ar || Array.prototype.slice.call(from));\n};\nvar __importDefault = this && this.__importDefault || function (mod) {\n  return mod && mod.__esModule ? mod : {\n    \"default\": mod\n  };\n};\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.NodeFactory = void 0;\nvar NodeUtil_js_1 = __importDefault(require(\"./NodeUtil.js\"));\nvar NodeFactory = function () {\n  function NodeFactory() {\n    this.mmlFactory = null;\n    this.factory = {\n      'node': NodeFactory.createNode,\n      'token': NodeFactory.createToken,\n      'text': NodeFactory.createText,\n      'error': NodeFactory.createError\n    };\n  }\n  NodeFactory.createNode = function (factory, kind, children, def, text) {\n    if (children === void 0) {\n      children = [];\n    }\n    if (def === void 0) {\n      def = {};\n    }\n    var node = factory.mmlFactory.create(kind);\n    node.setChildren(children);\n    if (text) {\n      node.appendChild(text);\n    }\n    NodeUtil_js_1.default.setProperties(node, def);\n    return node;\n  };\n  NodeFactory.createToken = function (factory, kind, def, text) {\n    if (def === void 0) {\n      def = {};\n    }\n    if (text === void 0) {\n      text = '';\n    }\n    var textNode = factory.create('text', text);\n    return factory.create('node', kind, [], def, textNode);\n  };\n  NodeFactory.createText = function (factory, text) {\n    if (text == null) {\n      return null;\n    }\n    return factory.mmlFactory.create('text').setText(text);\n  };\n  NodeFactory.createError = function (factory, message) {\n    var text = factory.create('text', message);\n    var mtext = factory.create('node', 'mtext', [], {}, text);\n    var error = factory.create('node', 'merror', [mtext], {\n      'data-mjx-error': message\n    });\n    return error;\n  };\n  NodeFactory.prototype.setMmlFactory = function (mmlFactory) {\n    this.mmlFactory = mmlFactory;\n  };\n  NodeFactory.prototype.set = function (kind, func) {\n    this.factory[kind] = func;\n  };\n  NodeFactory.prototype.setCreators = function (maps) {\n    for (var kind in maps) {\n      this.set(kind, maps[kind]);\n    }\n  };\n  NodeFactory.prototype.create = function (kind) {\n    var rest = [];\n    for (var _i = 1; _i < arguments.length; _i++) {\n      rest[_i - 1] = arguments[_i];\n    }\n    var func = this.factory[kind] || this.factory['node'];\n    var node = func.apply(void 0, __spreadArray([this, rest[0]], __read(rest.slice(1)), false));\n    if (kind === 'node') {\n      this.configuration.addNode(rest[0], node);\n    }\n    return node;\n  };\n  NodeFactory.prototype.get = function (kind) {\n    return this.factory[kind];\n  };\n  return NodeFactory;\n}();\nexports.NodeFactory = NodeFactory;","map":{"version":3,"names":["NodeUtil_js_1","__importDefault","require","NodeFactory","mmlFactory","factory","createNode","createToken","createText","createError","kind","children","def","text","node","create","setChildren","appendChild","default","setProperties","textNode","setText","message","mtext","error","prototype","setMmlFactory","set","func","setCreators","maps","rest","_i","arguments","length","apply","__spreadArray","__read","slice","configuration","addNode","get","exports"],"sources":["/Users/nickprince/Desktop/Flowise Working Commit/node_modules/mathjax-full/ts/input/tex/NodeFactory.ts"],"sourcesContent":["/*************************************************************\n *\n *  Copyright (c) 2009-2022 The MathJax Consortium\n *\n *  Licensed under the Apache License, Version 2.0 (the \"License\");\n *  you may not use this file except in compliance with the License.\n *  You may obtain a copy of the License at\n *\n *      http://www.apache.org/licenses/LICENSE-2.0\n *\n *  Unless required by applicable law or agreed to in writing, software\n *  distributed under the License is distributed on an \"AS IS\" BASIS,\n *  WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n *  See the License for the specific language governing permissions and\n *  limitations under the License.\n */\n\n\n/**\n * @fileoverview Node factory for creating MmlNodes. This allows extension\n *     packages to add node constructors or overwrite existing ones.\n *\n * @author v.sorge@mathjax.org (Volker Sorge)\n */\n\nimport {TextNode, MmlNode} from '../../core/MmlTree/MmlNode.js';\nimport {MmlFactory} from '../../core/MmlTree/MmlFactory.js';\nimport ParseOptions from './ParseOptions.js';\nimport NodeUtil from './NodeUtil.js';\n\n\nexport type NodeFactoryMethod = (factory: NodeFactory, kind: string, ...rest: any[]) => MmlNode;\n\nexport class NodeFactory {\n\n  /**\n   * Parser configuration that can be used to pass information between node methods.\n   * @type {ParseOption}\n   */\n  public configuration: ParseOptions;\n\n\n  /**\n   * The external node factory.\n   * @type {MmlFactory}\n   */\n  protected mmlFactory: MmlFactory = null;\n\n\n  /**\n   * The factory table populated with some default methods.\n   */\n  private factory: {[kind: string]: NodeFactoryMethod} =\n    {'node': NodeFactory.createNode,\n     'token': NodeFactory.createToken,\n     'text': NodeFactory.createText,\n     'error': NodeFactory.createError\n    };\n\n  /**\n   * Default node generation function.\n   * @param {NodeFactory} factory The current node factory.\n   * @param {string} kind The type of node to create.\n   * @param {MmlNode[]} children Its children.\n   * @param {any=} def Its properties.\n   * @param {TextNode=} text An optional text node if this is a token.\n   * @return {MmlNode} The newly created Mml node.\n   */\n  public static createNode(factory: NodeFactory, kind: string,\n                           children: MmlNode[] = [], def: any = {},\n                           text?: TextNode): MmlNode {\n    const node = factory.mmlFactory.create(kind);\n    node.setChildren(children);\n    if (text) {\n      node.appendChild(text);\n    }\n    NodeUtil.setProperties(node, def);\n    return node;\n  }\n\n\n  /**\n   * Default token generation function.\n   * @param {NodeFactory} factory The current node factory.\n   * @param {string} kind The type of node to create.\n   * @param {any} def Its properties.\n   * @param {string} text Text of the token.\n   * @return {MmlNode} The newly created token node.\n   */\n  public static createToken(factory: NodeFactory, kind: string,\n                            def: any = {}, text: string = ''): MmlNode  {\n    const textNode = factory.create('text', text);\n    return factory.create('node', kind, [], def, textNode);\n  }\n\n\n  /**\n   * Default text node generation function.\n   * @param {NodeFactory} factory The current node factory.\n   * @param {string} text The text for the new node.\n   * @return {TextNode} The newly created text node.\n   */\n  public static createText(factory: NodeFactory, text: string): TextNode  {\n    if (text == null) {\n      return null;\n    }\n    return (factory.mmlFactory.create('text') as TextNode).setText(text);\n  }\n\n\n  /**\n   * Default error node generation function.\n   * @param {NodeFactory} factory The current node factory.\n   * @param {string} message The error message.\n   * @return {MmlNode} The newly created error node.\n   */\n  public static createError(factory: NodeFactory, message: string): MmlNode  {\n    let text = factory.create('text', message);\n    let mtext = factory.create('node', 'mtext', [], {}, text);\n    let error = factory.create('node', 'merror', [mtext], {'data-mjx-error': message});\n    return error;\n  }\n\n\n  /**\n   * @param {MmlFactory} mmlFactory   The MmlFactory for the TeX jax to use\n   */\n  public setMmlFactory(mmlFactory: MmlFactory) {\n    this.mmlFactory = mmlFactory;\n  }\n\n  /**\n   * Adds a method to the factory.\n   * @param {string} kind The type of node the method creates.\n   * @param {NodeFactoryMethod} func The node creator.\n   */\n  public set(kind: string, func: NodeFactoryMethod) {\n    this.factory[kind] = func;\n  }\n\n\n  /**\n   * Adds a set of node creators to the factory.\n   * @param {Object.<NodeFactoryMethod>} maps The set of functions.\n   */\n  public setCreators(maps: {[kind: string]: NodeFactoryMethod}) {\n    for (let kind in maps) {\n      this.set(kind, maps[kind]);\n    }\n  }\n\n\n  /**\n   * Creates a node for the internal data structure from the factory.\n   * @param {string} kind The type of node to be created.\n   * @param {any[]} ...rest The arguments for the node.\n   * @return {MmlNode} The created node.\n   */\n  public create(kind: string, ...rest: any[]): MmlNode {\n    const func = this.factory[kind] || this.factory['node'];\n    const node = func(this, rest[0], ...rest.slice(1));\n    if (kind === 'node') {\n      this.configuration.addNode(rest[0], node);\n    }\n    return node;\n  }\n\n\n  /**\n   * @param {string} kind The method for generating a node of given kind.\n   */\n  public get(kind: string) {\n    return this.factory[kind];\n  }\n\n}\n"],"mappings":"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"},"metadata":{},"sourceType":"script","externalDependencies":[]}