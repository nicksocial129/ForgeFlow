{"ast":null,"code":"import{createPortal}from'react-dom';import{useDispatch}from'react-redux';import{useState,useEffect}from'react';import{Dialog,DialogContent}from'@mui/material';import PerfectScrollbar from'react-perfect-scrollbar';import NodeInputHandler from'views/canvas/NodeInputHandler';import{HIDE_CANVAS_DIALOG,SHOW_CANVAS_DIALOG}from'store/actions';import{jsx as _jsx}from\"react/jsx-runtime\";const AdditionalParamsDialog=_ref=>{let{show,dialogProps,onCancel}=_ref;const portalElement=document.getElementById('portal');const dispatch=useDispatch();const[inputParams,setInputParams]=useState([]);const[data,setData]=useState({});useEffect(()=>{if(dialogProps.inputParams)setInputParams(dialogProps.inputParams);if(dialogProps.data)setData(dialogProps.data);return()=>{setInputParams([]);setData({});};},[dialogProps]);useEffect(()=>{if(show)dispatch({type:SHOW_CANVAS_DIALOG});else dispatch({type:HIDE_CANVAS_DIALOG});return()=>dispatch({type:HIDE_CANVAS_DIALOG});},[show,dispatch]);const component=show?/*#__PURE__*/_jsx(Dialog,{onClose:onCancel,open:show,fullWidth:true,maxWidth:\"sm\",\"aria-labelledby\":\"alert-dialog-title\",\"aria-describedby\":\"alert-dialog-description\",children:/*#__PURE__*/_jsx(DialogContent,{children:/*#__PURE__*/_jsx(PerfectScrollbar,{style:{height:'100%',maxHeight:'calc(100vh - 220px)',overflowX:'hidden'},children:inputParams.map((inputParam,index)=>/*#__PURE__*/_jsx(NodeInputHandler,{disabled:dialogProps.disabled,inputParam:inputParam,data:data,isAdditionalParams:true},index))})})}):null;return/*#__PURE__*/createPortal(component,portalElement);};export default AdditionalParamsDialog;","map":{"version":3,"names":["createPortal","useDispatch","useState","useEffect","Dialog","DialogContent","PerfectScrollbar","NodeInputHandler","HIDE_CANVAS_DIALOG","SHOW_CANVAS_DIALOG","jsx","_jsx","AdditionalParamsDialog","_ref","show","dialogProps","onCancel","portalElement","document","getElementById","dispatch","inputParams","setInputParams","data","setData","type","component","onClose","open","fullWidth","maxWidth","children","style","height","maxHeight","overflowX","map","inputParam","index","disabled","isAdditionalParams"],"sources":["/Users/nickprince/Desktop/Flowise Working Commit/packages/ui/src/ui-component/dialog/AdditionalParamsDialog.js"],"sourcesContent":["import { createPortal } from 'react-dom'\nimport { useDispatch } from 'react-redux'\nimport { useState, useEffect } from 'react'\nimport PropTypes from 'prop-types'\nimport { Dialog, DialogContent } from '@mui/material'\nimport PerfectScrollbar from 'react-perfect-scrollbar'\nimport NodeInputHandler from 'views/canvas/NodeInputHandler'\nimport { HIDE_CANVAS_DIALOG, SHOW_CANVAS_DIALOG } from 'store/actions'\n\nconst AdditionalParamsDialog = ({ show, dialogProps, onCancel }) => {\n    const portalElement = document.getElementById('portal')\n    const dispatch = useDispatch()\n\n    const [inputParams, setInputParams] = useState([])\n    const [data, setData] = useState({})\n\n    useEffect(() => {\n        if (dialogProps.inputParams) setInputParams(dialogProps.inputParams)\n        if (dialogProps.data) setData(dialogProps.data)\n\n        return () => {\n            setInputParams([])\n            setData({})\n        }\n    }, [dialogProps])\n\n    useEffect(() => {\n        if (show) dispatch({ type: SHOW_CANVAS_DIALOG })\n        else dispatch({ type: HIDE_CANVAS_DIALOG })\n        return () => dispatch({ type: HIDE_CANVAS_DIALOG })\n    }, [show, dispatch])\n\n    const component = show ? (\n        <Dialog\n            onClose={onCancel}\n            open={show}\n            fullWidth\n            maxWidth='sm'\n            aria-labelledby='alert-dialog-title'\n            aria-describedby='alert-dialog-description'\n        >\n            <DialogContent>\n                <PerfectScrollbar\n                    style={{\n                        height: '100%',\n                        maxHeight: 'calc(100vh - 220px)',\n                        overflowX: 'hidden'\n                    }}\n                >\n                    {inputParams.map((inputParam, index) => (\n                        <NodeInputHandler\n                            disabled={dialogProps.disabled}\n                            key={index}\n                            inputParam={inputParam}\n                            data={data}\n                            isAdditionalParams={true}\n                        />\n                    ))}\n                </PerfectScrollbar>\n            </DialogContent>\n        </Dialog>\n    ) : null\n\n    return createPortal(component, portalElement)\n}\n\nAdditionalParamsDialog.propTypes = {\n    show: PropTypes.bool,\n    dialogProps: PropTypes.object,\n    onCancel: PropTypes.func\n}\n\nexport default AdditionalParamsDialog\n"],"mappings":"AAAA,OAASA,YAAY,KAAQ,WAAW,CACxC,OAASC,WAAW,KAAQ,aAAa,CACzC,OAASC,QAAQ,CAAEC,SAAS,KAAQ,OAAO,CAE3C,OAASC,MAAM,CAAEC,aAAa,KAAQ,eAAe,CACrD,MAAO,CAAAC,gBAAgB,KAAM,yBAAyB,CACtD,MAAO,CAAAC,gBAAgB,KAAM,+BAA+B,CAC5D,OAASC,kBAAkB,CAAEC,kBAAkB,KAAQ,eAAe,QAAAC,GAAA,IAAAC,IAAA,yBAEtE,KAAM,CAAAC,sBAAsB,CAAGC,IAAA,EAAqC,IAApC,CAAEC,IAAI,CAAEC,WAAW,CAAEC,QAAS,CAAC,CAAAH,IAAA,CAC3D,KAAM,CAAAI,aAAa,CAAGC,QAAQ,CAACC,cAAc,CAAC,QAAQ,CAAC,CACvD,KAAM,CAAAC,QAAQ,CAAGnB,WAAW,CAAC,CAAC,CAE9B,KAAM,CAACoB,WAAW,CAAEC,cAAc,CAAC,CAAGpB,QAAQ,CAAC,EAAE,CAAC,CAClD,KAAM,CAACqB,IAAI,CAAEC,OAAO,CAAC,CAAGtB,QAAQ,CAAC,CAAC,CAAC,CAAC,CAEpCC,SAAS,CAAC,IAAM,CACZ,GAAIY,WAAW,CAACM,WAAW,CAAEC,cAAc,CAACP,WAAW,CAACM,WAAW,CAAC,CACpE,GAAIN,WAAW,CAACQ,IAAI,CAAEC,OAAO,CAACT,WAAW,CAACQ,IAAI,CAAC,CAE/C,MAAO,IAAM,CACTD,cAAc,CAAC,EAAE,CAAC,CAClBE,OAAO,CAAC,CAAC,CAAC,CAAC,CACf,CAAC,CACL,CAAC,CAAE,CAACT,WAAW,CAAC,CAAC,CAEjBZ,SAAS,CAAC,IAAM,CACZ,GAAIW,IAAI,CAAEM,QAAQ,CAAC,CAAEK,IAAI,CAAEhB,kBAAmB,CAAC,CAAC,KAC3C,CAAAW,QAAQ,CAAC,CAAEK,IAAI,CAAEjB,kBAAmB,CAAC,CAAC,CAC3C,MAAO,IAAMY,QAAQ,CAAC,CAAEK,IAAI,CAAEjB,kBAAmB,CAAC,CAAC,CACvD,CAAC,CAAE,CAACM,IAAI,CAAEM,QAAQ,CAAC,CAAC,CAEpB,KAAM,CAAAM,SAAS,CAAGZ,IAAI,cAClBH,IAAA,CAACP,MAAM,EACHuB,OAAO,CAAEX,QAAS,CAClBY,IAAI,CAAEd,IAAK,CACXe,SAAS,MACTC,QAAQ,CAAC,IAAI,CACb,kBAAgB,oBAAoB,CACpC,mBAAiB,0BAA0B,CAAAC,QAAA,cAE3CpB,IAAA,CAACN,aAAa,EAAA0B,QAAA,cACVpB,IAAA,CAACL,gBAAgB,EACb0B,KAAK,CAAE,CACHC,MAAM,CAAE,MAAM,CACdC,SAAS,CAAE,qBAAqB,CAChCC,SAAS,CAAE,QACf,CAAE,CAAAJ,QAAA,CAEDV,WAAW,CAACe,GAAG,CAAC,CAACC,UAAU,CAAEC,KAAK,gBAC/B3B,IAAA,CAACJ,gBAAgB,EACbgC,QAAQ,CAAExB,WAAW,CAACwB,QAAS,CAE/BF,UAAU,CAAEA,UAAW,CACvBd,IAAI,CAAEA,IAAK,CACXiB,kBAAkB,CAAE,IAAK,EAHpBF,KAIR,CACJ,CAAC,CACY,CAAC,CACR,CAAC,CACZ,CAAC,CACT,IAAI,CAER,mBAAOtC,YAAY,CAAC0B,SAAS,CAAET,aAAa,CAAC,CACjD,CAAC,CAQD,cAAe,CAAAL,sBAAsB"},"metadata":{},"sourceType":"module","externalDependencies":[]}