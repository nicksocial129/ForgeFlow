{"ast":null,"code":"import{createPortal}from'react-dom';import{useState,useEffect}from'react';import{useSelector,useDispatch}from'react-redux';import{Button,Dialog,DialogActions,DialogContent,Typography}from'@mui/material';import{useTheme}from'@mui/material/styles';import PerfectScrollbar from'react-perfect-scrollbar';import{StyledButton}from'ui-component/button/StyledButton';import{DarkCodeEditor}from'ui-component/editor/DarkCodeEditor';import{LightCodeEditor}from'ui-component/editor/LightCodeEditor';import{HIDE_CANVAS_DIALOG,SHOW_CANVAS_DIALOG}from'store/actions';import'./ExpandTextDialog.css';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";const ExpandTextDialog=_ref=>{let{show,dialogProps,onCancel,onConfirm}=_ref;const portalElement=document.getElementById('portal');const theme=useTheme();const dispatch=useDispatch();const customization=useSelector(state=>state.customization);const languageType='json';const[inputValue,setInputValue]=useState('');const[inputParam,setInputParam]=useState(null);useEffect(()=>{if(dialogProps.value)setInputValue(dialogProps.value);if(dialogProps.inputParam)setInputParam(dialogProps.inputParam);return()=>{setInputValue('');setInputParam(null);};},[dialogProps]);useEffect(()=>{if(show)dispatch({type:SHOW_CANVAS_DIALOG});else dispatch({type:HIDE_CANVAS_DIALOG});return()=>dispatch({type:HIDE_CANVAS_DIALOG});},[show,dispatch]);const component=show?/*#__PURE__*/_jsxs(Dialog,{open:show,fullWidth:true,maxWidth:\"md\",\"aria-labelledby\":\"alert-dialog-title\",\"aria-describedby\":\"alert-dialog-description\",children:[/*#__PURE__*/_jsx(DialogContent,{children:/*#__PURE__*/_jsx(\"div\",{style:{display:'flex',flexDirection:'row'},children:inputParam&&inputParam.type==='string'&&/*#__PURE__*/_jsxs(\"div\",{style:{flex:70},children:[/*#__PURE__*/_jsx(Typography,{sx:{mb:2,ml:1},variant:\"h4\",children:inputParam.label}),/*#__PURE__*/_jsx(PerfectScrollbar,{style:{border:'1px solid',borderColor:theme.palette.grey['500'],borderRadius:'12px',height:'100%',maxHeight:'calc(100vh - 220px)',overflowX:'hidden',backgroundColor:'white'},children:customization.isDarkMode?/*#__PURE__*/_jsx(DarkCodeEditor,{disabled:dialogProps.disabled,value:inputValue,onValueChange:code=>setInputValue(code),placeholder:inputParam.placeholder,type:languageType,style:{fontSize:'0.875rem',minHeight:'calc(100vh - 220px)',width:'100%'}}):/*#__PURE__*/_jsx(LightCodeEditor,{disabled:dialogProps.disabled,value:inputValue,onValueChange:code=>setInputValue(code),placeholder:inputParam.placeholder,type:languageType,style:{fontSize:'0.875rem',minHeight:'calc(100vh - 220px)',width:'100%'}})})]})})}),/*#__PURE__*/_jsxs(DialogActions,{children:[/*#__PURE__*/_jsx(Button,{onClick:onCancel,children:dialogProps.cancelButtonName}),/*#__PURE__*/_jsx(StyledButton,{disabled:dialogProps.disabled,variant:\"contained\",onClick:()=>onConfirm(inputValue,inputParam.name),children:dialogProps.confirmButtonName})]})]}):null;return/*#__PURE__*/createPortal(component,portalElement);};export default ExpandTextDialog;","map":{"version":3,"names":["createPortal","useState","useEffect","useSelector","useDispatch","Button","Dialog","DialogActions","DialogContent","Typography","useTheme","PerfectScrollbar","StyledButton","DarkCodeEditor","LightCodeEditor","HIDE_CANVAS_DIALOG","SHOW_CANVAS_DIALOG","jsx","_jsx","jsxs","_jsxs","ExpandTextDialog","_ref","show","dialogProps","onCancel","onConfirm","portalElement","document","getElementById","theme","dispatch","customization","state","languageType","inputValue","setInputValue","inputParam","setInputParam","value","type","component","open","fullWidth","maxWidth","children","style","display","flexDirection","flex","sx","mb","ml","variant","label","border","borderColor","palette","grey","borderRadius","height","maxHeight","overflowX","backgroundColor","isDarkMode","disabled","onValueChange","code","placeholder","fontSize","minHeight","width","onClick","cancelButtonName","name","confirmButtonName"],"sources":["/Users/nickprince/Desktop/Flowise Working Commit/packages/ui/src/ui-component/dialog/ExpandTextDialog.js"],"sourcesContent":["import { createPortal } from 'react-dom'\nimport { useState, useEffect } from 'react'\nimport { useSelector, useDispatch } from 'react-redux'\nimport PropTypes from 'prop-types'\nimport { Button, Dialog, DialogActions, DialogContent, Typography } from '@mui/material'\nimport { useTheme } from '@mui/material/styles'\nimport PerfectScrollbar from 'react-perfect-scrollbar'\nimport { StyledButton } from 'ui-component/button/StyledButton'\nimport { DarkCodeEditor } from 'ui-component/editor/DarkCodeEditor'\nimport { LightCodeEditor } from 'ui-component/editor/LightCodeEditor'\nimport { HIDE_CANVAS_DIALOG, SHOW_CANVAS_DIALOG } from 'store/actions'\n\nimport './ExpandTextDialog.css'\n\nconst ExpandTextDialog = ({ show, dialogProps, onCancel, onConfirm }) => {\n    const portalElement = document.getElementById('portal')\n\n    const theme = useTheme()\n    const dispatch = useDispatch()\n    const customization = useSelector((state) => state.customization)\n    const languageType = 'json'\n\n    const [inputValue, setInputValue] = useState('')\n    const [inputParam, setInputParam] = useState(null)\n\n    useEffect(() => {\n        if (dialogProps.value) setInputValue(dialogProps.value)\n        if (dialogProps.inputParam) setInputParam(dialogProps.inputParam)\n\n        return () => {\n            setInputValue('')\n            setInputParam(null)\n        }\n    }, [dialogProps])\n\n    useEffect(() => {\n        if (show) dispatch({ type: SHOW_CANVAS_DIALOG })\n        else dispatch({ type: HIDE_CANVAS_DIALOG })\n        return () => dispatch({ type: HIDE_CANVAS_DIALOG })\n    }, [show, dispatch])\n\n    const component = show ? (\n        <Dialog open={show} fullWidth maxWidth='md' aria-labelledby='alert-dialog-title' aria-describedby='alert-dialog-description'>\n            <DialogContent>\n                <div style={{ display: 'flex', flexDirection: 'row' }}>\n                    {inputParam && inputParam.type === 'string' && (\n                        <div style={{ flex: 70 }}>\n                            <Typography sx={{ mb: 2, ml: 1 }} variant='h4'>\n                                {inputParam.label}\n                            </Typography>\n                            <PerfectScrollbar\n                                style={{\n                                    border: '1px solid',\n                                    borderColor: theme.palette.grey['500'],\n                                    borderRadius: '12px',\n                                    height: '100%',\n                                    maxHeight: 'calc(100vh - 220px)',\n                                    overflowX: 'hidden',\n                                    backgroundColor: 'white'\n                                }}\n                            >\n                                {customization.isDarkMode ? (\n                                    <DarkCodeEditor\n                                        disabled={dialogProps.disabled}\n                                        value={inputValue}\n                                        onValueChange={(code) => setInputValue(code)}\n                                        placeholder={inputParam.placeholder}\n                                        type={languageType}\n                                        style={{\n                                            fontSize: '0.875rem',\n                                            minHeight: 'calc(100vh - 220px)',\n                                            width: '100%'\n                                        }}\n                                    />\n                                ) : (\n                                    <LightCodeEditor\n                                        disabled={dialogProps.disabled}\n                                        value={inputValue}\n                                        onValueChange={(code) => setInputValue(code)}\n                                        placeholder={inputParam.placeholder}\n                                        type={languageType}\n                                        style={{\n                                            fontSize: '0.875rem',\n                                            minHeight: 'calc(100vh - 220px)',\n                                            width: '100%'\n                                        }}\n                                    />\n                                )}\n                            </PerfectScrollbar>\n                        </div>\n                    )}\n                </div>\n            </DialogContent>\n            <DialogActions>\n                <Button onClick={onCancel}>{dialogProps.cancelButtonName}</Button>\n                <StyledButton disabled={dialogProps.disabled} variant='contained' onClick={() => onConfirm(inputValue, inputParam.name)}>\n                    {dialogProps.confirmButtonName}\n                </StyledButton>\n            </DialogActions>\n        </Dialog>\n    ) : null\n\n    return createPortal(component, portalElement)\n}\n\nExpandTextDialog.propTypes = {\n    show: PropTypes.bool,\n    dialogProps: PropTypes.object,\n    onCancel: PropTypes.func,\n    onConfirm: PropTypes.func\n}\n\nexport default ExpandTextDialog\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}