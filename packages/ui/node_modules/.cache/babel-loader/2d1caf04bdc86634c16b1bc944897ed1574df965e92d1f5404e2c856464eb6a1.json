{"ast":null,"code":"\"use strict\";\n\nvar __importDefault = this && this.__importDefault || function (mod) {\n  return mod && mod.__esModule ? mod : {\n    \"default\": mod\n  };\n};\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.ColorMethods = void 0;\nvar NodeUtil_js_1 = __importDefault(require(\"../NodeUtil.js\"));\nvar ParseUtil_js_1 = __importDefault(require(\"../ParseUtil.js\"));\nfunction padding(colorPadding) {\n  var pad = \"+\".concat(colorPadding);\n  var unit = colorPadding.replace(/^.*?([a-z]*)$/, '$1');\n  var pad2 = 2 * parseFloat(pad);\n  return {\n    width: \"+\".concat(pad2).concat(unit),\n    height: pad,\n    depth: pad,\n    lspace: colorPadding\n  };\n}\nexports.ColorMethods = {};\nexports.ColorMethods.Color = function (parser, name) {\n  var model = parser.GetBrackets(name, '');\n  var colorDef = parser.GetArgument(name);\n  var colorModel = parser.configuration.packageData.get('color').model;\n  var color = colorModel.getColor(model, colorDef);\n  var style = parser.itemFactory.create('style').setProperties({\n    styles: {\n      mathcolor: color\n    }\n  });\n  parser.stack.env['color'] = color;\n  parser.Push(style);\n};\nexports.ColorMethods.TextColor = function (parser, name) {\n  var model = parser.GetBrackets(name, '');\n  var colorDef = parser.GetArgument(name);\n  var colorModel = parser.configuration.packageData.get('color').model;\n  var color = colorModel.getColor(model, colorDef);\n  var old = parser.stack.env['color'];\n  parser.stack.env['color'] = color;\n  var math = parser.ParseArg(name);\n  if (old) {\n    parser.stack.env['color'] = old;\n  } else {\n    delete parser.stack.env['color'];\n  }\n  var node = parser.create('node', 'mstyle', [math], {\n    mathcolor: color\n  });\n  parser.Push(node);\n};\nexports.ColorMethods.DefineColor = function (parser, name) {\n  var cname = parser.GetArgument(name);\n  var model = parser.GetArgument(name);\n  var def = parser.GetArgument(name);\n  var colorModel = parser.configuration.packageData.get('color').model;\n  colorModel.defineColor(model, cname, def);\n};\nexports.ColorMethods.ColorBox = function (parser, name) {\n  var cname = parser.GetArgument(name);\n  var math = ParseUtil_js_1.default.internalMath(parser, parser.GetArgument(name));\n  var colorModel = parser.configuration.packageData.get('color').model;\n  var node = parser.create('node', 'mpadded', math, {\n    mathbackground: colorModel.getColor('named', cname)\n  });\n  NodeUtil_js_1.default.setProperties(node, padding(parser.options.color.padding));\n  parser.Push(node);\n};\nexports.ColorMethods.FColorBox = function (parser, name) {\n  var fname = parser.GetArgument(name);\n  var cname = parser.GetArgument(name);\n  var math = ParseUtil_js_1.default.internalMath(parser, parser.GetArgument(name));\n  var options = parser.options.color;\n  var colorModel = parser.configuration.packageData.get('color').model;\n  var node = parser.create('node', 'mpadded', math, {\n    mathbackground: colorModel.getColor('named', cname),\n    style: \"border: \".concat(options.borderWidth, \" solid \").concat(colorModel.getColor('named', fname))\n  });\n  NodeUtil_js_1.default.setProperties(node, padding(options.padding));\n  parser.Push(node);\n};","map":{"version":3,"names":["NodeUtil_js_1","__importDefault","require","ParseUtil_js_1","padding","colorPadding","pad","concat","unit","replace","pad2","parseFloat","width","height","depth","lspace","exports","ColorMethods","Color","parser","name","model","GetBrackets","colorDef","GetArgument","colorModel","configuration","packageData","get","color","getColor","style","itemFactory","create","setProperties","styles","mathcolor","stack","env","Push","TextColor","old","math","ParseArg","node","DefineColor","cname","def","defineColor","ColorBox","default","internalMath","mathbackground","options","FColorBox","fname","borderWidth"],"sources":["/Users/nickprince/Desktop/Flowise Working Commit/node_modules/mathjax-full/ts/input/tex/color/ColorMethods.ts"],"sourcesContent":["/*************************************************************\n *\n *  Copyright (c) 2018-2022 Omar Al-Ithawi and The MathJax Consortium\n *\n *  Licensed under the Apache License, Version 2.0 (the \"License\");\n *  you may not use this file except in compliance with the License.\n *  You may obtain a copy of the License at\n *\n *      http://www.apache.org/licenses/LICENSE-2.0\n *\n *  Unless required by applicable law or agreed to in writing, software\n *  distributed under the License is distributed on an \"AS IS\" BASIS,\n *  WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n *  See the License for the specific language governing permissions and\n *  limitations under the License.\n */\n\n/**\n * @fileoverview Parse methods and helper functtions for the color package.\n *\n * @author i@omardo.com (Omar Al-Ithawi)\n */\n\n\nimport NodeUtil from '../NodeUtil.js';\nimport {ParseMethod} from '../Types.js';\nimport {PropertyList} from '../../../core/Tree/Node.js';\nimport ParseUtil from '../ParseUtil.js';\nimport TexParser from '../TexParser.js';\n\nimport {ColorModel} from './ColorUtil.js';\n\n\n/**\n * Build PropertyList from padding value.\n *\n * @param {string} colorPadding: Padding for \\colorbox and \\fcolorbox.\n * @return {PropertyList} The padding properties.\n */\nfunction padding(colorPadding: string): PropertyList {\n  const pad = `+${colorPadding}`;\n  const unit = colorPadding.replace(/^.*?([a-z]*)$/, '$1');\n  const pad2 = 2 * parseFloat(pad);\n  return {\n    width: `+${pad2}${unit}`,\n    height: pad,\n    depth: pad,\n    lspace: colorPadding,\n  };\n}\n\n\nexport const ColorMethods: Record<string, ParseMethod> = {};\n\n\n/**\n * Override \\color macro definition.\n *\n * @param {TexParser} parser The calling parser.\n * @param {string} name The name of the control sequence.\n */\nColorMethods.Color = function (parser: TexParser, name: string) {\n  const model = parser.GetBrackets(name, '');\n  const colorDef = parser.GetArgument(name);\n  const colorModel: ColorModel = parser.configuration.packageData.get('color').model;\n  const color = colorModel.getColor(model, colorDef);\n\n  const style = parser.itemFactory.create('style')\n    .setProperties({styles: { mathcolor: color }});\n  parser.stack.env['color'] = color;\n\n  parser.Push(style);\n};\n\n\n/**\n * Define the \\textcolor macro.\n *\n * @param {TexParser} parser The calling parser.\n * @param {string} name The name of the control sequence.\n */\nColorMethods.TextColor = function (parser: TexParser, name: string) {\n  const model = parser.GetBrackets(name, '');\n  const colorDef = parser.GetArgument(name);\n  const colorModel: ColorModel = parser.configuration.packageData.get('color').model;\n  const color = colorModel.getColor(model, colorDef);\n  const old = parser.stack.env['color'];\n\n  parser.stack.env['color'] = color;\n  const math = parser.ParseArg(name);\n\n  if (old) {\n    parser.stack.env['color'] = old;\n  } else {\n    delete parser.stack.env['color'];\n  }\n\n  const node = parser.create('node', 'mstyle', [math], {mathcolor: color});\n  parser.Push(node);\n};\n\n/**\n * Define the \\definecolor macro.\n *\n * @param {TexParser} parser The calling parser.\n * @param {string} name The name of the control sequence.\n */\nColorMethods.DefineColor = function (parser: TexParser, name: string) {\n  const cname = parser.GetArgument(name);\n  const model = parser.GetArgument(name);\n  const def = parser.GetArgument(name);\n\n  const colorModel: ColorModel = parser.configuration.packageData.get('color').model;\n  colorModel.defineColor(model, cname, def);\n};\n\n/**\n * Produce a text box with a colored background: `\\colorbox`.\n *\n * @param {TexParser} parser The calling parser.\n * @param {string} name The name of the control sequence.\n */\nColorMethods.ColorBox = function (parser: TexParser, name: string) {\n  const cname = parser.GetArgument(name);\n  const math = ParseUtil.internalMath(parser, parser.GetArgument(name));\n  const colorModel: ColorModel = parser.configuration.packageData.get('color').model;\n\n  const node = parser.create('node', 'mpadded', math, {\n    mathbackground: colorModel.getColor('named', cname)\n  });\n\n  NodeUtil.setProperties(node, padding(parser.options.color.padding));\n  parser.Push(node);\n};\n\n/**\n * Produce a framed text box with a colored background: `\\fcolorbox`.\n *\n * @param {TexParser} parser The calling parser.\n * @param {string} name The name of the control sequence.\n */\nColorMethods.FColorBox = function (parser: TexParser, name: string) {\n  const fname = parser.GetArgument(name);\n  const cname = parser.GetArgument(name);\n  const math = ParseUtil.internalMath(parser, parser.GetArgument(name));\n  const options = parser.options.color;\n  const colorModel: ColorModel = parser.configuration.packageData.get('color').model;\n\n  const node = parser.create('node', 'mpadded', math, {\n    mathbackground: colorModel.getColor('named', cname),\n    style: `border: ${options.borderWidth} solid ${colorModel.getColor('named', fname)}`\n  });\n\n  NodeUtil.setProperties(node, padding(options.padding));\n  parser.Push(node);\n};\n"],"mappings":"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"},"metadata":{},"sourceType":"script","externalDependencies":[]}