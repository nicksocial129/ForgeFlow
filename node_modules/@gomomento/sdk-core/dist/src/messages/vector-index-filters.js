"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.VectorFilterListContainsExpression = exports.VectorFilterLessThanOrEqualExpression = exports.VectorFilterLessThanExpression = exports.VectorFilterGreaterThanOrEqualExpression = exports.VectorFilterGreaterThanExpression = exports.VectorFilterEqualsExpression = exports.VectorFilterNotExpression = exports.VectorFilterOrExpression = exports.VectorFilterAndExpression = exports.VectorFilterExpressions = exports.VectorFilterExpression = void 0;
/**
 * Base class for all vector index filter expressions.
 */
class VectorFilterExpression {
    /**
     * Creates an AND expression between this expression and another one.
     * @param other The other expression.
     * @returns The AND expression.
     */
    and(other) {
        return VectorFilterExpressions.and(this, other);
    }
    /**
     * Creates an OR expression between this expression and another one.
     * @param other The other expression.
     * @returns The OR expression.
     */
    or(other) {
        return VectorFilterExpressions.or(this, other);
    }
    /**
     * Negates this expression.
     * @returns The negated expression.
     */
    not() {
        return VectorFilterExpressions.not(this);
    }
}
exports.VectorFilterExpression = VectorFilterExpression;
/**
 * Factory for creating vector filter expressions.
 */
class VectorFilterExpressions {
    // eslint-disable-next-line @typescript-eslint/no-empty-function
    constructor() { }
    /**
     * Creates an {@link VectorFilterAndExpression} between two vector filter expressions.
     * @param firstExpression The first expression.
     * @param secondExpression The second expression.
     * @returns The AND expression.
     */
    static and(firstExpression, secondExpression) {
        return new VectorFilterAndExpression(firstExpression, secondExpression);
    }
    /**
     * Creates an {@link VectorFilterOrExpression} between two vector filter expressions.
     * @param firstExpression The first expression.
     * @param secondExpression The second expression.
     * @returns The OR expression.
     */
    static or(firstExpression, secondExpression) {
        return new VectorFilterOrExpression(firstExpression, secondExpression);
    }
    /**
     * Creates a {@link VectorFilterNotExpression} expression of a vector filter expression.
     * @param expression The expression.
     * @returns The NOT expression.
     */
    static not(expression) {
        return new VectorFilterNotExpression(expression);
    }
    /**
     * Creates a {@link VectorFilterEqualsExpression} between a field and a value.
     * @param field The field.
     * @param value The value.
     * @returns The equals expression.
     */
    static equals(field, value) {
        return new VectorFilterEqualsExpression(field, value);
    }
    /**
     * Creates a {@link VectorFilterGreaterThanExpression} between a field and a value.
     * @param field The field.
     * @param value The value.
     * @returns The greater than expression.
     */
    static greaterThan(field, value) {
        return new VectorFilterGreaterThanExpression(field, value);
    }
    /**
     * Creates a {@link VectorFilterGreaterThanOrEqualExpression} between a field and a value.
     * @param field The field.
     * @param value The value.
     * @returns The greater than or equal expression.
     */
    static greaterThanOrEqual(field, value) {
        return new VectorFilterGreaterThanOrEqualExpression(field, value);
    }
    /**
     * Creates a {@link VectorFilterLessThanExpression} between a field and a value.
     * @param field The field.
     * @param value The value.
     * @returns The less than expression.
     */
    static lessThan(field, value) {
        return new VectorFilterLessThanExpression(field, value);
    }
    /**
     * Creates a {@link VectorFilterLessThanOrEqualExpression} between a field and a value.
     * @param field The field.
     * @param value The value.
     * @returns The less than or equal expression.
     */
    static lessThanOrEqual(field, value) {
        return new VectorFilterLessThanOrEqualExpression(field, value);
    }
    /**
     * Creates a {@link VectorFilterListContainsExpression} between a list-valued field and a value.
     * @param field The field.
     * @param value The value.
     * @returns The contains expression.
     */
    static listContains(field, value) {
        return new VectorFilterListContainsExpression(field, value);
    }
}
exports.VectorFilterExpressions = VectorFilterExpressions;
/**
 * Represents an AND expression between two vector filter expressions.
 */
class VectorFilterAndExpression extends VectorFilterExpression {
    constructor(firstExpression, secondExpression) {
        super();
        this.firstExpression = firstExpression;
        this.secondExpression = secondExpression;
    }
    get FirstExpression() {
        return this.firstExpression;
    }
    get SecondExpression() {
        return this.secondExpression;
    }
    toString() {
        return `(${this.firstExpression.toString()} AND ${this.secondExpression.toString()})`;
    }
}
exports.VectorFilterAndExpression = VectorFilterAndExpression;
/**
 * Represents an OR expression between two vector filter expressions.
 */
class VectorFilterOrExpression extends VectorFilterExpression {
    constructor(firstExpression, secondExpression) {
        super();
        this.firstExpression = firstExpression;
        this.secondExpression = secondExpression;
    }
    get FirstExpression() {
        return this.firstExpression;
    }
    get SecondExpression() {
        return this.secondExpression;
    }
    toString() {
        return `(${this.firstExpression.toString()} OR ${this.secondExpression.toString()})`;
    }
}
exports.VectorFilterOrExpression = VectorFilterOrExpression;
/**
 * Represents a NOT expression of a vector filter expression.
 */
class VectorFilterNotExpression extends VectorFilterExpression {
    constructor(expression) {
        super();
        this.expression = expression;
    }
    get Expression() {
        return this.expression;
    }
    toString() {
        return `NOT ${this.expression.toString()}`;
    }
}
exports.VectorFilterNotExpression = VectorFilterNotExpression;
/**
 * Represents an equals expression between a field and a value.
 */
class VectorFilterEqualsExpression extends VectorFilterExpression {
    constructor(field, value) {
        super();
        this.field = field;
        this.value = value;
    }
    get Field() {
        return this.field;
    }
    get Value() {
        return this.value;
    }
    toString() {
        return `${this.field}=${this.value.toString()}`;
    }
}
exports.VectorFilterEqualsExpression = VectorFilterEqualsExpression;
/**
 * Represents a greater than expression between a field and a value.
 */
class VectorFilterGreaterThanExpression extends VectorFilterExpression {
    constructor(field, value) {
        super();
        this.field = field;
        this.value = value;
    }
    get Field() {
        return this.field;
    }
    get Value() {
        return this.value;
    }
    toString() {
        return `${this.field} > ${this.value.toString()}`;
    }
}
exports.VectorFilterGreaterThanExpression = VectorFilterGreaterThanExpression;
/**
 * Represents a greater than or equal expression between a field and a value.
 */
class VectorFilterGreaterThanOrEqualExpression extends VectorFilterExpression {
    constructor(field, value) {
        super();
        this.field = field;
        this.value = value;
    }
    get Field() {
        return this.field;
    }
    get Value() {
        return this.value;
    }
    toString() {
        return `${this.field} >= ${this.value.toString()}`;
    }
}
exports.VectorFilterGreaterThanOrEqualExpression = VectorFilterGreaterThanOrEqualExpression;
/**
 * Represents a less than expression between a field and a value.
 */
class VectorFilterLessThanExpression extends VectorFilterExpression {
    constructor(field, value) {
        super();
        this.field = field;
        this.value = value;
    }
    get Field() {
        return this.field;
    }
    get Value() {
        return this.value;
    }
    toString() {
        return `${this.field} < ${this.value.toString()}`;
    }
}
exports.VectorFilterLessThanExpression = VectorFilterLessThanExpression;
/**
 * Represents a less than or equal expression between a field and a value.
 */
class VectorFilterLessThanOrEqualExpression extends VectorFilterExpression {
    constructor(field, value) {
        super();
        this.field = field;
        this.value = value;
    }
    get Field() {
        return this.field;
    }
    get Value() {
        return this.value;
    }
    toString() {
        return `${this.field} <= ${this.value.toString()}`;
    }
}
exports.VectorFilterLessThanOrEqualExpression = VectorFilterLessThanOrEqualExpression;
/**
 * Represents a contains expression between a list-valued field and a value.
 */
class VectorFilterListContainsExpression extends VectorFilterExpression {
    constructor(field, value) {
        super();
        this.field = field;
        this.value = value;
    }
    get Field() {
        return this.field;
    }
    get Value() {
        return this.value;
    }
    toString() {
        return `${this.field} contains ${this.value.toString()}`;
    }
}
exports.VectorFilterListContainsExpression = VectorFilterListContainsExpression;
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoidmVjdG9yLWluZGV4LWZpbHRlcnMuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyIuLi8uLi8uLi9zcmMvbWVzc2FnZXMvdmVjdG9yLWluZGV4LWZpbHRlcnMudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7O0FBQUE7O0dBRUc7QUFDSCxNQUFzQixzQkFBc0I7SUFHMUM7Ozs7T0FJRztJQUNJLEdBQUcsQ0FBQyxLQUE2QjtRQUN0QyxPQUFPLHVCQUF1QixDQUFDLEdBQUcsQ0FBQyxJQUFJLEVBQUUsS0FBSyxDQUFDLENBQUM7SUFDbEQsQ0FBQztJQUVEOzs7O09BSUc7SUFDSSxFQUFFLENBQUMsS0FBNkI7UUFDckMsT0FBTyx1QkFBdUIsQ0FBQyxFQUFFLENBQUMsSUFBSSxFQUFFLEtBQUssQ0FBQyxDQUFDO0lBQ2pELENBQUM7SUFFRDs7O09BR0c7SUFDSSxHQUFHO1FBQ1IsT0FBTyx1QkFBdUIsQ0FBQyxHQUFHLENBQUMsSUFBSSxDQUFDLENBQUM7SUFDM0MsQ0FBQztDQUNGO0FBNUJELHdEQTRCQztBQUVEOztHQUVHO0FBQ0gsTUFBYSx1QkFBdUI7SUFDbEMsZ0VBQWdFO0lBQ2hFLGdCQUF1QixDQUFDO0lBRXhCOzs7OztPQUtHO0lBQ0ksTUFBTSxDQUFDLEdBQUcsQ0FDZixlQUF1QyxFQUN2QyxnQkFBd0M7UUFFeEMsT0FBTyxJQUFJLHlCQUF5QixDQUFDLGVBQWUsRUFBRSxnQkFBZ0IsQ0FBQyxDQUFDO0lBQzFFLENBQUM7SUFFRDs7Ozs7T0FLRztJQUNJLE1BQU0sQ0FBQyxFQUFFLENBQ2QsZUFBdUMsRUFDdkMsZ0JBQXdDO1FBRXhDLE9BQU8sSUFBSSx3QkFBd0IsQ0FBQyxlQUFlLEVBQUUsZ0JBQWdCLENBQUMsQ0FBQztJQUN6RSxDQUFDO0lBRUQ7Ozs7T0FJRztJQUNJLE1BQU0sQ0FBQyxHQUFHLENBQ2YsVUFBa0M7UUFFbEMsT0FBTyxJQUFJLHlCQUF5QixDQUFDLFVBQVUsQ0FBQyxDQUFDO0lBQ25ELENBQUM7SUFFRDs7Ozs7T0FL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QztJQUVELElBQVcsS0FBSztRQUNkLE9BQU8sSUFBSSxDQUFDLEtBQUssQ0FBQztJQUNwQixDQUFDO0lBRUQsSUFBVyxLQUFLO1FBQ2QsT0FBTyxJQUFJLENBQUMsS0FBSyxDQUFDO0lBQ3BCLENBQUM7SUFFZSxRQUFRO1FBQ3RCLE9BQU8sR0FBRyxJQUFJLENBQUMsS0FBSyxPQUFPLElBQUksQ0FBQyxLQUFLLENBQUMsUUFBUSxFQUFFLEVBQUUsQ0FBQztJQUNyRCxDQUFDO0NBQ0Y7QUE3QkQsc0ZBNkJDO0FBRUQ7O0dBRUc7QUFDSCxNQUFhLGtDQUFtQyxTQUFRLHNCQUFzQjtJQVk1RSxZQUFZLEtBQWEsRUFBRSxLQUFhO1FBQ3RDLEtBQUssRUFBRSxDQUFDO1FBQ1IsSUFBSSxDQUFDLEtBQUssR0FBRyxLQUFLLENBQUM7UUFDbkIsSUFBSSxDQUFDLEtBQUssR0FBRyxLQUFLLENBQUM7SUFDckIsQ0FBQztJQUVELElBQVcsS0FBSztRQUNkLE9BQU8sSUFBSSxDQUFDLEtBQUssQ0FBQztJQUNwQixDQUFDO0lBRUQsSUFBVyxLQUFLO1FBQ2QsT0FBTyxJQUFJLENBQUMsS0FBSyxDQUFDO0lBQ3BCLENBQUM7SUFFZSxRQUFRO1FBQ3RCLE9BQU8sR0FBRyxJQUFJLENBQUMsS0FBSyxhQUFhLElBQUksQ0FBQyxLQUFLLENBQUMsUUFBUSxFQUFFLEVBQUUsQ0FBQztJQUMzRCxDQUFDO0NBQ0Y7QUE3QkQsZ0ZBNkJDIiwic291cmNlc0NvbnRlbnQiOlsiLyoqXG4gKiBCYXNlIGNsYXNzIGZvciBhbGwgdmVjdG9yIGluZGV4IGZpbHRlciBleHByZXNzaW9ucy5cbiAqL1xuZXhwb3J0IGFic3RyYWN0IGNsYXNzIFZlY3RvckZpbHRlckV4cHJlc3Npb24ge1xuICBwdWJsaWMgYWJzdHJhY3QgdG9TdHJpbmcoKTogc3RyaW5nO1xuXG4gIC8qKlxuICAgKiBDcmVhdGVzIGFuIEFORCBleHByZXNzaW9uIGJldHdlZW4gdGhpcyBleHByZXNzaW9uIGFuZCBhbm90aGVyIG9uZS5cbiAgICogQHBhcmFtIG90aGVyIFRoZSBvdGhlciBleHByZXNzaW9uLlxuICAgKiBAcmV0dXJucyBUaGUgQU5EIGV4cHJlc3Npb24uXG4gICAqL1xuICBwdWJsaWMgYW5kKG90aGVyOiBWZWN0b3JGaWx0ZXJFeHByZXNzaW9uKTogVmVjdG9yRmlsdGVyQW5kRXhwcmVzc2lvbiB7XG4gICAgcmV0dXJuIFZlY3RvckZpbHRlckV4cHJlc3Npb25zLmFuZCh0aGlzLCBvdGhlcik7XG4gIH1cblxuICAvKipcbiAgICogQ3JlYXRlcyBhbiBPUiBleHByZXNzaW9uIGJldHdlZW4gdGhpcyBleHByZXNzaW9uIGFuZCBhbm90aGVyIG9uZS5cbiAgICogQHBhcmFtIG90aGVyIFRoZSBvdGhlciBleHByZXNzaW9uLlxuICAgKiBAcmV0dXJucyBUaGUgT1IgZXhwcmVzc2lvbi5cbiAgICovXG4gIHB1YmxpYyBvcihvdGhlcjogVmVjdG9yRmlsdGVyRXhwcmVzc2lvbik6IFZlY3RvckZpbHRlck9yRXhwcmVzc2lvbiB7XG4gICAgcmV0dXJuIFZlY3RvckZpbHRlckV4cHJlc3Npb25zLm9yKHRoaXMsIG90aGVyKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBOZWdhdGVzIHRoaXMgZXhwcmVzc2lvbi5cbiAgICogQHJldHVybnMgVGhlIG5lZ2F0ZWQgZXhwcmVzc2lvbi5cbiAgICovXG4gIHB1YmxpYyBub3QoKTogVmVjdG9yRmlsdGVyTm90RXhwcmVzc2lvbiB7XG4gICAgcmV0dXJuIFZlY3RvckZpbHRlckV4cHJlc3Npb25zLm5vdCh0aGlzKTtcbiAgfVxufVxuXG4vKipcbiAqIEZhY3RvcnkgZm9yIGNyZWF0aW5nIHZlY3RvciBmaWx0ZXIgZXhwcmVzc2lvbnMuXG4gKi9cbmV4cG9ydCBjbGFzcyBWZWN0b3JGaWx0ZXJFeHByZXNzaW9ucyB7XG4gIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBAdHlwZXNjcmlwdC1lc2xpbnQvbm8tZW1wdHktZnVuY3Rpb25cbiAgcHJpdmF0ZSBjb25zdHJ1Y3RvcigpIHt9XG5cbiAgLyoqXG4gICAqIENyZWF0ZXMgYW4ge0BsaW5rIFZlY3RvckZpbHRlckFuZEV4cHJlc3Npb259IGJldHdlZW4gdHdvIHZlY3RvciBmaWx0ZXIgZXhwcmVzc2lvbnMuXG4gICAqIEBwYXJhbSBmaXJzdEV4cHJlc3Npb24gVGhlIGZpcnN0IGV4cHJlc3Npb24uXG4gICAqIEBwYXJhbSBzZWNvbmRFeHByZXNzaW9uIFRoZSBzZWNvbmQgZXhwcmVzc2lvbi5cbiAgICogQHJldHVybnMgVGhlIEFORCBleHByZXNzaW9uLlxuICAgKi9cbiAgcHVibGljIHN0YXRpYyBhbmQoXG4gICAgZmlyc3RFeHByZXNzaW9uOiBWZWN0b3JGaWx0ZXJFeHByZXNzaW9uLFxuICAgIHNlY29uZEV4cHJlc3Npb246IFZlY3RvckZpbHRlckV4cHJlc3Npb25cbiAgKTogVmVjdG9yRmlsdGVyQW5kRXhwcmVzc2lvbiB7XG4gICAgcmV0dXJuIG5ldyBWZWN0b3JGaWx0ZXJBbmRFeHByZXNzaW9uKGZpcnN0RXhwcmVzc2lvbiwgc2Vjb25kRXhwcmVzc2lvbik7XG4gIH1cblxuICAvKipcbiAgICogQ3JlYXRlcyBhbiB7QGxpbmsgVmVjdG9yRmlsdGVyT3JFeHByZXNzaW9ufSBiZXR3ZWVuIHR3byB2ZWN0b3IgZmlsdGVyIGV4cHJlc3Npb25zLlxuICAgKiBAcGFyYW0gZmlyc3RFeHByZXNzaW9uIFRoZSBmaXJzdCBleHByZXNzaW9uLlxuICAgKiBAcGFyYW0gc2Vjb25kRXhwcmVzc2lvbiBUaGUgc2Vjb25kIGV4cHJlc3Npb24uXG4gICAqIEByZXR1cm5zIFRoZSBPUiBleHByZXNzaW9uLlxuICAgKi9cbiAgcHVibGljIHN0YXRpYyBvcihcbiAgICBmaXJzdEV4cHJlc3Npb246IFZlY3RvckZpbHRlckV4cHJlc3Npb24sXG4gICAgc2Vjb25kRXhwcmVzc2lvbjogVmVjdG9yRmlsdGVyRXhwcmVzc2lvblxuICApOiBWZWN0b3JGaWx0ZXJPckV4cHJlc3Npb24ge1xuICAgIHJldHVybiBuZXcgVmVjdG9yRmlsdGVyT3JFeHByZXNzaW9uKGZpcnN0RXhwcmVzc2lvbiwgc2Vjb25kRXhwcmVzc2lvbik7XG4gIH1cblxuICAvKipcbiAgICogQ3JlYXRlcyBhIHtAbGluayBWZWN0b3JGaWx0ZXJOb3RFeHByZXNzaW9ufSBleHByZXNzaW9uIG9mIGEgdmVjdG9yIGZpbHRlciBleHByZXNzaW9uLlxuICAgKiBAcGFyYW0gZXhwcmVzc2lvbiBUaGUgZXhwcmVzc2lvbi5cbiAgICogQHJldHVybnMgVGhlIE5PVCBleHByZXNzaW9uLlxuICAgKi9cbiAgcHVibGljIHN0YXRpYyBub3QoXG4gICAgZXhwcmVzc2lvbjogVmVjdG9yRmlsdGVyRXhwcmVzc2lvblxuICApOiBWZWN0b3JGaWx0ZXJOb3RFeHByZXNzaW9uIHtcbiAgICByZXR1cm4gbmV3IFZlY3RvckZpbHRlck5vdEV4cHJlc3Npb24oZXhwcmVzc2lvbik7XG4gIH1cblxuICAvKipcbiAgICogQ3JlYXRlcyBhIHtAbGluayBWZWN0b3JGaWx0ZXJFcXVhbHNFeHByZXNzaW9ufSBiZXR3ZWVuIGEgZmllbGQgYW5kIGEgdmFsdWUuXG4gICAqIEBwYXJhbSBmaWVsZCBUaGUgZmllbGQuXG4gICAqIEBwYXJhbSB2YWx1ZSBUaGUgdmFsdWUuXG4gICAqIEByZXR1cm5zIFRoZSBlcXVhbHMgZXhwcmVzc2lvbi5cbiAgICovXG4gIHB1YmxpYyBzdGF0aWMgZXF1YWxzKFxuICAgIGZpZWxkOiBzdHJpbmcsXG4gICAgdmFsdWU6IHN0cmluZyB8IG51bWJlciB8IGJvb2xlYW5cbiAgKTogVmVjdG9yRmlsdGVyRXF1YWxzRXhwcmVzc2lvbiB7XG4gICAgcmV0dXJuIG5ldyBWZWN0b3JGaWx0ZXJFcXVhbHNFeHByZXNzaW9uKGZpZWxkLCB2YWx1ZSk7XG4gIH1cblxuICAvKipcbiAgICogQ3JlYXRlcyBhIHtAbGluayBWZWN0b3JGaWx0ZXJHcmVhdGVyVGhhbkV4cHJlc3Npb259IGJldHdlZW4gYSBmaWVsZCBhbmQgYSB2YWx1ZS5cbiAgICogQHBhcmFtIGZpZWxkIFRoZSBmaWVsZC5cbiAgICogQHBhcmFtIHZhbHVlIFRoZSB2YWx1ZS5cbiAgICogQHJldHVybnMgVGhlIGdyZWF0ZXIgdGhhbiBleHByZXNzaW9uLlxuICAgKi9cbiAgcHVibGljIHN0YXRpYyBncmVhdGVyVGhhbihcbiAgICBmaWVsZDogc3RyaW5nLFxuICAgIHZhbHVlOiBudW1iZXJcbiAgKTogVmVjdG9yRmlsdGVyR3JlYXRlclRoYW5FeHByZXNzaW9uIHtcbiAgICByZXR1cm4gbmV3IFZlY3RvckZpbHRlckdyZWF0ZXJUaGFuRXhwcmVzc2lvbihmaWVsZCwgdmFsdWUpO1xuICB9XG5cbiAgLyoqXG4gICAqIENyZWF0ZXMgYSB7QGxpbmsgVmVjdG9yRmlsdGVyR3JlYXRlclRoYW5PckVxdWFsRXhwcmVzc2lvbn0gYmV0d2VlbiBhIGZpZWxkIGFuZCBhIHZhbHVlLlxuICAgKiBAcGFyYW0gZmllbGQgVGhlIGZpZWxkLlxuICAgKiBAcGFyYW0gdmFsdWUgVGhlIHZhbHVlLlxuICAgKiBAcmV0dXJucyBUaGUgZ3JlYXRlciB0aGFuIG9yIGVxdWFsIGV4cHJlc3Npb24uXG4gICAqL1xuICBwdWJsaWMgc3RhdGljIGdyZWF0ZXJUaGFuT3JFcXVhbChcbiAgICBmaWVsZDogc3RyaW5nLFxuICAgIHZhbHVlOiBudW1iZXJcbiAgKTogVmVjdG9yRmlsdGVyR3JlYXRlclRoYW5PckVxdWFsRXhwcmVzc2lvbiB7XG4gICAgcmV0dXJuIG5ldyBWZWN0b3JGaWx0ZXJHcmVhdGVyVGhhbk9yRXF1YWxFeHByZXNzaW9uKGZpZWxkLCB2YWx1ZSk7XG4gIH1cblxuICAvKipcbiAgICogQ3JlYXRlcyBhIHtAbGluayBWZWN0b3JGaWx0ZXJMZXNzVGhhbkV4cHJlc3Npb259IGJldHdlZW4gYSBmaWVsZCBhbmQgYSB2YWx1ZS5cbiAgICogQHBhcmFtIGZpZWxkIFRoZSBmaWVsZC5cbiAgICogQHBhcmFtIHZhbHVlIFRoZSB2YWx1ZS5cbiAgICogQHJldHVybnMgVGhlIGxlc3MgdGhhbiBleHByZXNzaW9uLlxuICAgKi9cbiAgcHVibGljIHN0YXRpYyBsZXNzVGhhbihcbiAgICBmaWVsZDogc3RyaW5nLFxuICAgIHZhbHVlOiBudW1iZXJcbiAgKTogVmVjdG9yRmlsdGVyTGVzc1RoYW5FeHByZXNzaW9uIHtcbiAgICByZXR1cm4gbmV3IFZlY3RvckZpbHRlckxlc3NUaGFuRXhwcmVzc2lvbihmaWVsZCwgdmFsdWUpO1xuICB9XG5cbiAgLyoqXG4gICAqIENyZWF0ZXMgYSB7QGxpbmsgVmVjdG9yRmlsdGVyTGVzc1RoYW5PckVxdWFsRXhwcmVzc2lvbn0gYmV0d2VlbiBhIGZpZWxkIGFuZCBhIHZhbHVlLlxuICAgKiBAcGFyYW0gZmllbGQgVGhlIGZpZWxkLlxuICAgKiBAcGFyYW0gdmFsdWUgVGhlIHZhbHVlLlxuICAgKiBAcmV0dXJucyBUaGUgbGVzcyB0aGFuIG9yIGVxdWFsIGV4cHJlc3Npb24uXG4gICAqL1xuICBwdWJsaWMgc3RhdGljIGxlc3NUaGFuT3JFcXVhbChcbiAgICBmaWVsZDogc3RyaW5nLFxuICAgIHZhbHVlOiBudW1iZXJcbiAgKTogVmVjdG9yRmlsdGVyTGVzc1RoYW5PckVxdWFsRXhwcmVzc2lvbiB7XG4gICAgcmV0dXJuIG5ldyBWZWN0b3JGaWx0ZXJMZXNzVGhhbk9yRXF1YWxFeHByZXNzaW9uKGZpZWxkLCB2YWx1ZSk7XG4gIH1cblxuICAvKipcbiAgICogQ3JlYXRlcyBhIHtAbGluayBWZWN0b3JGaWx0ZXJMaXN0Q29udGFpbnNFeHByZXNzaW9ufSBiZXR3ZWVuIGEgbGlzdC12YWx1ZWQgZmllbGQgYW5kIGEgdmFsdWUuXG4gICAqIEBwYXJhbSBmaWVsZCBUaGUgZmllbGQuXG4gICAqIEBwYXJhbSB2YWx1ZSBUaGUgdmFsdWUuXG4gICAqIEByZXR1cm5zIFRoZSBjb250YWlucyBleHByZXNzaW9uLlxuICAgKi9cbiAgcHVibGljIHN0YXRpYyBsaXN0Q29udGFpbnMoXG4gICAgZmllbGQ6IHN0cmluZyxcbiAgICB2YWx1ZTogc3RyaW5nXG4gICk6IFZlY3RvckZpbHRlckxpc3RDb250YWluc0V4cHJlc3Npb24ge1xuICAgIHJldHVybiBuZXcgVmVjdG9yRmlsdGVyTGlzdENvbnRhaW5zRXhwcmVzc2lvbihmaWVsZCwgdmFsdWUpO1xuICB9XG59XG5cbi8qKlxuICogUmVwcmVzZW50cyBhbiBBTkQgZXhwcmVzc2lvbiBiZXR3ZWVuIHR3byB2ZWN0b3IgZmlsdGVyIGV4cHJlc3Npb25zLlxuICovXG5leHBvcnQgY2xhc3MgVmVjdG9yRmlsdGVyQW5kRXhwcmVzc2lvbiBleHRlbmRzIFZlY3RvckZpbHRlckV4cHJlc3Npb24ge1xuICAvKipcbiAgICogVGhlIGZpcnN0IGV4cHJlc3Npb24gdG8gQU5ELlxuICAgKiBAcHJpdmF0ZVxuICAgKi9cbiAgcHJpdmF0ZSByZWFkb25seSBmaXJzdEV4cHJlc3Npb246IFZlY3RvckZpbHRlckV4cHJlc3Npb247XG4gIC8qKlxuICAgKiBUaGUgc2Vjb25kIGV4cHJlc3Npb24gdG8gQU5ELlxuICAgKiBAcHJpdmF0ZVxuICAgKi9cbiAgcHJpdmF0ZSByZWFkb25seSBzZWNvbmRFeHByZXNzaW9uOiBWZWN0b3JGaWx0ZXJFeHByZXNzaW9uO1xuXG4gIGNvbnN0cnVjdG9yKFxuICAgIGZpcnN0RXhwcmVzc2lvbjogVmVjdG9yRmlsdGVyRXhwcmVzc2lvbixcbiAgICBzZWNvbmRFeHByZXNzaW9uOiBWZWN0b3JGaWx0ZXJFeHByZXNzaW9uXG4gICkge1xuICAgIHN1cGVyKCk7XG4gICAgdGhpcy5maXJzdEV4cHJlc3Npb24gPSBmaXJzdEV4cHJlc3Npb247XG4gICAgdGhpcy5zZWNvbmRFeHByZXNzaW9uID0gc2Vjb25kRXhwcmVzc2lvbjtcbiAgfVxuXG4gIHB1YmxpYyBnZXQgRmlyc3RFeHByZXNzaW9uKCk6IFZlY3RvckZpbHRlckV4cHJlc3Npb24ge1xuICAgIHJldHVybiB0aGlzLmZpcnN0RXhwcmVzc2lvbjtcbiAgfVxuXG4gIHB1YmxpYyBnZXQgU2Vjb25kRXhwcmVzc2lvbigpOiBWZWN0b3JGaWx0ZXJFeHByZXNzaW9uIHtcbiAgICByZXR1cm4gdGhpcy5zZWNvbmRFeHByZXNzaW9uO1xuICB9XG5cbiAgcHVibGljIG92ZXJyaWRlIHRvU3RyaW5nKCk6IHN0cmluZyB7XG4gICAgcmV0dXJuIGAoJHt0aGlzLmZpcnN0RXhwcmVzc2lvbi50b1N0cmluZygpfSBBTkQgJHt0aGlzLnNlY29uZEV4cHJlc3Npb24udG9TdHJpbmcoKX0pYDtcbiAgfVxufVxuXG4vKipcbiAqIFJlcHJlc2VudHMgYW4gT1IgZXhwcmVzc2lvbiBiZXR3ZWVuIHR3byB2ZWN0b3IgZmlsdGVyIGV4cHJlc3Npb25zLlxuICovXG5leHBvcnQgY2xhc3MgVmVjdG9yRmlsdGVyT3JFeHByZXNzaW9uIGV4dGVuZHMgVmVjdG9yRmlsdGVyRXhwcmVzc2lvbiB7XG4gIC8qKlxuICAgKiBUaGUgZmlyc3QgZXhwcmVzc2lvbiB0byBPUi5cbiAgICogQHByaXZhdGVcbiAgICovXG4gIHByaXZhdGUgcmVhZG9ubHkgZmlyc3RFeHByZXNzaW9uOiBWZWN0b3JGaWx0ZXJFeHByZXNzaW9uO1xuICAvKipcbiAgICogVGhlIHNlY29uZCBleHByZXNzaW9uIHRvIE9SLlxuICAgKiBAcHJpdmF0ZVxuICAgKi9cbiAgcHJpdmF0ZSByZWFkb25seSBzZWNvbmRFeHByZXNzaW9uOiBWZWN0b3JGaWx0ZXJFeHByZXNzaW9uO1xuXG4gIGNvbnN0cnVjdG9yKFxuICAgIGZpcnN0RXhwcmVzc2lvbjogVmVjdG9yRmlsdGVyRXhwcmVzc2lvbixcbiAgICBzZWNvbmRFeHByZXNzaW9uOiBWZWN0b3JGaWx0ZXJFeHByZXNzaW9uXG4gICkge1xuICAgIHN1cGVyKCk7XG4gICAgdGhpcy5maXJzdEV4cHJlc3Npb24gPSBmaXJzdEV4cHJlc3Npb247XG4gICAgdGhpcy5zZWNvbmRFeHByZXNzaW9uID0gc2Vjb25kRXhwcmVzc2lvbjtcbiAgfVxuXG4gIHB1YmxpYyBnZXQgRmlyc3RFeHByZXNzaW9uKCk6IFZlY3RvckZpbHRlckV4cHJlc3Npb24ge1xuICAgIHJldHVybiB0aGlzLmZpcnN0RXhwcmVzc2lvbjtcbiAgfVxuXG4gIHB1YmxpYyBnZXQgU2Vjb25kRXhwcmVzc2lvbigpOiBWZWN0b3JGaWx0ZXJFeHByZXNzaW9uIHtcbiAgICByZXR1cm4gdGhpcy5zZWNvbmRFeHByZXNzaW9uO1xuICB9XG5cbiAgcHVibGljIG92ZXJyaWRlIHRvU3RyaW5nKCk6IHN0cmluZyB7XG4gICAgcmV0dXJuIGAoJHt0aGlzLmZpcnN0RXhwcmVzc2lvbi50b1N0cmluZygpfSBPUiAke3RoaXMuc2Vjb25kRXhwcmVzc2lvbi50b1N0cmluZygpfSlgO1xuICB9XG59XG5cbi8qKlxuICogUmVwcmVzZW50cyBhIE5PVCBleHByZXNzaW9uIG9mIGEgdmVjdG9yIGZpbHRlciBleHByZXNzaW9uLlxuICovXG5leHBvcnQgY2xhc3MgVmVjdG9yRmlsdGVyTm90RXhwcmVzc2lvbiBleHRlbmRzIFZlY3RvckZpbHRlckV4cHJlc3Npb24ge1xuICAvKipcbiAgICogVGhlIGV4cHJlc3Npb24gdG8gbmVnYXRlLlxuICAgKiBAcHJpdmF0ZVxuICAgKi9cbiAgcHJpdmF0ZSByZWFkb25seSBleHByZXNzaW9uOiBWZWN0b3JGaWx0ZXJFeHByZXNzaW9uO1xuXG4gIGNvbnN0cnVjdG9yKGV4cHJlc3Npb246IFZlY3RvckZpbHRlckV4cHJlc3Npb24pIHtcbiAgICBzdXBlcigpO1xuICAgIHRoaXMuZXhwcmVzc2lvbiA9IGV4cHJlc3Npb247XG4gIH1cblxuICBwdWJsaWMgZ2V0IEV4cHJlc3Npb24oKTogVmVjdG9yRmlsdGVyRXhwcmVzc2lvbiB7XG4gICAgcmV0dXJuIHRoaXMuZXhwcmVzc2lvbjtcbiAgfVxuXG4gIHB1YmxpYyBvdmVycmlkZSB0b1N0cmluZygpOiBzdHJpbmcge1xuICAgIHJldHVybiBgTk9UICR7dGhpcy5leHByZXNzaW9uLnRvU3RyaW5nKCl9YDtcbiAgfVxufVxuXG4vKipcbiAqIFJlcHJlc2VudHMgYW4gZXF1YWxzIGV4cHJlc3Npb24gYmV0d2VlbiBhIGZpZWxkIGFuZCBhIHZhbHVlLlxuICovXG5leHBvcnQgY2xhc3MgVmVjdG9yRmlsdGVyRXF1YWxzRXhwcmVzc2lvbiBleHRlbmRzIFZlY3RvckZpbHRlckV4cHJlc3Npb24ge1xuICAvKipcbiAgICogVGhlIGZpZWxkIHRvIGNvbXBhcmUuXG4gICAqIEBwcml2YXRlXG4gICAqL1xuICBwcml2YXRlIHJlYWRvbmx5IGZpZWxkOiBzdHJpbmc7XG4gIC8qKlxuICAgKiBUaGUgdmFsdWUgdG8gdGVzdCBmb3IgZXF1YWxpdHkuXG4gICAqIEBwcml2YXRlXG4gICAqL1xuICBwcml2YXRlIHJlYWRvbmx5IHZhbHVlOiBzdHJpbmcgfCBudW1iZXIgfCBib29sZWFuO1xuXG4gIGNvbnN0cnVjdG9yKGZpZWxkOiBzdHJpbmcsIHZhbHVlOiBzdHJpbmcgfCBudW1iZXIgfCBib29sZWFuKSB7XG4gICAgc3VwZXIoKTtcbiAgICB0aGlzLmZpZWxkID0gZmllbGQ7XG4gICAgdGhpcy52YWx1ZSA9IHZhbHVlO1xuICB9XG5cbiAgcHVibGljIGdldCBGaWVsZCgpOiBzdHJpbmcge1xuICAgIHJldHVybiB0aGlzLmZpZWxkO1xuICB9XG5cbiAgcHVibGljIGdldCBWYWx1ZSgpOiBzdHJpbmcgfCBudW1iZXIgfCBib29sZWFuIHtcbiAgICByZXR1cm4gdGhpcy52YWx1ZTtcbiAgfVxuXG4gIHB1YmxpYyBvdmVycmlkZSB0b1N0cmluZygpOiBzdHJpbmcge1xuICAgIHJldHVybiBgJHt0aGlzLmZpZWxkfT0ke3RoaXMudmFsdWUudG9TdHJpbmcoKX1gO1xuICB9XG59XG5cbi8qKlxuICogUmVwcmVzZW50cyBhIGdyZWF0ZXIgdGhhbiBleHByZXNzaW9uIGJldHdlZW4gYSBmaWVsZCBhbmQgYSB2YWx1ZS5cbiAqL1xuZXhwb3J0IGNsYXNzIFZlY3RvckZpbHRlckdyZWF0ZXJUaGFuRXhwcmVzc2lvbiBleHRlbmRzIFZlY3RvckZpbHRlckV4cHJlc3Npb24ge1xuICAvKipcbiAgICogVGhlIGZpZWxkIHRvIGNvbXBhcmUuXG4gICAqIEBwcml2YXRlXG4gICAqL1xuICBwcml2YXRlIHJlYWRvbmx5IGZpZWxkOiBzdHJpbmc7XG4gIC8qKlxuICAgKiBUaGUgdmFsdWUgdG8gdGVzdCBmb3IgZ3JlYXRlciB0aGFuLlxuICAgKiBAcHJpdmF0ZVxuICAgKi9cbiAgcHJpdmF0ZSByZWFkb25seSB2YWx1ZTogbnVtYmVyO1xuXG4gIGNvbnN0cnVjdG9yKGZpZWxkOiBzdHJpbmcsIHZhbHVlOiBudW1iZXIpIHtcbiAgICBzdXBlcigpO1xuICAgIHRoaXMuZmllbGQgPSBmaWVsZDtcbiAgICB0aGlzLnZhbHVlID0gdmFsdWU7XG4gIH1cblxuICBwdWJsaWMgZ2V0IEZpZWxkKCk6IHN0cmluZyB7XG4gICAgcmV0dXJuIHRoaXMuZmllbGQ7XG4gIH1cblxuICBwdWJsaWMgZ2V0IFZhbHVlKCk6IG51bWJlciB7XG4gICAgcmV0dXJuIHRoaXMudmFsdWU7XG4gIH1cblxuICBwdWJsaWMgb3ZlcnJpZGUgdG9TdHJpbmcoKTogc3RyaW5nIHtcbiAgICByZXR1cm4gYCR7dGhpcy5maWVsZH0gPiAke3RoaXMudmFsdWUudG9TdHJpbmcoKX1gO1xuICB9XG59XG5cbi8qKlxuICogUmVwcmVzZW50cyBhIGdyZWF0ZXIgdGhhbiBvciBlcXVhbCBleHByZXNzaW9uIGJldHdlZW4gYSBmaWVsZCBhbmQgYSB2YWx1ZS5cbiAqL1xuZXhwb3J0IGNsYXNzIFZlY3RvckZpbHRlckdyZWF0ZXJUaGFuT3JFcXVhbEV4cHJlc3Npb24gZXh0ZW5kcyBWZWN0b3JGaWx0ZXJFeHByZXNzaW9uIHtcbiAgLyoqXG4gICAqIFRoZSBmaWVsZCB0byBjb21wYXJlLlxuICAgKiBAcHJpdmF0ZVxuICAgKi9cbiAgcHJpdmF0ZSByZWFkb25seSBmaWVsZDogc3RyaW5nO1xuICAvKipcbiAgICogVGhlIHZhbHVlIHRvIHRlc3QgZm9yIGdyZWF0ZXIgdGhhbiBvciBlcXVhbC5cbiAgICogQHByaXZhdGVcbiAgICovXG4gIHByaXZhdGUgcmVhZG9ubHkgdmFsdWU6IG51bWJlcjtcblxuICBjb25zdHJ1Y3RvcihmaWVsZDogc3RyaW5nLCB2YWx1ZTogbnVtYmVyKSB7XG4gICAgc3VwZXIoKTtcbiAgICB0aGlzLmZpZWxkID0gZmllbGQ7XG4gICAgdGhpcy52YWx1ZSA9IHZhbHVlO1xuICB9XG5cbiAgcHVibGljIGdldCBGaWVsZCgpOiBzdHJpbmcge1xuICAgIHJldHVybiB0aGlzLmZpZWxkO1xuICB9XG5cbiAgcHVibGljIGdldCBWYWx1ZSgpOiBudW1iZXIge1xuICAgIHJldHVybiB0aGlzLnZhbHVlO1xuICB9XG5cbiAgcHVibGljIG92ZXJyaWRlIHRvU3RyaW5nKCk6IHN0cmluZyB7XG4gICAgcmV0dXJuIGAke3RoaXMuZmllbGR9ID49ICR7dGhpcy52YWx1ZS50b1N0cmluZygpfWA7XG4gIH1cbn1cblxuLyoqXG4gKiBSZXByZXNlbnRzIGEgbGVzcyB0aGFuIGV4cHJlc3Npb24gYmV0d2VlbiBhIGZpZWxkIGFuZCBhIHZhbHVlLlxuICovXG5leHBvcnQgY2xhc3MgVmVjdG9yRmlsdGVyTGVzc1RoYW5FeHByZXNzaW9uIGV4dGVuZHMgVmVjdG9yRmlsdGVyRXhwcmVzc2lvbiB7XG4gIC8qKlxuICAgKiBUaGUgZmllbGQgdG8gY29tcGFyZS5cbiAgICogQHByaXZhdGVcbiAgICovXG4gIHByaXZhdGUgcmVhZG9ubHkgZmllbGQ6IHN0cmluZztcbiAgLyoqXG4gICAqIFRoZSB2YWx1ZSB0byB0ZXN0IGZvciBsZXNzIHRoYW4uXG4gICAqIEBwcml2YXRlXG4gICAqL1xuICBwcml2YXRlIHJlYWRvbmx5IHZhbHVlOiBudW1iZXI7XG5cbiAgY29uc3RydWN0b3IoZmllbGQ6IHN0cmluZywgdmFsdWU6IG51bWJlcikge1xuICAgIHN1cGVyKCk7XG4gICAgdGhpcy5maWVsZCA9IGZpZWxkO1xuICAgIHRoaXMudmFsdWUgPSB2YWx1ZTtcbiAgfVxuXG4gIHB1YmxpYyBnZXQgRmllbGQoKTogc3RyaW5nIHtcbiAgICByZXR1cm4gdGhpcy5maWVsZDtcbiAgfVxuXG4gIHB1YmxpYyBnZXQgVmFsdWUoKTogbnVtYmVyIHtcbiAgICByZXR1cm4gdGhpcy52YWx1ZTtcbiAgfVxuXG4gIHB1YmxpYyBvdmVycmlkZSB0b1N0cmluZygpOiBzdHJpbmcge1xuICAgIHJldHVybiBgJHt0aGlzLmZpZWxkfSA8ICR7dGhpcy52YWx1ZS50b1N0cmluZygpfWA7XG4gIH1cbn1cblxuLyoqXG4gKiBSZXByZXNlbnRzIGEgbGVzcyB0aGFuIG9yIGVxdWFsIGV4cHJlc3Npb24gYmV0d2VlbiBhIGZpZWxkIGFuZCBhIHZhbHVlLlxuICovXG5leHBvcnQgY2xhc3MgVmVjdG9yRmlsdGVyTGVzc1RoYW5PckVxdWFsRXhwcmVzc2lvbiBleHRlbmRzIFZlY3RvckZpbHRlckV4cHJlc3Npb24ge1xuICAvKipcbiAgICogVGhlIGZpZWxkIHRvIGNvbXBhcmUuXG4gICAqIEBwcml2YXRlXG4gICAqL1xuICBwcml2YXRlIHJlYWRvbmx5IGZpZWxkOiBzdHJpbmc7XG4gIC8qKlxuICAgKiBUaGUgdmFsdWUgdG8gdGVzdCBmb3IgbGVzcyB0aGFuIG9yIGVxdWFsLlxuICAgKiBAcHJpdmF0ZVxuICAgKi9cbiAgcHJpdmF0ZSByZWFkb25seSB2YWx1ZTogbnVtYmVyO1xuXG4gIGNvbnN0cnVjdG9yKGZpZWxkOiBzdHJpbmcsIHZhbHVlOiBudW1iZXIpIHtcbiAgICBzdXBlcigpO1xuICAgIHRoaXMuZmllbGQgPSBmaWVsZDtcbiAgICB0aGlzLnZhbHVlID0gdmFsdWU7XG4gIH1cblxuICBwdWJsaWMgZ2V0IEZpZWxkKCk6IHN0cmluZyB7XG4gICAgcmV0dXJuIHRoaXMuZmllbGQ7XG4gIH1cblxuICBwdWJsaWMgZ2V0IFZhbHVlKCk6IG51bWJlciB7XG4gICAgcmV0dXJuIHRoaXMudmFsdWU7XG4gIH1cblxuICBwdWJsaWMgb3ZlcnJpZGUgdG9TdHJpbmcoKTogc3RyaW5nIHtcbiAgICByZXR1cm4gYCR7dGhpcy5maWVsZH0gPD0gJHt0aGlzLnZhbHVlLnRvU3RyaW5nKCl9YDtcbiAgfVxufVxuXG4vKipcbiAqIFJlcHJlc2VudHMgYSBjb250YWlucyBleHByZXNzaW9uIGJldHdlZW4gYSBsaXN0LXZhbHVlZCBmaWVsZCBhbmQgYSB2YWx1ZS5cbiAqL1xuZXhwb3J0IGNsYXNzIFZlY3RvckZpbHRlckxpc3RDb250YWluc0V4cHJlc3Npb24gZXh0ZW5kcyBWZWN0b3JGaWx0ZXJFeHByZXNzaW9uIHtcbiAgLyoqXG4gICAqIFRoZSBmaWVsZCB0byBjb21wYXJlLlxuICAgKiBAcHJpdmF0ZVxuICAgKi9cbiAgcHJpdmF0ZSByZWFkb25seSBmaWVsZDogc3RyaW5nO1xuICAvKipcbiAgICogVGhlIHZhbHVlIHRvIHRlc3QgZm9yIGNvbnRhaW5tZW50LCBpZSBkb2VzIHRoZSBsaXN0IGNvbnRhaW4gdGhpcyB2YWx1ZS5cbiAgICogQHByaXZhdGVcbiAgICovXG4gIHByaXZhdGUgcmVhZG9ubHkgdmFsdWU6IHN0cmluZztcblxuICBjb25zdHJ1Y3RvcihmaWVsZDogc3RyaW5nLCB2YWx1ZTogc3RyaW5nKSB7XG4gICAgc3VwZXIoKTtcbiAgICB0aGlzLmZpZWxkID0gZmllbGQ7XG4gICAgdGhpcy52YWx1ZSA9IHZhbHVlO1xuICB9XG5cbiAgcHVibGljIGdldCBGaWVsZCgpOiBzdHJpbmcge1xuICAgIHJldHVybiB0aGlzLmZpZWxkO1xuICB9XG5cbiAgcHVibGljIGdldCBWYWx1ZSgpOiBzdHJpbmcge1xuICAgIHJldHVybiB0aGlzLnZhbHVlO1xuICB9XG5cbiAgcHVibGljIG92ZXJyaWRlIHRvU3RyaW5nKCk6IHN0cmluZyB7XG4gICAgcmV0dXJuIGAke3RoaXMuZmllbGR9IGNvbnRhaW5zICR7dGhpcy52YWx1ZS50b1N0cmluZygpfWA7XG4gIH1cbn1cbiJdfQ==